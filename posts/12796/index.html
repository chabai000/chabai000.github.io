<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>centos7 | 茶白的博客</title><meta name="author" content="茶白"><meta name="copyright" content="茶白"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1 Linux的引言1234567891011Linux是一套免费使用和自由传播的类Unix操作系统，是一个基于POSIX和Unix的多用户、多任务、支持多线程和多CPU的操作系统。伴随着互联网的发展，Linux得到了来自全世界软件爱好者、组织、公司的支持。它除了在服务器操作系统方面保持着强劲的发展势头以外，在个人电脑、嵌入式系统上都有着长足的进步。目前Linux存在着许多不同的Linux发行版">
<meta property="og:type" content="article">
<meta property="og:title" content="centos7">
<meta property="og:url" content="https://chabai000.github.io/posts/12796/index.html">
<meta property="og:site_name" content="茶白的博客">
<meta property="og:description" content="1 Linux的引言1234567891011Linux是一套免费使用和自由传播的类Unix操作系统，是一个基于POSIX和Unix的多用户、多任务、支持多线程和多CPU的操作系统。伴随着互联网的发展，Linux得到了来自全世界软件爱好者、组织、公司的支持。它除了在服务器操作系统方面保持着强劲的发展势头以外，在个人电脑、嵌入式系统上都有着长足的进步。目前Linux存在着许多不同的Linux发行版">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://api.aqcoder.cn/random">
<meta property="article:published_time" content="2024-05-18T07:14:53.000Z">
<meta property="article:modified_time" content="2024-05-18T07:20:47.107Z">
<meta property="article:author" content="茶白">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://api.aqcoder.cn/random"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://chabai000.github.io/posts/12796/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 茶白","link":"链接: ","source":"来源: 茶白的博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'centos7',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-18 15:20:47'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><style type="text/css">.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><meta name="generator" content="Hexo 7.1.1"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (true) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">31</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fas fa-comments"></i><span> 说说</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://api.aqcoder.cn/random')"><nav id="nav"><span id="blog-info"><a href="/" title="茶白的博客"><span class="site-name">茶白的博客</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fas fa-comments"></i><span> 说说</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">centos7</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-05-18T07:14:53.000Z" title="发表于 2024-05-18 15:14:53">2024-05-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-05-18T07:20:47.107Z" title="更新于 2024-05-18 15:20:47">2024-05-18</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">16.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>60分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="centos7"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20210713002512189.png" alt="在这里插入图片描述"></p>
<h3 id="1-Linux的引言"><a href="#1-Linux的引言" class="headerlink" title="1 Linux的引言"></a>1 Linux的引言</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Linux是一套免费使用和自由传播的类Unix操作系统，</span><br><span class="line">是一个基于POSIX和Unix的多用户、多任务、支持</span><br><span class="line">多线程和多CPU的操作系统。伴随着互联网的发展，</span><br><span class="line">Linux得到了来自全世界软件爱好者、组织、公司的</span><br><span class="line">支持。它除了在服务器操作系统方面保持着强劲</span><br><span class="line">的发展势头以外，在个人电脑、嵌入式系统上都有</span><br><span class="line">着长足的进步。目前Linux存在着许多不同的Linux</span><br><span class="line">发行版本，但它们都使用了Linux内核。Linux可安</span><br><span class="line">装在各种计算机硬件设备中，比如手机、平板电脑、</span><br><span class="line">路由器、台式计算机。</span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020154251486.png" alt="在这里插入图片描述"></p>
<h3 id="2-Linux的诞生"><a href="#2-Linux的诞生" class="headerlink" title="2 Linux的诞生"></a>2 Linux的诞生</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">20世纪80年代，计算机硬件的性能不断提高，PC的市场不断扩大，</span><br><span class="line">当时可供计算机选用的操作系统主要有Unix、DOS和MacOS这几</span><br><span class="line">种。Unix价格昂贵，不能运行于[</span><br><span class="line">PC](https://baike.baidu.com/item/PC/107)；</span><br><span class="line">[<span class="string">DOS</span>](<span class="link">https://baike.baidu.com/item/DOS/32025</span>)显得简陋，</span><br><span class="line">且源代码被软件厂商严格保密；</span><br><span class="line">[<span class="string">MacOS</span>](<span class="link">https://baike.baidu.com/item/MacOS/8654551</span>)</span><br><span class="line">是一种专门用于苹果计算机的操作系统。此时，计算机科</span><br><span class="line">学领域迫切需要一个更加完善、强大、廉价和完全开放的</span><br><span class="line">操作系统。由于供教学使用的典型操作系统很少，因此当</span><br><span class="line">时在荷兰当教授的美国人AndrewS.Tanenbaum编写了一</span><br><span class="line">个操作系统，名为</span><br><span class="line">[<span class="string">MINIX</span>](<span class="link">https://baike.baidu.com/item/MINIX/7106045</span>)，</span><br><span class="line">为了向学生讲述操作系统内部工作原理。MINIX虽然很好，</span><br><span class="line">但只是一个用于教学目的的简单操作系统，而不是一个强</span><br><span class="line">有力的实用操作系统，然而最大的好处就是公开源代码。</span><br><span class="line">全世界学计算机的学生都通过钻研MINIX源代码来了解电</span><br><span class="line">脑里运行的MINIX操作系统，芬兰赫尔辛基大学大学二年</span><br><span class="line">级的学生Linus Torvalds就是其中一个，在吸收了MINIX</span><br><span class="line">精华的基础上，Linus于1991年写出了属于自己的Linux</span><br><span class="line">操作系统，版本为Linux0.01，是Linux时代开始的标志。</span><br><span class="line">他利用Unix的核心，去除繁杂的核心程序，改写成适用</span><br><span class="line">于一般计算机的x86系统，并放在网络上供大家下载，</span><br><span class="line">1994年推出完整的核心Version1.0，至此，Linux逐渐</span><br><span class="line">成为功能完善、稳定的操作系统，并被广泛使用。</span><br><span class="line"></span><br><span class="line">总结:Linux出现于1991年，是由芬兰赫尔辛基大学学生</span><br><span class="line">,Linus Torvalds和后来加入的众多爱好者共同开发完成。</span><br><span class="line">12345678910111213141516171819202122232425262728</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020154346581.png" alt="image-20191011201019566.png"></p>
<h3 id="3-Linux的特点"><a href="#3-Linux的特点" class="headerlink" title="3 Linux的特点"></a>3 Linux的特点</h3><h4 id="3-1-完全免费"><a href="#3-1-完全免费" class="headerlink" title="3.1 完全免费"></a>3.1 完全免费</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Linux是一款免费的操作系统，用户可以通过网络或其他途</span><br><span class="line">径免费获得，并可以任意修改其[源代码]</span><br><span class="line">(https://baike.baidu.com/item/源代码/3969)。</span><br><span class="line">这是其他的操作系统所做不到的。正是由于这</span><br><span class="line">一点，来自全世界的无数[程序员]</span><br><span class="line">(https://baike.baidu.com/item/程序员/62748)</span><br><span class="line">参与了Linux的修改、编写工作，程序员可以根据自己的</span><br><span class="line">兴趣和灵感对其进行改变，这让Linux吸收了无数程序员的</span><br><span class="line">精华，不断壮大。</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>

<h4 id="3-2-多用户、多任务"><a href="#3-2-多用户、多任务" class="headerlink" title="3.2 多用户、多任务"></a>3.2 多用户、多任务</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Linux支持多用户，各个用户对于自己的文件设备有自己特</span><br><span class="line">殊的权利，保证了各用户之间互不影响。多任务则是现在</span><br><span class="line">电脑最主要的一个特点，Linux可以使多个程序同时并独立</span><br><span class="line">地运行。同时丰富的网络功能，可靠的系统安全，良好的</span><br><span class="line">可移植性，具有标准兼容性，出色的速度性能。</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>

<h3 id="4-Linux之Cent-OS"><a href="#4-Linux之Cent-OS" class="headerlink" title="4 Linux之Cent OS"></a>4 Linux之Cent OS</h3><h4 id="4-1-centos-引言"><a href="#4-1-centos-引言" class="headerlink" title="4.1 centos 引言"></a>4.1 centos 引言</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CentOS（Community Enterprise Operating System，中文意</span><br><span class="line">思是社区企业操作系统）是Linux发行版之一，它是来自于</span><br><span class="line">Red Hat Enterprise Linux依照</span><br><span class="line">[<span class="string">开放源代码</span>](<span class="link">https://baike.baidu.com/item/开放源代码/114160</span>)</span><br><span class="line">规定释出的源代码所编译而成。由于出自同样的[<span class="string">源代码</span>](<span class="link">https://baike.baidu.com/item/源代码/3587471</span>)，</span><br><span class="line">因此有些要求高度稳定性的</span><br><span class="line">[<span class="string">服务器</span>](<span class="link">https://baike.baidu.com/item/服务器/100571</span>)</span><br><span class="line">以CentOS替代商业版的[<span class="string">Red Hat</span>](<span class="link">https://baike.baidu.com/item/Red Hat</span>) </span><br><span class="line">Enterprise Linux使用。两者的不同，在于CentOS完全开源。</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>

<h4 id="4-2-centos-和-readheat区别"><a href="#4-2-centos-和-readheat区别" class="headerlink" title="4.2 centos 和 readheat区别"></a>4.2 centos 和 readheat区别</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">目前的Linux操作系统主要应用于生产环境，</span><br><span class="line">主流企业的Linux系统仍旧是RedHat或者</span><br><span class="line">CentOS,他们出自于同样的源代码,但centos</span><br><span class="line">完全免费。其独有的yum命令支持在线升级，</span><br><span class="line">可以即时更新系统，不像RedHat 那样需要花钱购买支持服务！</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>

<h3 id="5-Linux中目录结构"><a href="#5-Linux中目录结构" class="headerlink" title="5 Linux中目录结构"></a>5 Linux中目录结构</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020203612579.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 目录结构	</span></span><br><span class="line"><span class="code">	bin  (binaries)存放二进制可执行文件																									 [重点]</span></span><br><span class="line"><span class="code">	sbin  (super user binaries)存放二进制可执行文件，只有root才能访问</span></span><br><span class="line"><span class="code">	etc (etcetera)存放系统配置文件																											[重点]</span></span><br><span class="line"><span class="code">	usr  (unix shared resources)用于存放共享的系统资源  																	[重点]</span></span><br><span class="line"><span class="code">	home 存放用户文件的根目录																														 [重点]</span></span><br><span class="line"><span class="code">	root  超级用户目录																															   [重点]</span></span><br><span class="line"><span class="code">	dev (devices)用于存放设备文件</span></span><br><span class="line"><span class="code">	lib  (library)存放跟文件系统中的程序运行所需要的共享库及内核模块</span></span><br><span class="line"><span class="code">	mnt  (mount)系统管理员安装临时文件系统的安装点</span></span><br><span class="line"><span class="code">	boot 存放用于系统引导时使用的各种文件</span></span><br><span class="line"><span class="code">	tmp  (temporary)用于存放各种临时文件																							   [重点]</span></span><br><span class="line"><span class="code">	var  (variable)用于存放运行时需要改变数据的文件</span></span><br><span class="line"><span class="code">12345678910111213</span></span><br></pre></td></tr></table></figure>

<h3 id="6-Linux中常用指令"><a href="#6-Linux中常用指令" class="headerlink" title="6 Linux中常用指令"></a>6 Linux中常用指令</h3><h4 id="6-1-cd命令"><a href="#6-1-cd命令" class="headerlink" title="6.1 cd命令"></a>6.1 cd命令</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200919193928504.png" alt="在这里插入图片描述"></p>
<h4 id="6-2-cp命令"><a href="#6-2-cp命令" class="headerlink" title="6.2 cp命令"></a>6.2 cp命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-i	覆盖文件前提示</span><br><span class="line">-r复制目录</span><br><span class="line">-p保留文件属性</span><br><span class="line">cp -rp  [原文件或目录]  [目标目录]</span><br><span class="line">cp  文件名    目录   复制文件到指定目录中</span><br><span class="line">cp  -r 目录名    目录   复制指定目录到指定目录中</span><br><span class="line">-r 递归处理，将指定目录下的文件与子目录一并拷贝（recursive）     </span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>

<h4 id="6-3-cat-命令"><a href="#6-3-cat-命令" class="headerlink" title="6.3 cat 命令"></a>6.3 cat 命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-b	对非空输出行编号</span><br><span class="line">-n	对输出的所有行编号</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h4 id="6-4-chown-chgrp-chmod"><a href="#6-4-chown-chgrp-chmod" class="headerlink" title="6.4 chown&#x2F;chgrp&#x2F;chmod"></a>6.4 chown&#x2F;chgrp&#x2F;chmod</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Linux文件有三种典型的权限，即r读权限、w写权限和x执行权限。在长格式输出</span><br><span class="line">中在文件类型的后面有9列权限位，实际上这是针对不同用户而设定的。r=4，</span><br><span class="line">w=2，x=1</span><br><span class="line"><span class="section"># chmod </span></span><br><span class="line">注意:rwx对目录跟文件的含义不一样,对于目录而</span><br><span class="line">言,r表示可以列出目录内容,w表示可以删除/创建文件,</span><br><span class="line">x表示可以进入目录,对于文件而言,r表示可以查看文件,</span><br><span class="line">w表示可以修改文件,x表示可以执行文件.</span><br><span class="line">all = user + group + other </span><br><span class="line">chmod  u+rwx,g+rwx,o+rwx   文件名</span><br><span class="line">字母法：chmod u/g/o/a +/-/= rwx 文件</span><br><span class="line"></span><br><span class="line">[ u/g/o/a ]	含义</span><br><span class="line">u	user 					表示该文件的所有者</span><br><span class="line">g	group 				表示与该文件的所有者属于同一组( group )者，即用户组</span><br><span class="line">o	other 				表示其他以外的人</span><br><span class="line">a	all 					表示这三者皆是</span><br><span class="line"></span><br><span class="line">[ +-= ]	含义</span><br><span class="line"><span class="bullet">+</span>								增加权限</span><br><span class="line"><span class="bullet">-</span>								撤销权限</span><br><span class="line">=								设定权限</span><br><span class="line"></span><br><span class="line">rwx	含义</span><br><span class="line">r		read 表示可读取，对于一个目录，如果没有r权限，那么就意味着不能通过ls查看这个目录的内容。</span><br><span class="line">w		write 表示可写入，对于一个目录，如果没有w权限，那么就意味着不能在目录下创建新的文件。</span><br><span class="line">x		excute 表示可执行，对于一个目录，如果没有x权限，那么就意味着不能通过cd进入这个目录。</span><br><span class="line"></span><br><span class="line">数字法:   4读 2写  1执行</span><br><span class="line">chmod 777 文件名</span><br><span class="line"></span><br><span class="line">chown 用户名 文件名|目录名   #  修改文件|目录的拥有者</span><br><span class="line">chgrp -R 组名 文件名|目录名   # 递归修改文件|目录的组</span><br><span class="line">chmod -R 755 文件名|目录名  # 递归修改文件权限</span><br><span class="line">12345678910111213141516171819202122232425262728293031323334</span><br></pre></td></tr></table></figure>

<h4 id="6-5-crond任务调度"><a href="#6-5-crond任务调度" class="headerlink" title="6.5 crond任务调度"></a>6.5 crond任务调度</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">minute hour day month week command   # * * * * * </span><br><span class="line">minute： 表示分钟，可以是从0到59之间的任何整数。</span><br><span class="line">hour：表示小时，可以是从0到23之间的任何整数。</span><br><span class="line">day：表示日期，可以是从1到31之间的任何整数。</span><br><span class="line">month：表示月份，可以是从1到12之间的任何整数。</span><br><span class="line">week：表示星期几，可以是从0到7之间的任何整数，这里的0或7代表星期日。</span><br><span class="line">command：要执行的命令，可以是系统命令，也可以是自己编写的脚本文件。</span><br><span class="line"></span><br><span class="line">星号（<span class="emphasis">*）：代表所有可能的值，例如month字段如果是星号，则表示在满足其它字段的制约条件后每月都执行该命令操作。</span></span><br><span class="line"><span class="emphasis">逗号（,）：可以用逗号隔开的值指定一个列表范围，例如，“1,2,5,7,8,9”</span></span><br><span class="line"><span class="emphasis">中杠（-）：可以用整数之间的中杠表示一个整数范围，例如“2-6”表示“2,3,4,5,6”</span></span><br><span class="line"><span class="emphasis">正斜线（/）：可以用正斜线指定时间的间隔频率，例如“0-23/2”表示每两小时执行一次。同时正斜线可以和星号一起使用，例如*</span>/10，如果用在minute字段，表示每十分钟执行一次。</span><br><span class="line"></span><br><span class="line">每小时的每分钟执行  ls –l  /etc/  &gt; /tmp/to.txt 命令</span><br><span class="line">1)	crontab -e</span><br><span class="line">2)	<span class="emphasis">*/1  *</span> * * *  ls -l  /etc &gt;&gt; /tmp/to.txt</span><br><span class="line">3)	当保存退出后就程序。</span><br><span class="line">4)	在每一分钟都会自动的调用 ls -l /etc &gt;&gt; /tmp/to.txt</span><br><span class="line">-e  编辑crontab定时任务</span><br><span class="line">-l  查询crontab任务</span><br><span class="line">-r 删除当前用户所有的crontab任务</span><br><span class="line">123456789101112131415161718192021</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021202526457.jpg" alt="在这里插入图片描述"></p>
<h4 id="6-6-chkconfig-指令"><a href="#6-6-chkconfig-指令" class="headerlink" title="6.6 chkconfig 指令"></a>6.6 chkconfig 指令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">通过chkconfig 命令可以给每个服务的各个运行级</span><br><span class="line">别设置自启动/关闭</span><br><span class="line">12</span><br><span class="line">1)	查看服务 chkconfig	--list|grep	xxx</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021232012957.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021232022316.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2)	chkconfig	服务名	--list</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021232047201.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3)	chkconfig	--level	5	服务名	on/off</span><br><span class="line">请将 sshd 服务在运行级别为	5 的情况下，不要自启动。</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021232132986.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1)	案例 1： 请显示当前系统所有服务的各个运行级别的运行状态</span><br><span class="line">bash&gt; chkconfig --list</span><br><span class="line">2)	案例 2 ：请查看 sshd 服务的运行状态</span><br><span class="line">bash&gt; service sshd status</span><br><span class="line">3)	案例 3： 将 sshd 服务在运行级别 5 下设置为不自动启动，看看有什么效果？</span><br><span class="line">bash&gt; chkconfig --level 5 sshd off</span><br><span class="line">4)	案例 4： 当运行级别为 5 时，关闭防火墙。</span><br><span class="line">bash&gt; chkconfig	--level 5	iptables off</span><br><span class="line">5)	案例 5： 在所有运行级别下，关闭防火墙</span><br><span class="line">bash&gt; chkconfig	iptables off</span><br><span class="line">6)	案例 6： 在所有运行级别下，开启防火墙</span><br><span class="line">bash&gt; chkconfig	iptables	on	</span><br><span class="line">7)	chkconfig 重新设置服务后自启动或关闭，需要重启机器 reboot 才能生效.</span><br><span class="line">12345678910111213</span><br></pre></td></tr></table></figure>

<h4 id="6-7-date-cal"><a href="#6-7-date-cal" class="headerlink" title="6.7 date&#x2F;cal"></a>6.7 date&#x2F;cal</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200919210939300.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">基本语法</span><br><span class="line">1)	date	（功能描述：显示当前时间）</span><br><span class="line">2)	date     &quot;+%Y&quot;（功能描述：显示当前年份）</span><br><span class="line">3)	date     &quot;+%m&quot; 	（功能描述：显示当前月份）</span><br><span class="line">4)	date     &quot;+%d&quot;  （功能描述：显示当前是哪一天）</span><br><span class="line">5)	date &quot;+%Y-%m-%d %H:%M:%S&quot;（功能描述：显示年月日时分秒）</span><br><span class="line"></span><br><span class="line">date	-s	字符串时间 # 设置日期</span><br><span class="line">date	-s &quot;2018-10-10 11:30:30&quot;</span><br><span class="line"></span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure>

<h4 id="6-8-df-du"><a href="#6-8-df-du" class="headerlink" title="6.8 df&#x2F;du"></a>6.8 df&#x2F;du</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200919211016236.png" alt="在这里插入图片描述"></p>
<h5 id="6-8-1-查询系统整体磁盘使用情况"><a href="#6-8-1-查询系统整体磁盘使用情况" class="headerlink" title="6.8.1 查询系统整体磁盘使用情况"></a>6.8.1 查询系统整体磁盘使用情况</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df -h # 查询系统整体磁盘使用情况</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021225442284.png" alt="在这里插入图片描述"></p>
<h5 id="6-8-2-查询指定目录的磁盘占用情况"><a href="#6-8-2-查询指定目录的磁盘占用情况" class="headerlink" title="6.8.2 查询指定目录的磁盘占用情况"></a>6.8.2 查询指定目录的磁盘占用情况</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">du -h	/目录  # 查询指定目录的磁盘占用情况，默认为当前目录</span><br><span class="line">-s 指定目录占用大小汇总</span><br><span class="line">-h 带计量单位</span><br><span class="line">-a 含文件</span><br><span class="line">--max-depth=1	子目录深度</span><br><span class="line"> -c 列出明细的同时，增加汇总值</span><br><span class="line"></span><br><span class="line">查询 /opt 目录的磁盘占用情况，深度为 1</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021230118957.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1)	统计/home 文件夹下文件的个数</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021230357803.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2)	统计/home 文件夹下目录的个数</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/2020102123043849.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3)	统计/home 文件夹下文件的个数，包括子文件夹里的</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021230512907.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4)	统计文件夹下目录的个数，包括子文件夹里的</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021230723960.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5)	以树状显示目录结构</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021230744131.png" alt="在这里插入图片描述"></p>
<h4 id="6-9-echo-wc"><a href="#6-9-echo-wc" class="headerlink" title="6.9 echo&#x2F;&gt;&#x2F;&gt;&gt;&#x2F;wc"></a>6.9 echo&#x2F;&gt;&#x2F;&gt;&gt;&#x2F;wc</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">标准输出重定向</span><br><span class="line">命令 &gt; 文件 以覆盖的方式，把命令的正确输出输出到指定的文件或设备当中</span><br><span class="line">命令&gt;&gt;文件 以追加的方式，把命令的正确输出输出到指定的文件或设备当中。</span><br><span class="line">标准错误输出重定</span><br><span class="line">错误命令2&gt; 以覆盖的方式，把命令的文件错误输出输出到指定的文件或设备当中</span><br><span class="line">错误命令2&gt;文件 以追加的方式，把命令的错误输出输出到指定的文件或设备当中。</span><br><span class="line"></span><br><span class="line">正确输出和错误输出同时保存    </span><br><span class="line">命令 &amp;&gt; 文件 以覆盖的方式，把正确输出和错误输出都保存到同个文件当中。</span><br><span class="line"></span><br><span class="line">命令 &amp;&gt;&gt; 文件 以追加的方式，把正确输出和错误输出都保存到同个文件当中。</span><br><span class="line"></span><br><span class="line">命令 &gt;&gt; 文件1 2&gt;&gt; 文件2  把正确的输出追加到文件1中，把错误的输出追加到文件2中。</span><br><span class="line"></span><br><span class="line">输入重定向wc</span><br><span class="line">[root@localhost ~]# wc [选项] [文件名]</span><br><span class="line">选项:</span><br><span class="line">-c 统计字节数</span><br><span class="line">-w 统计单词数</span><br><span class="line">-l 统计行数</span><br><span class="line"></span><br><span class="line">多命令顺序执行</span><br><span class="line">多命令执行符      格式             作用</span><br><span class="line">；              命令1；命令2       多个命令顺序执行，命令之间没有任何逻辑联系</span><br><span class="line">&amp;&amp;              命令1&amp;&amp;命令2       逻辑与</span><br><span class="line"><span class="code">                                  当命令1正确执行，则命令2才会执行</span></span><br><span class="line"><span class="code">                                  当命令1执行不正确，则命令2不会执行</span></span><br><span class="line"><span class="code">||               命令1||命令2      逻辑或，当命令1执行不正确，则命令2才会执行</span></span><br><span class="line"><span class="code">                                   当命令1正确执行，则命令2不会执行</span></span><br><span class="line"><span class="code">1234567891011121314151617181920212223242526272829</span></span><br></pre></td></tr></table></figure>

<h4 id="6-10-find命令"><a href="#6-10-find命令" class="headerlink" title="6.10 find命令"></a>6.10 find命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法：find  [搜索范围]  [匹配条件]</span><br><span class="line">功能描述：文件搜索</span><br><span class="line"><span class="section">#  find /tmp  -name  init</span></span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="6-11-grep-命令"><a href="#6-11-grep-命令" class="headerlink" title="6.11 grep 命令"></a>6.11 grep 命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Linux 系统中 grep 命令是一种强大的文本搜索工具</span><br><span class="line">grep允许对文本文件进行 模式查找，所谓模式查找，</span><br><span class="line">又被称为正则表达式</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200919200729611.png" alt="在这里插入图片描述"></p>
<h4 id="6-12-help命令"><a href="#6-12-help命令" class="headerlink" title="6.12 help命令"></a>6.12 help命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">功能描述：获得Shell内置命令的帮助信息</span><br><span class="line">范例： $ help cd</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h4 id="6-13-head-指令"><a href="#6-13-head-指令" class="headerlink" title="6.13 head 指令"></a>6.13 head 指令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">head 用于显示文件的开头部分内容，默认情况下 head </span><br><span class="line">指令显示文件的前 10 行内容</span><br><span class="line">基本语法</span><br><span class="line">head  文件	(功能描述：查看文件头 10 行内容)</span><br><span class="line">head -n 5 文件	(功能描述：查看文件头 5 行内容，5 可以是任意行数)</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>

<h4 id="6-14-history-指令"><a href="#6-14-history-指令" class="headerlink" title="6.14 history 指令"></a>6.14 history 指令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">history	（功能描述：查看已经执行过历史命令）  # 显示所有的历史命令</span><br><span class="line">history 10 # 显示最近使用过的 10 个指令。 </span><br><span class="line">！5 # 执行历史编号为 5 的指令</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="6-15-id-who-whoami"><a href="#6-15-id-who-whoami" class="headerlink" title="6.15 id&#x2F;who&#x2F;whoami"></a>6.15 id&#x2F;who&#x2F;whoami</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200919203739974.png" alt="在这里插入图片描述"></p>
<h4 id="6-16-kill和-killall"><a href="#6-16-kill和-killall" class="headerlink" title="6.16 kill和 killall"></a>6.16 kill和 killall</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">若是某个进程执行一半需要停止时，或是已消了很大的系统资源时，</span><br><span class="line">此时可以考虑停止该进程。</span><br><span class="line">使用 kill命令来完成此项任务。</span><br><span class="line"></span><br><span class="line">kill   [选项]进程号（功能描述：通过进程号杀死进程）</span><br><span class="line">killall进程名称（功能描述：通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变</span><br><span class="line">得很慢时很有用）</span><br><span class="line">常用选项：</span><br><span class="line"></span><br><span class="line">-9 :表示强迫进程立即停止</span><br><span class="line">最佳实践：</span><br><span class="line">踢掉某个非法登录用户</span><br><span class="line">123456789101112</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200913221716493.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">终止远程登录服务  sshd,在适当时候再次重启   sshd服务</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200913221826851.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">终止多个  gedit编辑器【killall,通过进程名称来终止进程】</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200913223320545.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">强制杀掉一个终端</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/2020091322344215.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 10.head、tail查看文本中开头或结尾部分的内容</span></span><br><span class="line"><span class="code">		head  -n  5  a.log 查看a.log文件的前5行</span></span><br><span class="line"><span class="code"># 11.tail  -f  b.log 循环读取（fellow）</span></span><br><span class="line"><span class="code"># 12.echo 输出命令</span></span><br><span class="line"><span class="code">echo   I love baby		说明:用来向屏幕输出一句话</span></span><br><span class="line"><span class="code">echo I Love baby  &gt;&gt;  aa.txt	说明:将这段内容输入到 文件中</span></span><br><span class="line"><span class="code">123456</span></span><br></pre></td></tr></table></figure>

<h4 id="6-17-ls-命令"><a href="#6-17-ls-命令" class="headerlink" title="6.17 ls 命令"></a>6.17 ls 命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># ls  显示文件和目录列表	(list)</span></span><br><span class="line"></span><br><span class="line">常用参数:  </span><br><span class="line">-a 显示所有文件，包括隐藏文件</span><br><span class="line">-l 详细信息显示</span><br><span class="line">-d 查看目录属性</span><br><span class="line">-h 人性化显示大小</span><br><span class="line">-i 查看节点</span><br><span class="line">-R   递归显示指定目录下的文件清单，即会显示指定目录分支内各子目录中的文件清单。</span><br><span class="line"></span><br><span class="line">ls 通配符的使用</span><br><span class="line">1234567891011</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200919193658368.png" alt="在这里插入图片描述"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">0. <span class="built_in">ls</span> (查看目录下文件和目录)</span></span><br><span class="line">[root@localhost ~]# ls</span><br><span class="line">aa  aa.txt</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1. <span class="built_in">ls</span> -l (长格式展示文件)</span></span><br><span class="line">[root@localhost ~]# ls -l</span><br><span class="line">总用量 60</span><br><span class="line">drwxrwxr-x      2   user1  user1    4096    Aug 17 09:10 abc</span><br><span class="line">- rw- r-- r--    1   user1  user1    17     Aug 17 09:04 host.conf</span><br><span class="line">- rw- r-- r--    1   user1  user1    38450  Aug 17 09:04 php.ini</span><br><span class="line"></span><br><span class="line">长格式含义:</span><br><span class="line">文件类型 文件权限   链接数  属主    属组    大小   日期   时间    文件名</span><br><span class="line">d     rwxrwxr-x     2     user1  user1 4096  Aug 17 09:10  abc</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2. <span class="built_in">ls</span> -a (显示所有文件)</span></span><br><span class="line">[root@localhost ~]# ls -a</span><br><span class="line">.   aa      .bash_history  .bash_profile  .cshrc  .tcshrc</span><br><span class="line">..  aa.txt  .bash_logout   .bashrc        .pki    .viminfo</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3. <span class="built_in">ls</span> -R (递归显示文件)</span></span><br><span class="line">[root@localhost ~]# ls -R</span><br><span class="line">.:</span><br><span class="line">aa  aa.txt</span><br><span class="line"></span><br><span class="line">./aa:</span><br><span class="line">1234567891011121314151617181920212223242526</span><br></pre></td></tr></table></figure>

<h4 id="6-18-ln"><a href="#6-18-ln" class="headerlink" title="6.18 ln"></a>6.18 ln</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ln</span><br><span class="line">命令英文原意：link</span><br><span class="line">语法：ln-s [原文件] [目标文件 ]# s创建软链接</span><br><span class="line">功能描述：生成链接文件</span><br><span class="line">源文件要使用绝对路径，不能使用相对路径，这样</span><br><span class="line">可以方便移动链接文件后，仍然能够正常使用</span><br><span class="line">范例</span><br><span class="line">$ ln -s /etc/issue  /tmp/issue.soft # 创建文件/etc/issue的软链接/tmp/issue.soft</span><br><span class="line">$ ln /etc/issue /tmp/issue.hard # 创建文件/etc/issue的硬链接tmp/issue.hard</span><br><span class="line">软链接特征：类似Windows快捷方式</span><br><span class="line"></span><br><span class="line">1234567891011</span><br></pre></td></tr></table></figure>

<h4 id="6-19-last、lastlog命令"><a href="#6-19-last、lastlog命令" class="headerlink" title="6.19 last、lastlog命令"></a>6.19 last、lastlog命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">last</span><br><span class="line">语法:last</span><br><span class="line">功能描述:列出目前与过去登入系统的用户信息</span><br><span class="line"></span><br><span class="line">lastlog</span><br><span class="line">语法： lastlog</span><br><span class="line">功能描述:检查某特定用户上次登录的时间</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>

<h4 id="6-20-mkdir命令"><a href="#6-20-mkdir命令" class="headerlink" title="6.20 mkdir命令"></a>6.20 mkdir命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">如果文件 不存在，可以创建一个空白文件</span><br><span class="line">如果文件 已经存在，可以修改文件的末次修改日期</span><br><span class="line">-p	可以递归创建目录</span><br><span class="line">-p 父目录不存在情况下先生成父目录 （parents）       </span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<h4 id="6-21-mv命令"><a href="#6-21-mv命令" class="headerlink" title="6.21 mv命令"></a>6.21 mv命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> -i	覆盖文件前提示</span><br><span class="line">mv 文件名    新文件名      文件改名</span><br><span class="line">1.mv aa.txt bb.txt # 把aa.txt改为bb.txt</span><br><span class="line">mv 文件名    目录名     	文件移动</span><br><span class="line">2.mv aa.txt   bb # 其中那个bb是已存在的目录，则aa.txt被移动到bb目录中</span><br><span class="line">mv 目录名    不存在目录名  目录改名   </span><br><span class="line">3.mv aa bb # 其中bb是不存在的目录，则aa目录被改名为bb</span><br><span class="line">mv 目录名	  已存在目录名  目录移动</span><br><span class="line">4 mv aa bb # 其中bb是已存在的目录，则aa目录被移动到bb目录中.</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>

<h4 id="6-22-more、less命令"><a href="#6-22-more、less命令" class="headerlink" title="6.22 more、less命令"></a>6.22 more、less命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-b	对非空输出行编号</span><br><span class="line">-n	对输出的所有行编号</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200919195501327.png" alt="在这里插入图片描述"></p>
<h4 id="6-23-man命令"><a href="#6-23-man命令" class="headerlink" title="6.23 man命令"></a>6.23 man命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">功能描述：获得帮助信息</span><br><span class="line">范例： $ man ls</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200919213729913.png" alt="在这里插入图片描述"></p>
<h4 id="6-24-mail命令"><a href="#6-24-mail命令" class="headerlink" title="6.24 mail命令"></a>6.24 mail命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mail</span><br><span class="line">语法：mai [用户名]</span><br><span class="line">功能描述：查看发送电子邮件</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="6-25-pwd命令"><a href="#6-25-pwd命令" class="headerlink" title="6.25 pwd命令"></a>6.25 pwd命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.pwd 显示当前工作目录（print working directory）</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="6-26-ping-ip-netstat"><a href="#6-26-ping-ip-netstat" class="headerlink" title="6.26 ping&#x2F;ip&#x2F;netstat"></a>6.26 ping&#x2F;ip&#x2F;netstat</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.ip addr 查看IP地址</span></span><br><span class="line">ip addr 查看IP地址</span><br><span class="line">ip a  简化写法</span><br><span class="line"><span class="section"># 2.ping 测试网络连通性</span></span><br><span class="line">ping 192.168.0.1</span><br><span class="line">ifconfig	  # configure a network interface	 查看/配置计算机当前的网卡配置信息</span><br><span class="line">127.0.0.1 被称为 本地回环/环回地址，一般用来测试本机网卡是否正常</span><br><span class="line"></span><br><span class="line"><span class="section"># 3.netstat</span></span><br><span class="line">语法： netstat [选项]</span><br><span class="line">功能描述：显示网络相关信息</span><br><span class="line">选项</span><br><span class="line">-t：TCP协议</span><br><span class="line">-u:UDP协议</span><br><span class="line">-l:监听</span><br><span class="line">-r:路由</span><br><span class="line">-n:显示IP地址和端口号</span><br><span class="line">范例:</span><br><span class="line">netstat -tlun  查看本机监听的端口</span><br><span class="line">netstat -an 查看本机所有的网络连接</span><br><span class="line">netstat -rn  查看本机路由表</span><br><span class="line">123456789101112131415161718192021</span><br></pre></td></tr></table></figure>

<h4 id="6-27-ps命令"><a href="#6-27-ps命令" class="headerlink" title="6.27 ps命令"></a>6.27 ps命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">进程管理</span><br><span class="line">1)在 LINUX中，每个执行的程序（代码）都称为一个进程。</span><br><span class="line">每一个进程都分配一个 ID号。</span><br><span class="line">2)每一个进程，都会对应一个父进程，而这个父进程可以</span><br><span class="line">复制多个子进程。例如 www服务器。</span><br><span class="line">3)每个进程都可能以两种方式存在的。前台与后台，所谓前</span><br><span class="line">台进程就是用户目前的屏幕上可以进</span><br><span class="line">行操作的。后台进程则是实际在操作，但由于屏幕上无法</span><br><span class="line">看到的进程，通常使用后台方式执行。</span><br><span class="line">4)一般系统的服务都是以后台进程的方式存在，而且都会常</span><br><span class="line">驻在系统中。直到关机才才结束。</span><br><span class="line">1234567891011</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200913220306807.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ps指令详解</span><br><span class="line">1)指令：ps   –aux|grep  xxx，比如我看看有没有   sshd服务</span><br><span class="line">2)指令说明</span><br><span class="line">System V展示风格</span><br><span class="line">USER：用户名称</span><br><span class="line">PID：进程号</span><br><span class="line">%CPU：进程占用 CPU的百分比</span><br><span class="line">%MEM：进程占用物理内存的百分比</span><br><span class="line">VSZ：进程占用的虚拟内存大小（单位：KB）</span><br><span class="line">RSS：进程占用的物理内存大小（单位：KB）</span><br><span class="line">TT：终端名称,缩写  .</span><br><span class="line">STAT：进程状态，其中 S-睡眠，s-表示该进程是会话的先导进程，N-表示进程拥有比普通优先</span><br><span class="line">级更低的优先级，R-正在运行，D-短期等待，Z-僵死进程，T-被跟踪或者被停止等等</span><br><span class="line">STARTED：进程的启动时间</span><br><span class="line">TIME：CPU时间，即进程使用  CPU的总时间</span><br><span class="line">COMMAND：启动进程所用的命令和参数，如果过长会被截断显示</span><br><span class="line">以全格式显示当前所有的进程，查看进程的父进程。</span><br><span class="line">1234567891011121314151617</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200913220704796.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">ps -ef是以全格式显示当前所有的进程</span><br><span class="line">-e显示所有进程。-f全格式。</span><br><span class="line">ps -ef|grep xxx</span><br><span class="line">是 BSD风格</span><br><span class="line">UID：用户  ID</span><br><span class="line">PID：进程  ID</span><br><span class="line">PPID：父进程  ID</span><br><span class="line">C：CPU用于计算执行优先级的因子。数值越大，表明进程是  CPU密集型运算，执行优先级会</span><br><span class="line">降低；数值越小，表明进程是 I/O密集型运算，执行优先级会提高</span><br><span class="line">STIME：进程启动的时间</span><br><span class="line">TTY：完整的终端名称</span><br><span class="line">TIME：CPU时间</span><br><span class="line">CMD：启动进程所用的命令和参数</span><br><span class="line">12345678910111213</span><br><span class="line">如果我们希望查看  sshd进程的父进程号是多少，应该怎样查询</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200913221105935.png" alt="在这里插入图片描述"></p>
<h4 id="6-28-pstree命令"><a href="#6-28-pstree命令" class="headerlink" title="6.28 pstree命令"></a>6.28 pstree命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">查看进程树   pstree</span><br><span class="line">pstree [选项] ,可以更加直观的来看进程信息</span><br><span class="line">-p :显示进程的  PID</span><br><span class="line">-u :显示进程的所属用户</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<h4 id="6-29-rm命令"><a href="#6-29-rm命令" class="headerlink" title="6.29 rm命令"></a>6.29 rm命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> 功能描述：删除文件</span><br><span class="line">-r删除目录  # 删除目录是时需要这个选项，不删除目录时不需要</span><br><span class="line">-f强制执行 # 此选项表示不会提醒，直接删除</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="6-30-rmdir命令"><a href="#6-30-rmdir命令" class="headerlink" title="6.30 rmdir命令"></a>6.30 rmdir命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">范例：$ rmdir /tmp/yxj</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="6-31-r"><a href="#6-31-r" class="headerlink" title="6.31 r!"></a>6.31 r!</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">导入命令执行结果：r！命令</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="6-32-rpm-yum-apt"><a href="#6-32-rpm-yum-apt" class="headerlink" title="6.32 rpm&#x2F;yum&#x2F;apt"></a>6.32 rpm&#x2F;yum&#x2F;apt</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">RPM命令</span><br><span class="line">RPM是RedHat Package Manager（RedHat软件包管理工具）</span><br><span class="line">的缩写，这一文件格式名称虽然打上了RedHat的标志，但是</span><br><span class="line">其原始设计理念是开放式的，现在包括RedHat、CentOS、</span><br><span class="line">SUSE等Linux的分发版本都有采用，可以算是公认的行业</span><br><span class="line">标准了。RPM文件在Linux系统中的安装最为简便,</span><br><span class="line">123456</span><br><span class="line"><span class="section"># rpm 命令  </span></span><br><span class="line"><span class="code">	常用参数:</span></span><br><span class="line"><span class="code">      -i：安装应用程序（install）</span></span><br><span class="line"><span class="code">      -e：卸载应用程序（erase）</span></span><br><span class="line"><span class="code">      -v :(verbose) 显示详细信息</span></span><br><span class="line"><span class="code">      -h :(hash) 显示进度</span></span><br><span class="line"><span class="code">       -q  (query) 查询包是否安装</span></span><br><span class="line"><span class="code">       -R 查询软件包的依赖性(requires)</span></span><br><span class="line"><span class="code">       -p查询未安装包信息(package)</span></span><br><span class="line"><span class="code">       -f查询系统文件属于哪个软件包（file）</span></span><br><span class="line"><span class="code">       -l 列表 (list)</span></span><br><span class="line"><span class="code">      U：升级软件包；（update） </span></span><br><span class="line"><span class="code">      -qa: 显示所有已安装软件包（query all）</span></span><br><span class="line"><span class="code">      </span></span><br><span class="line"><span class="code">[root@localhost ~]#rpm -q 包名 #查询包是否安装</span></span><br><span class="line"><span class="code">[root@localhost ~]# rpm -qa  # 查询所有已经安装RPM包</span></span><br><span class="line"><span class="code">[root@localhost ~]#rpm -qR 包名  # 查询软件包的依赖性</span></span><br><span class="line"><span class="code">[root@localhost ~]#rpm -qi 包名  # 查询软件包详细信息</span></span><br><span class="line"><span class="code">[root@localhost ~]# rpm -ql 包名 # 查询包中文件安装位置</span></span><br><span class="line"><span class="code">[root@localhost ~]#rpm -qf 系统文件名  # 查询系统文件属于哪个RPM包</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">rpm -ivh  xxxx.rpm  # 安装</span><br><span class="line">rpm -evh  xxxx.rpm  # 卸载</span><br><span class="line">rpm -Uvh  xxx.rpm  # 升级</span><br><span class="line"></span><br><span class="line">12345678910111213141516171819202122232425</span><br><span class="line">YUM命令</span><br><span class="line"></span><br><span class="line">Yum（全称为 Yellow dog Updater, Modified）是一个</span><br><span class="line">在Fedora和RedHat以及SUSE、CentOS中的Shell前</span><br><span class="line">端软件包管理器。基於RPM包管理，能够从指定的服</span><br><span class="line">务器自动下载RPM包并且安装，可以自动处理依赖性</span><br><span class="line">关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装。</span><br><span class="line"></span><br><span class="line">例子：</span><br><span class="line"><span class="code">    yum  install  gcc-c++</span></span><br><span class="line"><span class="code">    yum  remove   gcc-c++</span></span><br><span class="line"><span class="code">    yum  update   gcc-c++</span></span><br><span class="line"><span class="code">    </span></span><br><span class="line"><span class="code">    yum install|remove|update  依赖名称</span></span><br><span class="line"><span class="code">[root@localhost yum.repos.d]# yum list #查询所有可用软件包列表</span></span><br><span class="line"><span class="code">[root@localhost yum.repos.d]# yum search 关键字 # 搜索服务器上所有和关键字相关的包</span></span><br><span class="line"><span class="code">12345678910111213141516</span></span><br><span class="line"><span class="code">apt</span></span><br><span class="line"><span class="code">apt 是 Advanced Packaging Tool，是 Linux 下的一款安装包管理工具</span></span><br><span class="line"><span class="code">可以在终端中方便的 安装／卸载／更新软件包</span></span><br><span class="line"><span class="code">安装软件</span></span><br><span class="line"><span class="code">$ sudo apt install 软件包</span></span><br><span class="line"><span class="code"> 卸载软件</span></span><br><span class="line"><span class="code">$ sudo apt remove 软件名</span></span><br><span class="line"><span class="code"> 更新已安装的包</span></span><br><span class="line"><span class="code">$ sudo apt upgrade </span></span><br><span class="line"><span class="code">123456789</span></span><br></pre></td></tr></table></figure>

<h4 id="6-33-runlevel"><a href="#6-33-runlevel" class="headerlink" title="6.33 runlevel"></a>6.33 runlevel</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">查看或者修改默认级别：   vi /etc/inittab</span><br><span class="line">Linux系统有  7种运行级别(runlevel)：常用的是级别 3和   5</span><br><span class="line">运行级别 0：系统停机状态，系统默认运行级别不能设为 0，否则不能正常启动</span><br><span class="line">运行级别 1：单用户工作状态，root权限，用于系统维护，禁止远程登陆</span><br><span class="line">运行级别 2：多用户状态(没有 NFS)，不支持网络</span><br><span class="line">运行级别 3：完全的多用户状态(有 NFS)，登陆后进入控制台命令行模式</span><br><span class="line">运行级别 4：系统未使用，保留</span><br><span class="line">运行级别 5：X11控制台，登陆后进入图形 GUI模式</span><br><span class="line">运行级别 6：系统正常关闭并重启，默认运行级别不能设为 6，否则不能正常启动</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>

<h4 id="6-34-systemctl-服务命令"><a href="#6-34-systemctl-服务命令" class="headerlink" title="6.34 systemctl 服务命令"></a>6.34 systemctl 服务命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># service管理指令：</span></span><br><span class="line">service 服务名     [start | stop | restart | reload | status]</span><br><span class="line">在 CentOS7.0后不再使用   service ,而是  systemctl</span><br><span class="line"><span class="section"># systemctl 服务命令</span></span><br><span class="line">systemctl status|start|stop|restart 服务名  mysqld firewalld(防火墙) network(网络)</span><br><span class="line"><span class="code">	systemctl status 服务名          说明:查看某个服务的运行状态</span></span><br><span class="line"><span class="code">	systemctl start 服务名 					说明:启动某个服务</span></span><br><span class="line"><span class="code">	systemctl restart 服务名 				说明:重启某个服务</span></span><br><span class="line"><span class="code">	systemctl stop 服务名 						说明:停止某个服务</span></span><br><span class="line"><span class="code">查看当前防火墙的状况，关闭防火墙和重启防火墙。	</span></span><br><span class="line"><span class="code">12345678910</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200913230457381.png" alt="在这里插入图片描述"></p>
<h4 id="6-35-shutdown-logout"><a href="#6-35-shutdown-logout" class="headerlink" title="6.35 shutdown&#x2F;logout"></a>6.35 shutdown&#x2F;logout</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">shutdown</span><br><span class="line">重新启动操作系统，其中 now 表示现在</span><br><span class="line">shutdown -r now</span><br><span class="line">立刻关机，其中 now 表示现在</span><br><span class="line">shutdown now</span><br><span class="line">系统在今天的 20:25 会关机</span><br><span class="line">shutdown 20:25</span><br><span class="line">系统再过十分钟后自动关机</span><br><span class="line">shutdown +10</span><br><span class="line">取消之前指定的关机计划</span><br><span class="line">shutdown -c</span><br><span class="line">当我们关机或者重启时，都应该先执行sync指令，</span><br><span class="line">把内存的数据写入磁盘，防止数据丢失</span><br><span class="line">其他关机命令</span><br><span class="line">[root@localhost~]# halt</span><br><span class="line">[root@localhost~]# poweroff</span><br><span class="line">[root(@localhost~]# init 0</span><br><span class="line">reboot</span><br><span class="line">[root@localhost~]# reboot</span><br><span class="line">[root@localhost~]# init 6</span><br><span class="line">系统运行级别</span><br><span class="line">0关机</span><br><span class="line">1单用户</span><br><span class="line">2不完全多用户，不含NFS服务</span><br><span class="line">3完全多用户</span><br><span class="line">4未分配</span><br><span class="line">5图形界面</span><br><span class="line">6重启</span><br><span class="line">logout</span><br><span class="line">[root@localhost ~]# logout</span><br><span class="line">查看或配置网卡信息ifconfig/ping</span><br><span class="line"></span><br><span class="line">1234567891011121314151617181920212223242526272829303132</span><br></pre></td></tr></table></figure>

<h4 id="6-36-ssh-scp"><a href="#6-36-ssh-scp" class="headerlink" title="6.36 ssh&#x2F;scp"></a>6.36 ssh&#x2F;scp</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">SSH 客户端的简单使用</span><br><span class="line">ssh [-p port]  user@remote</span><br><span class="line">user 是在远程机器上的用户名，如果不指定的话默认为当前用户</span><br><span class="line">remote 是远程机器的地址，可以是 IP／域名，或者是 后面会提到的别名</span><br><span class="line">port 是 SSH Server 监听的端口，如果不指定，就为默认值 22</span><br><span class="line">使用 exit 退出当前用户的登录</span><br><span class="line">scp</span><br><span class="line">scp 就是 secure copy，是一个在 Linux 下用来进行 远程拷贝文件 的命令</span><br><span class="line">它的地址格式与 ssh 基本相同，需要注意的是，在指定端口时用的是大写的 -P 而不是小写的</span><br><span class="line">把本地当前目录下的 01.py 文件 复制到 远程 家目录下的 Desktop/01.py</span><br><span class="line">注意：: 后面的路径如果不是绝对路径，则以用户的家目录作为参照路径</span><br><span class="line">scp -P port 01.py user@remote:Desktop/01.py</span><br><span class="line">把远程 家目录下的 Desktop/01.py 文件 复制到 本地当前目录下的 01.py</span><br><span class="line">scp -P port user@remote:Desktop/01.py 01.py</span><br><span class="line">加上 -r 选项可以传送文件夹</span><br><span class="line">把当前目录下的 demo 文件夹 复制到 远程 家目录下的 Desktop</span><br><span class="line">scp -r demo user@remote:Desktop</span><br><span class="line">把远程 家目录下的 Desktop 复制到 当前目录下的 demo 文件夹</span><br><span class="line">scp -r user@remote:Desktop demo</span><br><span class="line">12345678910111213141516171819</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200919202349962.png" alt="在这里插入图片描述"></p>
<h4 id="6-37-su"><a href="#6-37-su" class="headerlink" title="6.37 su"></a>6.37 su</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">切换用户身份su</span><br><span class="line">[root@localhos ~]#su [选项] 用户名</span><br><span class="line">选项：</span><br><span class="line">-:选项只使用“-”代表连带用户的环境变量一起切换</span><br><span class="line">-c命令:仅执行一次命令，而不切换用户身份</span><br><span class="line"></span><br><span class="line">[lamp@localhost ~]su - root #切换成oot</span><br><span class="line">[lamp@localhost]$ su - root -c &quot;useradd user3&quot; # 不切换成oot，但是执行useradd命令添加uer1用户</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200919210256256.png" alt="在这里插入图片描述"></p>
<h4 id="6-38-source命令"><a href="#6-38-source命令" class="headerlink" title="6.38 source命令"></a>6.38 source命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">source命令</span><br><span class="line">[root@localhost ~]# source 配置文件  #  source /etc/profile</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h4 id="6-39-touch命令"><a href="#6-39-touch命令" class="headerlink" title="6.39 touch命令"></a>6.39 touch命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">如果文件 不存在，可以创建一个空白文件</span><br><span class="line">如果文件 已经存在，可以修改文件的末次修改日期</span><br><span class="line">-p	可以递归创建目录</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="6-40-tar命令"><a href="#6-40-tar命令" class="headerlink" title="6.40 tar命令"></a>6.40 tar命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Windows 常用 rar</span><br><span class="line">Mac 常用 zip</span><br><span class="line">Linux 常用 tar.gz</span><br><span class="line">打包 ／ 解包</span><br><span class="line">tar 是 Linux 中最常用的 备份工具，此命令可以 把一系列文件 打包到 一个大文件中，也可以把一个 打包的大文件恢复成一系列文件</span><br><span class="line">tar 的命令格式如下：</span><br><span class="line"> 打包文件</span><br><span class="line">tar -cvf 打包文件.    tar 被打包的文件／路径...</span><br><span class="line">解包文件</span><br><span class="line">tar -xvf 打包文件.tar</span><br><span class="line">tar 选项说明</span><br><span class="line">1234567891011</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200919212855883.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">压缩／解压缩</span><br><span class="line">压缩文件</span><br><span class="line">tar -zcvf 打包文件.tar.gz 被压缩的文件／路径...</span><br><span class="line"> 解压缩文件</span><br><span class="line">tar -zxvf 打包文件.tar.gz</span><br><span class="line">解压缩到指定路径</span><br><span class="line">tar -zxvf 打包文件.tar.gz -C 目标路径</span><br><span class="line">-C 解压缩到指定目录，注意：要解压缩的目录必须存在</span><br><span class="line">bzip2</span><br><span class="line">压缩文件</span><br><span class="line">tar -jcvf 打包文件.tar.bz2  被压缩的文件／路径...</span><br><span class="line">解压缩文件</span><br><span class="line">tar -jxvf  打包文件.tar.bz2</span><br><span class="line">12345678910111213</span><br></pre></td></tr></table></figure>

<h4 id="6-41-top命令"><a href="#6-41-top命令" class="headerlink" title="6.41 top命令"></a>6.41 top命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">top	命令  动态显示系统进程</span><br><span class="line">top与ps命令很相似。它们都用来显示正在执行的进程。Top与ps最大的不同之处，在于  top在执行一段时间可以更新正在运行的的进程。</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200913235827849.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">案例 1.监视特定用户</span><br><span class="line">top：输入此命令，按回车键，查看执行的进程。</span><br><span class="line">u：然后输入“u”回车，再输入用户名，即可</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200914000005812.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">案例 2：终止指定的进程。</span><br><span class="line">top：输入此命令，按回车键，查看执行的进程。</span><br><span class="line">k：然后输入“k”回车，再输入要结束的进程 ID号</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200914000107315.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">案例 3:指定系统状态更新的时间(每隔 10秒自动更新，默认是   3秒)：</span><br><span class="line">bash&gt; top -d 10</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h4 id="6-42-tree-命令"><a href="#6-42-tree-命令" class="headerlink" title="6.42 tree 命令"></a>6.42 tree 命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tree 命令可以以树状图列出文件目录结构</span><br><span class="line">-d	只显示目录</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h4 id="6-43-traceroute命令"><a href="#6-43-traceroute命令" class="headerlink" title="6.43 traceroute命令"></a>6.43 traceroute命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法： traceroute 网址</span><br><span class="line">功能描述：显示数据包到主机间的路径</span><br><span class="line">范例：#traceroute www.lampbrother.net</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="6-44-tail指令"><a href="#6-44-tail指令" class="headerlink" title="6.44 tail指令"></a>6.44 tail指令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tail 用于输出文件中尾部的内容，默认情况下 tail 指令显示文件的后 10 行内容。</span><br><span class="line">基本语法</span><br><span class="line">1)	tail	文件	（功能描述：查看文件后 10 行内容）</span><br><span class="line">2)	tail	-n 5 文件	（功能描述：查看文件后 5 行内容，5 可以是任意行数）</span><br><span class="line">3)	tail	-f	文件	（功能描述：实时追踪该文档的所有更新，工作经常使用）</span><br><span class="line"></span><br><span class="line">123456</span><br></pre></td></tr></table></figure>

<h4 id="6-45-useradd-passwd-userdel"><a href="#6-45-useradd-passwd-userdel" class="headerlink" title="6.45 useradd&#x2F;passwd&#x2F;userdel"></a>6.45 useradd&#x2F;passwd&#x2F;userdel</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200919203625134.png" alt="在这里插入图片描述"></p>
<h4 id="6-46-usermod命令"><a href="#6-46-usermod命令" class="headerlink" title="6.46 usermod命令"></a>6.46 usermod命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 修改用户的主组（passwd 中的 GID）</span></span><br><span class="line">usermod -g 组 用户名</span><br><span class="line"><span class="section"># 修改用户的附加组</span></span><br><span class="line">usermod -G 组 用户名</span><br><span class="line"><span class="section"># 修改用户登录 Shell</span></span><br><span class="line">usermod -s  /bin/bash  用户名</span><br><span class="line">注意：默认使用 useradd 添加的用户是没有权限使用 sudo 以 root 身份执行命令的，可以使用以下命令，将用户添加到 sudo 附加组中</span><br><span class="line">usermod -G sudo 用户名</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<h4 id="6-47-which命令"><a href="#6-47-which命令" class="headerlink" title="6.47 which命令"></a>6.47 which命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">功能描述：搜索命令所在目录及别名信息</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="6-48-whereis命令"><a href="#6-48-whereis命令" class="headerlink" title="6.48 whereis命令"></a>6.48 whereis命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">功能描述：搜索命令所在目录及帮助文档路径</span><br><span class="line">范例：$ whereis ls</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h4 id="6-49-w命令"><a href="#6-49-w命令" class="headerlink" title="6.49 w命令"></a>6.49 w命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">功能描述：查看登录用户详细信息</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="6-50-write命令"><a href="#6-50-write命令" class="headerlink" title="6.50 write命令"></a>6.50 write命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">write</span><br><span class="line">语法：write &lt;用户名&gt;</span><br><span class="line">功能描述：给用户发信息，以Ctrl+D保存结束</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="6-51-wall命令"><a href="#6-51-wall命令" class="headerlink" title="6.51 wall命令"></a>6.51 wall命令</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">语法：wall message</span><br><span class="line">功能描述：发广播信息</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h4 id="6-52-正则表达式与通配符"><a href="#6-52-正则表达式与通配符" class="headerlink" title="6.52 正则表达式与通配符"></a>6.52 正则表达式与通配符</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">正则表达式与通配符</span><br><span class="line">正则表达式用来在文件中匹配符合条件的字符串，正则是包含匹配。</span><br><span class="line">grep/awk/sed等命令可以支持正则表达式。</span><br><span class="line">通配符用来匹配符合条件的文件名，通配符是完全匹配。ls、find、cp这些命令不</span><br><span class="line">支持正则表达式，所以只能使用shell自己的通配符来进行匹配了。</span><br><span class="line"><span class="bullet">*</span> 前一个字符匹配0次，或任意多次</span><br><span class="line">.匹配除了换行符外任意一个字符</span><br><span class="line">“^”匹配行首，“$”匹配行尾</span><br><span class="line">“[]”匹配中括号中指定的任意一个字符，只匹配一个字符</span><br><span class="line">“[^]”匹配除中括号的字符以外的任意一个字符</span><br><span class="line">“\&#123;n\&#125;”表示其前面的字符恰好出现n次</span><br><span class="line">“&#123;n，\&#125;” 表示其前面的字符出现不小于n次</span><br><span class="line">“&#123;n，m\&#125;”匹配其前面的字符至少出现n次，最多出现m次</span><br><span class="line">12345678910111213</span><br></pre></td></tr></table></figure>

<h4 id="6-53-分区"><a href="#6-53-分区" class="headerlink" title="6.53 分区"></a>6.53 分区</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">硬盘说明</span><br><span class="line">1)	Linux 硬盘分 IDE 硬盘和 SCSI 硬盘，目前基本上是 SCSI 硬盘</span><br><span class="line">2)	对于 IDE 硬盘，驱动器标识符为“hdx~”,其中“hd”表明分</span><br><span class="line">区所在设备的类型，这里是指 IDE 硬盘了。“x”为盘号</span><br><span class="line">（a 为基本盘，b 为基本从属盘，c 为辅助主盘，d 为</span><br><span class="line">辅助从属盘）,“~”代表分区， 前四个分区用数字 1 到 4 </span><br><span class="line">表示，它们是主分区或扩展分区，从 5 开始就是逻辑</span><br><span class="line">分区。例，hda3 表示为第一个IDE 硬盘上的 第三个主</span><br><span class="line">分区或扩展分区,hdb2 表示为第二个IDE 硬盘上的 第</span><br><span class="line">二个主分区或扩展分区。</span><br><span class="line">3)	对于 SCSI 硬盘则标识为“sdx~”，SCSI 硬盘是用“sd”来表</span><br><span class="line">示分区所在设备的类型的，其余则和 IDE 硬盘的表示方法一样。</span><br><span class="line">123456789101112</span><br><span class="line">使用lsblk 指令查看当前系统的分区情况</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021223321335.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021223351603.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">挂硬盘</span><br><span class="line">1)	虚拟机添加硬盘</span><br><span class="line">2)	分区 	fdisk /dev/sdb</span><br><span class="line">3)	格式化	mkfs	-t ext4	/dev/sdb1</span><br><span class="line">4)	挂载	先创建一个 /home/newdisk	,  挂载 mount	/dev/sdb1	/home/newdisk</span><br><span class="line">5)	设置可以自动挂载(永久挂载，当你重启系统，仍然可以挂载到 /home/newdisk) 。</span><br><span class="line">vim	/etc/fstab</span><br><span class="line">/dev/sdb1	/home/newdisk	ext4	defaults	0 0</span><br><span class="line">6)加完成后 执行 mount	–a 即刻生效</span><br><span class="line"></span><br><span class="line"><span class="section"># 卸载</span></span><br><span class="line">umount	设备名称 或者	挂载目录</span><br><span class="line">umount	/dev/sdb1 或者 umount	/newdisk</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">123456789101112131415</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021224917101.png" alt="在这里插入图片描述"></p>
<h4 id="6-54-脚本的常用执行方式"><a href="#6-54-脚本的常用执行方式" class="headerlink" title="6.54 脚本的常用执行方式"></a>6.54 脚本的常用执行方式</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">赋予执行权限，直接运行</span><br><span class="line">chmod 755 hello.sh</span><br><span class="line"> ./hello. sh</span><br><span class="line">通过Bash调用执行脚本</span><br><span class="line">bash hello.sh</span><br><span class="line"></span><br><span class="line">1)	脚本以#!/bin/bash 开头</span><br><span class="line">2)	脚本需要有可执行权限</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021233018777.png" alt="在这里插入图片描述"></p>
<h5 id="6-54-1-变量"><a href="#6-54-1-变量" class="headerlink" title="6.54.1 变量"></a>6.54.1 变量</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">系统变量和用户自定义变量。</span><br><span class="line">系统变量：$HOME、$PWD、$SHELL、$USER</span><br><span class="line">显示当前 shell 中所有变量：set</span><br><span class="line">基本语法</span><br><span class="line">1)定义变量：变量=值 </span><br><span class="line">2)撤销变量：unset 变量</span><br><span class="line">3) 声明静态变量：readonly 变量，注意：不能 unset</span><br><span class="line"></span><br><span class="line">定义变量的规则</span><br><span class="line">1)	变量名称可以由字母、数字和下划线组成，但是不能以数字开头。</span><br><span class="line">2)	等号两侧不能有空格</span><br><span class="line">3)	变量名称一般习惯为大写</span><br><span class="line"></span><br><span class="line">将命令的返回值赋给变量</span><br><span class="line">1）	A=<span class="code">`ls -la`</span> 反引号，运行里面的命令，并把结果返回给变量 A</span><br><span class="line">2）	A=$(ls -la) 等价于反引号</span><br><span class="line"></span><br><span class="line">设置环境变量</span><br><span class="line">1)	export 变量名=变量值 （功能描述：将 shell 变量输出为环境变量）</span><br><span class="line">2)	source  配置文件	（功能描述：让修改后的配置信息立即生效）  # source /etc/profile</span><br><span class="line">3)	echo $变量名	（功能描述：查询环境变量的值）</span><br><span class="line"></span><br><span class="line">位置参数变量</span><br><span class="line">基本语法</span><br><span class="line">$n （功能描述：n 为数字，$0 代表命令本身，$1-$9 代表第一到第九个参数，十以上的参数，十以上的参数需要用大括号包含，如$&#123;10&#125;）</span><br><span class="line">$* （功能描述：这个变量代表命令行中所有的参数，$<span class="emphasis">*把所有的参数看成一个整体）</span></span><br><span class="line"><span class="emphasis">$@（功能描述：这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待）</span></span><br><span class="line"><span class="emphasis">$#（功能描述：这个变量代表命令行中所有参数的个数）</span></span><br><span class="line"><span class="emphasis">12345678910111213141516171819202122232425262728</span></span><br><span class="line"><span class="emphasis">位置参数变量应用实例</span></span><br><span class="line"><span class="emphasis">编写一个 shell 脚本 positionPara.sh  ， 在脚本中获取到命令行的各个参数信息</span></span><br><span class="line"><span class="emphasis">12</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201022100232531.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201022100252939.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">预定义变量</span><br><span class="line">基本语法</span><br><span class="line">$$ （功能描述：当前进程的进程号（PID））</span><br><span class="line">$! （功能描述：后台运行的最后一个进程的进程号（PID））</span><br><span class="line">$？ （功能描述：最后一次执行的命令的返回状态。如果这个变量的值为 0，证明上一个命令正确执行；如果这个变量的值为非 0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。）</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>

<h5 id="6-54-2-运算符"><a href="#6-54-2-运算符" class="headerlink" title="6.54.2 运算符"></a>6.54.2 运算符</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1) “$((运算式))”或“$[运算式]”</span><br><span class="line">2)	expr m + n</span><br><span class="line">注意 expr 运算符间要有空格</span><br><span class="line">3)	expr m - n</span><br><span class="line">4)	expr	\<span class="emphasis">*, /, %	乘，除，取余</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">123456</span></span><br></pre></td></tr></table></figure>

<h5 id="6-54-3-条件判断"><a href="#6-54-3-条件判断" class="headerlink" title="6.54.3 条件判断"></a>6.54.3 条件判断</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1)	两个整数的比较</span><br><span class="line">= 字符串比较</span><br><span class="line">-lt 小于</span><br><span class="line">-le 小于等于</span><br><span class="line">-eq 等于</span><br><span class="line">-gt 大于</span><br><span class="line">-ge 大于等于</span><br><span class="line">-ne 不等于</span><br><span class="line">2)	按照文件权限进行判断</span><br><span class="line">-r 有读的权限 [ -r 文件 ]</span><br><span class="line">-w 有写的权限</span><br><span class="line">-x 有执行的权限</span><br><span class="line">3)	按照文件类型进行判断</span><br><span class="line">-f 文件存在并且是一个常规的文件</span><br><span class="line">-e 文件存在</span><br><span class="line">-d 文件存在并是一个目录</span><br><span class="line"></span><br><span class="line">1234567891011121314151617</span><br></pre></td></tr></table></figure>

<h5 id="6-54-4-流程控制"><a href="#6-54-4-流程控制" class="headerlink" title="6.54.4 流程控制"></a>6.54.4 流程控制</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if</span><br><span class="line"></span><br><span class="line">if [ 条件判断式 ] </span><br><span class="line">then</span><br><span class="line"><span class="code">    代码</span></span><br><span class="line"><span class="code">elif [条件判断式]</span></span><br><span class="line"><span class="code"> then</span></span><br><span class="line"><span class="code">    代码</span></span><br><span class="line"><span class="code">fi</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201022102345150.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">case</span><br><span class="line"></span><br><span class="line">case $变量名 in </span><br><span class="line">&quot;值 1&quot;）</span><br><span class="line">如果变量的值等于值 1，则执行程序 1</span><br><span class="line">;;</span><br><span class="line">&quot;值 2&quot;）</span><br><span class="line">如果变量的值等于值 2，则执行程序 2</span><br><span class="line">;;</span><br><span class="line">…省略其他分支…</span><br><span class="line"><span class="emphasis">*）</span></span><br><span class="line"><span class="emphasis">如果变量的值都不是以上的值，则执行此程序</span></span><br><span class="line"><span class="emphasis"> ;;</span></span><br><span class="line"><span class="emphasis">esac</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">123456789101112131415</span></span><br><span class="line"><span class="emphasis">当命令行参数是 1  时，输出 &quot;周一&quot;,  是 2  时，就输出&quot;周二&quot;， 其它情况输出	&quot;other&quot;</span></span><br><span class="line"><span class="emphasis">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201022102639175.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">for 循环</span><br><span class="line"></span><br><span class="line">基本语法 1</span><br><span class="line">for 变量 in 值 1  值 2  值 3…</span><br><span class="line">do</span><br><span class="line"><span class="code">    程序</span></span><br><span class="line"><span class="code">done</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"></span><br><span class="line">基本语法 2</span><br><span class="line">for (( 初始值;循环控制条件;变量变化 )) </span><br><span class="line">do</span><br><span class="line">程序</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">12345678910111213141516</span><br><span class="line">打印命令行输入的参数	【会使用到$* $@】</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201022102820942.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">从 1 加到 100 的值输出显示</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201022103034922.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">while 循环</span><br><span class="line"></span><br><span class="line">基本语法 1</span><br><span class="line">while [ 条件判断式 ] </span><br><span class="line">do</span><br><span class="line"> 程序</span><br><span class="line">done</span><br><span class="line">1234567</span><br><span class="line">从命令行输入一个数 n，统计从 1+..+ n  的值是多少</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/2020102210365560.png" alt="在这里插入图片描述"></p>
<h5 id="6-54-5-read-读取控制台输入"><a href="#6-54-5-read-读取控制台输入" class="headerlink" title="6.54.5 read 读取控制台输入"></a>6.54.5 read 读取控制台输入</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">read  (选项)   (参数)</span><br><span class="line">选项：</span><br><span class="line"> -p：指定读取值时的提示符；</span><br><span class="line">-t：指定读取值时等待的时间（秒），如果没有在指定的时间内输入，就不再等待了。。</span><br><span class="line"></span><br><span class="line">12345</span><br><span class="line">案例 1：读取控制台输入一个 num 值</span><br><span class="line">案例 2：读取控制台输入一个 num 值，在 10 秒内输入。</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201022104035449.png" alt="在这里插入图片描述"></p>
<h4 id="6-55-vim"><a href="#6-55-vim" class="headerlink" title="6.55 vim"></a>6.55 vim</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Vim是一个功能强大的全屏幕文本编辑器,</span><br><span class="line">是Linux/UNIX上最常用的文本编辑器,</span><br><span class="line">它的作用是建立、编辑、显示文本文件.</span><br><span class="line">Vim没有菜单，只有命令</span><br><span class="line">Vim工作模式</span><br><span class="line">vi有三种基本工作模式：</span><br><span class="line">命令模式</span><br><span class="line">打开文件首先进入命令模式，是使用 vi的 入口</span><br><span class="line">通过 命令 对文件进行常规的编辑操作，例如：定位、</span><br><span class="line">翻页、复制、粘贴、删除……</span><br><span class="line">在其他图形编辑器下，通过 快捷键<span class="emphasis">*或者 鼠标实现的操作，</span></span><br><span class="line"><span class="emphasis">都在 命令模式下实现</span></span><br><span class="line"><span class="emphasis">末行模式—— 执行 保存、退出 等操作 </span></span><br><span class="line"><span class="emphasis">要退出 vi返回到控制台，需要在末行模式下输入命令</span></span><br><span class="line"><span class="emphasis">末行模式是 vi的 出口</span></span><br><span class="line"><span class="emphasis">编辑模式 —— 正常的编辑文字</span></span><br><span class="line"><span class="emphasis">12345678910111213141516</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200923222836890.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">在日常工作中，有可能会遇到 打开一个文件，并定位到指定行的情况</span><br><span class="line">例如：在开发时，知道某一行代码有错误，可以 快速定位 到出错代</span><br><span class="line">码的位置</span><br><span class="line">这个时候，可以使用以下命令打开文件</span><br><span class="line">vi 文件名 +行数</span><br><span class="line">提示：如果只带上 +而不指定行号，会直接定位到文件末尾</span><br><span class="line">123456</span><br></pre></td></tr></table></figure>

<h5 id="6-55-1-末行模式命令"><a href="#6-55-1-末行模式命令" class="headerlink" title="6.55.1 末行模式命令"></a>6.55.1 末行模式命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>英文</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>w</td>
<td>write</td>
<td>保存</td>
</tr>
<tr>
<td>q</td>
<td>quit</td>
<td>退出，如果没有保存，不允许退出</td>
</tr>
<tr>
<td>q!</td>
<td>quit</td>
<td>强行退出，不保存退出</td>
</tr>
<tr>
<td>wq</td>
<td>write &amp; quit</td>
<td>保存并退出</td>
</tr>
<tr>
<td>x</td>
<td></td>
<td>保存并退出</td>
</tr>
</tbody></table>
<h5 id="6-55-2-移动"><a href="#6-55-2-移动" class="headerlink" title="6.55.2 移动"></a>6.55.2 移动</h5><table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
<th>手指</th>
</tr>
</thead>
<tbody><tr>
<td>h</td>
<td>向左</td>
<td>食指</td>
</tr>
<tr>
<td>j</td>
<td>向下</td>
<td>食指</td>
</tr>
<tr>
<td>k</td>
<td>向上</td>
<td>中指</td>
</tr>
<tr>
<td>l</td>
<td>向右</td>
<td>无名指</td>
</tr>
</tbody></table>
<h6 id="6-55-2-1-行内移动"><a href="#6-55-2-1-行内移动" class="headerlink" title="6.55.2.1 行内移动"></a>6.55.2.1 行内移动</h6><table>
<thead>
<tr>
<th>命令</th>
<th>英文</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>w</td>
<td>word</td>
<td>向后移动一个单词</td>
</tr>
<tr>
<td>b</td>
<td>back</td>
<td>向前移动一个单词</td>
</tr>
<tr>
<td>0</td>
<td></td>
<td>行首</td>
</tr>
<tr>
<td>^</td>
<td></td>
<td>行首，第一个不是空白字符的位置</td>
</tr>
<tr>
<td>$</td>
<td></td>
<td>行尾</td>
</tr>
</tbody></table>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">定位命令</span><br><span class="line">set nu设置行号</span><br><span class="line">set nonu 取消行号</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h6 id="6-55-2-2-行数移动"><a href="#6-55-2-2-行数移动" class="headerlink" title="6.55.2.2 行数移动"></a>6.55.2.2 行数移动</h6><table>
<thead>
<tr>
<th>命令</th>
<th>英文</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>$</td>
<td>$</td>
<td>移至行尾</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>移至行首</td>
</tr>
<tr>
<td>gg</td>
<td>go</td>
<td>文件顶部</td>
</tr>
<tr>
<td>G</td>
<td>go</td>
<td>文件末尾</td>
</tr>
<tr>
<td>数字gg</td>
<td>go</td>
<td>移动到 数字 对应行数</td>
</tr>
<tr>
<td>数字G</td>
<td>go</td>
<td>移动到 数字 对应行数</td>
</tr>
<tr>
<td>:数字</td>
<td></td>
<td>移动到 数字 对应行数</td>
</tr>
<tr>
<td>:n</td>
<td>:n</td>
<td>到第n行</td>
</tr>
</tbody></table>
<h6 id="6-55-2-3-屏幕移动"><a href="#6-55-2-3-屏幕移动" class="headerlink" title="6.55.2.3 屏幕移动"></a>6.55.2.3 屏幕移动</h6><table>
<thead>
<tr>
<th>命令</th>
<th>英文</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>Ctrl + b</td>
<td>back</td>
<td>向上翻页</td>
</tr>
<tr>
<td>Ctrl + f</td>
<td>forward</td>
<td>向下翻页</td>
</tr>
<tr>
<td>H</td>
<td>Head</td>
<td>屏幕顶部</td>
</tr>
<tr>
<td>M</td>
<td>Middle</td>
<td>屏幕中间</td>
</tr>
<tr>
<td>L</td>
<td>Low</td>
<td>屏幕底部</td>
</tr>
</tbody></table>
<h6 id="6-55-2-4-段落移动"><a href="#6-55-2-4-段落移动" class="headerlink" title="6.55.2.4 段落移动"></a>6.55.2.4 段落移动</h6><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi中使用 空行 来区分段落</span><br><span class="line">在程序开发时，通常 一段功能相关的代码会写在一起 —— 之间</span><br><span class="line">没有空行</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>{</td>
<td>上一段</td>
</tr>
<tr>
<td>}</td>
<td>下一段</td>
</tr>
</tbody></table>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">括号切换</span><br><span class="line">在程序世界中，()、[]、&#123;&#125; 使用频率很高，而且 都是成对出现的</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>%</td>
<td>括号匹配及切换</td>
</tr>
</tbody></table>
<h5 id="6-55-3-标记"><a href="#6-55-3-标记" class="headerlink" title="6.55.3 标记"></a>6.55.3 标记</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">在开发时，某一块代码可能需要稍后处理，例如：编辑、查看</span><br><span class="line">此时先使用 m增加一个标记，这样可以 在需要时快速地跳转</span><br><span class="line">回来 或者 执行其他编辑操作</span><br><span class="line">标记名称 可以是 a~z 或者A~Z之间的任意 一个 字母</span><br><span class="line">添加了标记的 行如果被删除，标记同时被删除</span><br><span class="line">如果 在其他行添加了相同名称的标记，之前添加的标记也会被替换掉</span><br><span class="line">123456</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>命令</th>
<th>英文</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>mx</td>
<td>mark</td>
<td>添加标记 x，x 是 a<del>z 或者 A</del>Z 之间的任意一个字母</td>
</tr>
<tr>
<td>‘x</td>
<td></td>
<td>直接定位到标记 x 所在位置</td>
</tr>
</tbody></table>
<h5 id="6-55-4-选中文本（可视模式）"><a href="#6-55-4-选中文本（可视模式）" class="headerlink" title="6.55.4 选中文本（可视模式）"></a>6.55.4 选中文本（可视模式）</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">按 ESC 可以放弃选中，返回到 命令模式</span><br><span class="line">可视模式下，可以和 移动命令 连用，例如：ggVG</span><br><span class="line">能够选中所有内容</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>命令</th>
<th>模式</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>v</td>
<td>可视模式</td>
<td>从光标位置开始按照正常模式选择文本</td>
</tr>
<tr>
<td>V</td>
<td>可视行模式</td>
<td>选中光标经过的完整行</td>
</tr>
<tr>
<td>Ctrl + v</td>
<td>可视块模式</td>
<td>垂直方向选中文本</td>
</tr>
</tbody></table>
<h5 id="6-55-5-撤销和恢复撤销"><a href="#6-55-5-撤销和恢复撤销" class="headerlink" title="6.55.5 撤销和恢复撤销"></a>6.55.5 撤销和恢复撤销</h5><table>
<thead>
<tr>
<th>命令</th>
<th>英文</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>u</td>
<td>undo</td>
<td>撤销上次命令</td>
</tr>
<tr>
<td>CTRL + r</td>
<td>redo</td>
<td>恢复撤销的命令</td>
</tr>
</tbody></table>
<h5 id="6-55-6-删除文本"><a href="#6-55-6-删除文本" class="headerlink" title="6.55.6 删除文本"></a>6.55.6 删除文本</h5><table>
<thead>
<tr>
<th>命令</th>
<th>英文</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>x</td>
<td>cut</td>
<td>删除光标所在字符，或者选中文字 ,nX 删除光标所在处后n个字符</td>
</tr>
<tr>
<td>d(移动命令)</td>
<td>delete</td>
<td>删除移动命令对应的内容</td>
</tr>
<tr>
<td>dd</td>
<td>delete</td>
<td>删除光标所在行ndd删除n行</td>
</tr>
<tr>
<td>D</td>
<td>delete</td>
<td>删除至行尾</td>
</tr>
</tbody></table>
<h5 id="6-55-7-复制、粘贴"><a href="#6-55-7-复制、粘贴" class="headerlink" title="6.55.7 复制、粘贴"></a>6.55.7 复制、粘贴</h5><table>
<thead>
<tr>
<th>命令</th>
<th>英文</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>y(移动命令)</td>
<td>copy</td>
<td>复制</td>
</tr>
<tr>
<td>yy</td>
<td>copy</td>
<td>复制一行，可以 nyy 复制多行</td>
</tr>
<tr>
<td>p</td>
<td>paste</td>
<td>粘贴</td>
</tr>
<tr>
<td>dd</td>
<td>dd</td>
<td>剪切当前行,ndd 剪切当前行以下n行</td>
</tr>
</tbody></table>
<h5 id="6-55-8-替换"><a href="#6-55-8-替换" class="headerlink" title="6.55.8 替换"></a>6.55.8 替换</h5><table>
<thead>
<tr>
<th>命令</th>
<th>英文</th>
<th>功能</th>
<th>工作模式</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>replace</td>
<td>替换当前字符</td>
<td>命令模式</td>
</tr>
<tr>
<td>R</td>
<td>replace</td>
<td>替换当前行光标后的字符</td>
<td>替换模式</td>
</tr>
</tbody></table>
<h5 id="6-55-9-缩排和重复执行"><a href="#6-55-9-缩排和重复执行" class="headerlink" title="6.55.9 缩排和重复执行"></a>6.55.9 缩排和重复执行</h5><table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>&gt;&gt;</td>
<td>向右增加缩进</td>
</tr>
<tr>
<td>&lt;&lt;</td>
<td>向左减少缩进</td>
</tr>
<tr>
<td>.</td>
<td>重复上次命令</td>
</tr>
</tbody></table>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">缩排命令 在开发程序时，统一增加代码的缩进 比较有用！</span><br><span class="line"><span class="code">     一次性 在选中代码前增加 4 个空格，就叫做 增加缩进</span></span><br><span class="line"><span class="code">    一次性在选中代码前删除 4 个空格，就叫做 减少缩进*</span></span><br><span class="line"><span class="code">在 可视模式下，缩排命令只需要使用 一个&gt;或者 &lt;</span></span><br><span class="line"><span class="code">1234</span></span><br></pre></td></tr></table></figure>

<h5 id="6-55-10常规查找"><a href="#6-55-10常规查找" class="headerlink" title="6.55.10常规查找"></a>6.55.10常规查找</h5><table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;str</td>
<td>查找 str</td>
</tr>
</tbody></table>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">查找到指定内容之后，使用 Next查找下一个出现的位置：</span><br><span class="line">n: 查找下一个</span><br><span class="line">N: 查找上一个</span><br><span class="line">单词快速匹配</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>向后查找当前光标所在单词</td>
</tr>
<tr>
<td>#</td>
<td>向前查找当前光标所在单词</td>
</tr>
</tbody></table>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">查找并替换</span><br><span class="line">在 vi 中查找和替换命令需要在 末行模式 下执行</span><br><span class="line">记忆命令格式：</span><br><span class="line">:%s///g</span><br><span class="line">全局替换</span><br><span class="line">一次性替换文件中的 所有出现的旧文本</span><br><span class="line">命令格式如下：</span><br><span class="line">:%s/旧文本/新文本/g</span><br><span class="line">可视区域替换</span><br><span class="line">先选中 要替换文字的 范围</span><br><span class="line">命令格式如下：</span><br><span class="line">:s/旧文本/新文本/g</span><br><span class="line">确认替换</span><br><span class="line">如果把末尾的 g 改成 gc 在替换的时候，会有提示！推荐使用！</span><br><span class="line">:%s/旧文本/新文本/gc</span><br><span class="line">y- yes 替换</span><br><span class="line">n - no 不替换</span><br><span class="line">a - all替换所有</span><br><span class="line">q - quit退出替换</span><br><span class="line">l - last最后一个，并把光标移动到行首</span><br><span class="line">^E 向下滚屏</span><br><span class="line">^Y 向上滚屏</span><br><span class="line">12345678910111213141516171819202122</span><br></pre></td></tr></table></figure>

<h5 id="6-55-11-插入命令"><a href="#6-55-11-插入命令" class="headerlink" title="6.55.11 插入命令"></a>6.55.11 插入命令</h5><table>
<thead>
<tr>
<th>命令</th>
<th>英文</th>
<th>功能</th>
<th>常用</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>insert</td>
<td>在当前字符前插入文本</td>
<td>常用</td>
</tr>
<tr>
<td>I</td>
<td>insert</td>
<td>在行首插入文本</td>
<td>较常用</td>
</tr>
<tr>
<td>a</td>
<td>append</td>
<td>在当前字符后添加文本</td>
<td></td>
</tr>
<tr>
<td>A</td>
<td>append</td>
<td>在行末添加文本</td>
<td>较常用</td>
</tr>
<tr>
<td>o</td>
<td></td>
<td>在当前行后面插入一空行</td>
<td>常用</td>
</tr>
<tr>
<td>O</td>
<td></td>
<td>在当前行前面插入一空行</td>
<td>常用</td>
</tr>
</tbody></table>
<h5 id="6-55-12-编辑命令和数字连用"><a href="#6-55-12-编辑命令和数字连用" class="headerlink" title="6.55.12 编辑命令和数字连用"></a>6.55.12 编辑命令和数字连用</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">****</span><span class="strong">****</span>** 连续 10 个星号</span><br><span class="line">要实现这个效果可以在 命令模式 下</span><br><span class="line">输入 10，表示要重复 10 次</span><br><span class="line">输入i 进入 编辑模式</span><br><span class="line">输入 <span class="emphasis">*也就是重复的文字</span></span><br><span class="line"><span class="emphasis">按下 ESC 返回到 命令模式，返回之后 vi就会把第 2、3 两步的操作重复 10次</span></span><br><span class="line"><span class="emphasis"> 利用 可视块 给多行代码增加注释</span></span><br><span class="line"><span class="emphasis">  移动到要添加注释的 第 1 行代码，按 ^ 来到行首</span></span><br><span class="line"><span class="emphasis"> 按 CTRL + v 进入 可视块 模式</span></span><br><span class="line"><span class="emphasis"> 使用 j向下连续选中要添加的代码行</span></span><br><span class="line"><span class="emphasis">输入 I进入 编辑模式，并在 行首插入，注意：一定要使用 I</span></span><br><span class="line"><span class="emphasis"> 输入 # 也就是注释符号</span></span><br><span class="line"><span class="emphasis">按下 ESC返回到 命令模式，返回之后 vi会在之前选中的每一行代码 前 插入 # </span></span><br><span class="line"><span class="emphasis">12345678910111213</span></span><br></pre></td></tr></table></figure>

<h5 id="6-55-13-末行命令扩展"><a href="#6-55-13-末行命令扩展" class="headerlink" title="6.55.13 末行命令扩展"></a>6.55.13 末行命令扩展</h5><table>
<thead>
<tr>
<th>命令</th>
<th>英文</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>:e .</td>
<td>edit</td>
<td>会打开内置的文件浏览器，浏览要当前目录下的文件</td>
</tr>
<tr>
<td>:n 文件名</td>
<td>new</td>
<td>新建文件</td>
</tr>
<tr>
<td>:w 文件名</td>
<td>write</td>
<td>另存为，但是仍然编辑当前文件，并不会切换文件</td>
</tr>
</tbody></table>
<h3 id="7-软件安装"><a href="#7-软件安装" class="headerlink" title="7 软件安装"></a>7 软件安装</h3><h4 id="7-1-安装软件位置问题"><a href="#7-1-安装软件位置问题" class="headerlink" title="7.1 安装软件位置问题"></a>7.1 安装软件位置问题</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">linux安装包放在linux/opt,解压缩包放在/usr/local</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="7-2-安装JDK"><a href="#7-2-安装JDK" class="headerlink" title="7.2 安装JDK"></a>7.2 安装JDK</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021092751279.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.将JDK解压缩到指定目录</span></span><br><span class="line"><span class="code">	tar -zxvf jdk-8u171-linux-x64.tar.gz -C /usr/</span></span><br><span class="line"><span class="code">	注意:-C参数是将JDK解压之后文件放入usr目录中</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 2.进入jdk解压缩目录查看</span></span><br><span class="line"><span class="code">	cd /usr/jdk1.8.0_171/</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 3.查看详细信息</span></span><br><span class="line"><span class="code">	[root@localhost jdk1.8.0_171]# ls</span></span><br><span class="line"><span class="code">		bin        db       javafx-src.zip  lib      man          release  THIRDPARTYLICENSEREADME-JAVAFX.txt</span></span><br><span class="line"><span class="code">		COPYRIGHT  include  jre             LICENSE  README.html  src.zip  THIRDPARTYLICENSEREADME.txt</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 4.配置环境变量</span></span><br><span class="line"><span class="code">	 vi /etc/profile</span></span><br><span class="line"><span class="code">	 </span></span><br><span class="line"><span class="code"># 5.在文件末尾加入如下配置</span></span><br><span class="line"><span class="code">	export JAVA_HOME=/usr/jdk1.8.0_171</span></span><br><span class="line"><span class="code">	export PATH=$PATH:$JAVA_HOME/bin</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 6.加载配置生效</span></span><br><span class="line"><span class="code">	source /etc/profile    加载配置生效</span></span><br><span class="line"><span class="code">	reboot                 重启系统</span></span><br><span class="line"><span class="code">	注意: 以上两个选项选择任意一个即可source可以不用重启立即生效,某些情况下source无法生效时,可以使用重启试试</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 7.测试环境变量</span></span><br><span class="line"><span class="code">	java</span></span><br><span class="line"><span class="code">	javac</span></span><br><span class="line"><span class="code">	java -version</span></span><br><span class="line"><span class="code">12345678910111213141516171819202122232425262728</span></span><br></pre></td></tr></table></figure>

<h4 id="7-3-安装Tomcat"><a href="#7-3-安装Tomcat" class="headerlink" title="7.3 安装Tomcat"></a>7.3 安装Tomcat</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021093136236.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 0.下载tomcat</span></span><br><span class="line"><span class="code">	http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-8/v8.5.46/bin/apache-tomcat-8.5.46.tar.gz</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 1.通过工具上传到Linux系统中</span></span><br><span class="line"></span><br><span class="line"><span class="section"># 2.解压缩到/usr目录中</span></span><br><span class="line"><span class="code">	[root@localhost ~]# tar -zxvf apache-tomcat-8.5.46.tar.gz -C /usr/</span></span><br><span class="line"><span class="code">	-C 用来指定解压缩的位置</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 3.查看解压内容</span></span><br><span class="line"><span class="code">	[root@localhost apache-tomcat-8.5.46]# ls -l</span></span><br><span class="line"><span class="code">    总用量 124</span></span><br><span class="line"><span class="code">    drwxr-x---. 2 root root  4096 10月 13 12:27 bin</span></span><br><span class="line"><span class="code">    -rw-r-----. 1 root root 19318 9月  17 02:19 BUILDING.txt</span></span><br><span class="line"><span class="code">    drwx------. 2 root root   238 9月  17 02:19 conf</span></span><br><span class="line"><span class="code">    -rw-r-----. 1 root root  5407 9月  17 02:19 CONTRIBUTING.md</span></span><br><span class="line"><span class="code">    drwxr-x---. 2 root root  4096 10月 13 12:27 lib</span></span><br><span class="line"><span class="code">    -rw-r-----. 1 root root 57011 9月  17 02:19 LICENSE</span></span><br><span class="line"><span class="code">    drwxr-x---. 2 root root     6 9月  17 02:17 logs</span></span><br><span class="line"><span class="code">    -rw-r-----. 1 root root  1726 9月  17 02:19 NOTICE</span></span><br><span class="line"><span class="code">    -rw-r-----. 1 root root  3255 9月  17 02:19 README.md</span></span><br><span class="line"><span class="code">    -rw-r-----. 1 root root  7139 9月  17 02:19 RELEASE-NOTES</span></span><br><span class="line"><span class="code">    -rw-r-----. 1 root root 16262 9月  17 02:19 RUNNING.txt</span></span><br><span class="line"><span class="code">    drwxr-x---. 2 root root    30 10月 13 12:27 temp</span></span><br><span class="line"><span class="code">    drwxr-x---. 7 root root    81 9月  17 02:17 webapps</span></span><br><span class="line"><span class="code">    drwxr-x---. 2 root root     6 9月  17 02:17 work</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 4.启动tomcat</span></span><br><span class="line"><span class="code">	[root@localhost apache-tomcat-8.5.46]# ./bin/startup.sh </span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 5.关闭网络防火墙</span></span><br><span class="line"><span class="code">	systemctl stop firewalld	   关闭网络防火墙</span></span><br><span class="line"><span class="code">	systemctl disable firewalld  关闭开机自启动(永久关闭)</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 6.在windows中访问tomcat</span></span><br><span class="line"><span class="code">	http://10.15.0.8:8080/</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 7.显示tomcat实时控制台信息</span></span><br><span class="line"><span class="code">	进入tomcat的logs目录中使用tail -f catalina.out 命令实时查看控制台信息 </span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 8.关闭tomcat</span></span><br><span class="line"><span class="code">	在tomcat的bin目录下面使用 ./shutdown.sh</span></span><br><span class="line"><span class="code">123456789101112131415161718192021222324252627282930313233343536373839404142</span></span><br></pre></td></tr></table></figure>

<h4 id="7-4-安装MySQL"><a href="#7-4-安装MySQL" class="headerlink" title="7.4 安装MySQL"></a>7.4 安装MySQL</h4><h5 id="7-4-1-环境准备"><a href="#7-4-1-环境准备" class="headerlink" title="7.4.1 环境准备"></a>7.4.1 环境准备</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.卸载mariadb，否则安装mysql会出现冲突</span></span><br><span class="line"><span class="section"># 2.执行命令rpm -qa | grep mariadb</span></span><br><span class="line"><span class="section"># 3.列出所有被安装的mariadb rpm 包；</span></span><br><span class="line"><span class="section"># 4.执行命令rpm -e --nodeps mariadb-libs-5.5.56-2.el7.x86<span class="emphasis">_64</span></span></span><br><span class="line"><span class="emphasis"><span class="section">1234</span></span></span><br></pre></td></tr></table></figure>

<h5 id="7-4-2-本地安装-5-6版本默认root没有密码"><a href="#7-4-2-本地安装-5-6版本默认root没有密码" class="headerlink" title="7.4.2 本地安装(5.6版本默认root没有密码)"></a>7.4.2 本地安装(5.6版本默认root没有密码)</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 0.上传下载好的软件包到系统中</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/2020102021354660.png" alt="在这里插入图片描述"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">0.执行本地安装包之前必须先安装vim</span></span><br><span class="line">	yum install -y vim</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1.安装步骤</span></span><br><span class="line">	rpm -ivh perl-*</span><br><span class="line">	rpm -ivh net-tools-2.0-0.22.20131004git.el7.x86_64.rpm</span><br><span class="line">	rpm -ivh mysql-community-common-5.6.42-2.el7.x86_64.rpm</span><br><span class="line">	rpm -ivh mysql-community-libs-5.6.42-2.el7.x86_64.rpm</span><br><span class="line">	rpm -ivh mysql-community-client-5.6.42-2.el7.x86_64.rpm</span><br><span class="line">	rpm -ivh mysql-community-server-5.6.42-2.el7.x86_64.rpm</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>

<h5 id="7-4-3-在线安装"><a href="#7-4-3-在线安装" class="headerlink" title="7.4.3 在线安装"></a>7.4.3 在线安装</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.添加官方的yum源创建并编辑mysql-community.repo文件</span></span><br><span class="line"><span class="code">		vi /etc/yum.repos.d/mysql-community.repo</span></span><br><span class="line"><span class="code"># 2.粘贴以下内容到源文件中</span></span><br><span class="line"><span class="code">		[mysql56-community]</span></span><br><span class="line"><span class="code">    name=MySQL 5.6 Community Server</span></span><br><span class="line"><span class="code">    baseurl=http://repo.mysql.com/yum/mysql-5.6-community/el/7/$basearch/</span></span><br><span class="line"><span class="code">    enabled=1</span></span><br><span class="line"><span class="code">    gpgcheck=0</span></span><br><span class="line"><span class="code">    gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql</span></span><br><span class="line"><span class="code">    </span></span><br><span class="line"><span class="code">    注意:如果需要安装mysql5.7只需要将baseurl修改即可 </span></span><br><span class="line"><span class="code">    	baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/7/$basearch/</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 3.安装mysql</span></span><br><span class="line"><span class="code">	sudo yum install -y mysql-community-server</span></span><br><span class="line"><span class="code">123456789101112131415</span></span><br></pre></td></tr></table></figure>

<h5 id="7-4-4-设置root用户密码"><a href="#7-4-4-设置root用户密码" class="headerlink" title="7.4.4 设置root用户密码"></a>7.4.4 设置root用户密码</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.启动mysql数据库</span></span><br><span class="line"><span class="code">	[root@localhost mysql]# systemctl start mysqld</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 2.修改mysql数据库密码</span></span><br><span class="line"><span class="code">	mysqladmin -u root -p password 回车 输入原始密码 在输入新的密码</span></span><br><span class="line"><span class="code">	</span></span><br><span class="line"><span class="code">	注意:5.7之前版本安装完成之后没有密码,mysql5.7之后的版本的初始密码是随机生成的，放在了 /var/log/mysqld.log</span></span><br><span class="line"><span class="code">			使用命令 grep ‘temporary password’ /var/log/mysqld.log 读出来即可</span></span><br><span class="line"><span class="code">			ROOT!Q2w</span></span><br><span class="line"><span class="code"># 3.登录mysql</span></span><br><span class="line"><span class="code">	[root@localhost mysql]# mysql -u root -p  </span></span><br><span class="line"><span class="code">1234567891011</span></span><br></pre></td></tr></table></figure>

<h5 id="7-4-5-开启远程访问"><a href="#7-4-5-开启远程访问" class="headerlink" title="7.4.5 开启远程访问"></a>7.4.5 开启远程访问</h5><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.安装完成mysql时,发现mysql数据库,不允许我们远程</span></span><br><span class="line">连接需要修改设置</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020213621173.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 2.登录mysql,并选择使用mysql数据库</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020213657911.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 3.查看mysql库中的所有表</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020213733474.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 4.查询user表</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020213818421.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 5.执行如下命令</span></span><br><span class="line"><span class="code">	grant all privileges on *.* to &#x27;root&#x27;@&#x27;%&#x27; identified by &#x27;ROOT!Q2w&#x27; with grant option;</span></span><br><span class="line"><span class="code">12</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020213841610.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 6.刷新权限</span></span><br><span class="line"><span class="code">	flush privileges;</span></span><br><span class="line"><span class="code">12</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020213904712.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 7.重启服务</span></span><br><span class="line"><span class="code">	systemctl restart mysqld</span></span><br><span class="line"><span class="code"># 8.测试连接</span></span><br><span class="line"><span class="code">123</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020213944767.png" alt="在这里插入图片描述"></p>
<h3 id="8-MySQL主从复制"><a href="#8-MySQL主从复制" class="headerlink" title="8 MySQL主从复制"></a>8 MySQL主从复制</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021132213288.jpg" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 0.架构规划</span></span><br><span class="line"><span class="code">	192.168.202.201    master  主节点</span></span><br><span class="line"><span class="code">	192.168.202.202    slave   从节点</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 1.修改mysql的配置文件</span></span><br><span class="line"><span class="code">	[root@localhost mysql]# vim /etc/my.cnf</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 2.分别在配置文件中加入如下配置</span></span><br><span class="line"></span><br><span class="line"><span class="code">	mysql(master):</span></span><br><span class="line"><span class="code">		server-id=1</span></span><br><span class="line"><span class="code">		log-bin=mysql-bin</span></span><br><span class="line"><span class="code">		log-slave-updates</span></span><br><span class="line"><span class="code">		slave-skip-errors=all</span></span><br><span class="line"><span class="code">	</span></span><br><span class="line"><span class="code">	msyql(slave):</span></span><br><span class="line"><span class="code">		server-id=2</span></span><br><span class="line"><span class="code">		log-bin=mysql-bin</span></span><br><span class="line"><span class="code">		log-slave-updates</span></span><br><span class="line"><span class="code">		slave-skip-errors=all</span></span><br><span class="line"><span class="code">		</span></span><br><span class="line"><span class="code">		注意:两个机器的server-id不能一致</span></span><br><span class="line"><span class="code">12345678910111213141516171819202122</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020214037303.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 3.重启mysql服务</span></span><br><span class="line"><span class="code">	systemctl restart mysqld</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 4.登录mysql执行如下命令检测配置是否生效</span></span><br><span class="line"><span class="code">	SHOW VARIABLES like &#x27;server_id&#x27;;</span></span><br><span class="line"><span class="code">12345</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020214132662.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 5.登录master节点执行如下命令</span></span><br><span class="line"><span class="code">		show master status;</span></span><br><span class="line"><span class="code">12</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020214156378.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 6.登录从节点执行如下命令:</span></span><br><span class="line"><span class="code">		change master to </span></span><br><span class="line"><span class="code">		master_host=&#x27;10.15.0.9&#x27;,</span></span><br><span class="line"><span class="code">		master_user=&#x27;root&#x27;,</span></span><br><span class="line"><span class="code">		master_password=&#x27;root&#x27;,</span></span><br><span class="line"><span class="code">		master_log_file=&#x27;mysql-bin.000001&#x27;,</span></span><br><span class="line"><span class="code">		master_log_pos=120;</span></span><br><span class="line"><span class="code">1234567</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020214231928.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 7.开启从节点</span></span><br><span class="line"><span class="code">		start slave; </span></span><br><span class="line"><span class="code">		stop  slave;</span></span><br><span class="line"><span class="code">123</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020214251191.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 8.查看从节点状态</span></span><br><span class="line"><span class="code">		show slave status\G;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">		************************** 1. row ***************************</span></span><br><span class="line"><span class="code">               Slave_IO_State: Waiting for master to send event</span></span><br><span class="line"><span class="code">                  Master_Host: 10.15.0.9</span></span><br><span class="line"><span class="code">                  Master_User: root</span></span><br><span class="line"><span class="code">                  Master_Port: 3306</span></span><br><span class="line"><span class="code">                Connect_Retry: 60</span></span><br><span class="line"><span class="code">              Master_Log_File: mysql-bin.000001</span></span><br><span class="line"><span class="code">          Read_Master_Log_Pos: 120</span></span><br><span class="line"><span class="code">               Relay_Log_File: mysqld-relay-bin.000002</span></span><br><span class="line"><span class="code">                Relay_Log_Pos: 283</span></span><br><span class="line"><span class="code">        Relay_Master_Log_File: mysql-bin.000001</span></span><br><span class="line"><span class="code">             Slave_IO_Running: Yes</span></span><br><span class="line"><span class="code">            Slave_SQL_Running: Yes</span></span><br><span class="line"><span class="code">   	</span></span><br><span class="line"><span class="code">    注意:</span></span><br><span class="line"><span class="code">    		1.出现 Slave_IO_Running: Yes 和 Slave_SQL_Running: Yes 说名成功,</span></span><br><span class="line"><span class="code">    		2.如果在搭建过程出现错误,可以查看查看错误日志文件 cat /var/log/mysqld.log</span></span><br><span class="line"><span class="code"> </span></span><br><span class="line"><span class="code"># 9.通过客户端工具进行测试</span></span><br><span class="line"><span class="code">	</span></span><br><span class="line"><span class="code"># 10.关闭主从复制(在从节点执行)</span></span><br><span class="line"><span class="code">	stop slave;</span></span><br><span class="line"><span class="code">	</span></span><br><span class="line"><span class="code">注意:如果出现Slave I/O: Fatal error: The slave I/O thread stops because master</span></span><br><span class="line"><span class="code">and slave have equal MySQL server UUIDs; these UUIDs must be different for</span></span><br><span class="line"><span class="code">replication to work. Error_code: 1593错误,请执行如下命令,rm -rf </span></span><br><span class="line"><span class="code">/var/lib/mysql/auto.cnf删除这个文件,之所以出现会出现这样的问题，是因为我的</span></span><br><span class="line"><span class="code">从库主机是克隆的主库所在的主机，所以auto.cnf文件中保存的UUID会出现重复.</span></span><br><span class="line"><span class="code">12345678910111213141516171819202122232425262728293031</span></span><br></pre></td></tr></table></figure>

<h3 id="9-读写分离"><a href="#9-读写分离" class="headerlink" title="9 读写分离"></a>9 读写分离</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/2020102113240375.jpg" alt="在这里插入图片描述"></p>
<h4 id="9-1-MyCat引言"><a href="#9-1-MyCat引言" class="headerlink" title="9.1 MyCat引言"></a>9.1 MyCat引言</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">基于阿里开源的Cobar产品而研发，Cobar的稳定性、可靠性、</span><br><span class="line">优秀的架构和性能以及众多成熟的使用案例使得MYCAT一开</span><br><span class="line">始就拥有一个很好的起点，站在巨人的肩膀上，我们能看到</span><br><span class="line">更远。业界优秀的开源项目和创新思路被广泛融入到MYCAT</span><br><span class="line">的基因中，使得MYCAT在很多方面都领先于目前其他一些</span><br><span class="line">同类的开源项目，甚至超越某些商业产品。</span><br><span class="line">MYCAT背后有一支强大的技术团队，其参与者都是5年以</span><br><span class="line">上资深软件工程师、架构师、DBA等，优秀的技术团队保</span><br><span class="line">证了MYCAT的产品质量。MYCAT并不依托于任何一个</span><br><span class="line">商业公司，因此不像某些开源项目，将一些重要的特性封闭</span><br><span class="line">在其商业产品中，使得开源项目成了一个摆设. </span><br><span class="line">1234567891011</span><br></pre></td></tr></table></figure>

<h4 id="9-2-安装Mycat"><a href="#9-2-安装Mycat" class="headerlink" title="9.2 安装Mycat"></a>9.2 安装Mycat</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.下载mycat</span></span><br><span class="line"><span class="code">	http://dl.mycat.io/1.6-RELEASE/Mycat-server-1.6-RELEASE-20161028204710-linux.tar.gz</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 2.解压mycat</span></span><br><span class="line"><span class="code">	tar -zxvf Mycat-server-1.6-RELEASE-20161028204710-linux.tar.gz</span></span><br><span class="line"><span class="code">12345</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020214344840.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 3.查看解压之后目录]</span></span><br><span class="line"><span class="code">	[root@localhost mycat]# ls</span></span><br><span class="line"><span class="code">	总用量 12</span></span><br><span class="line"><span class="code">	drwxr-xr-x. 2 root root  190 10月 14 22:58 bin</span></span><br><span class="line"><span class="code">	drwxrwxrwx. 2 root root    6 3月   1 2016 catlet</span></span><br><span class="line"><span class="code">	drwxrwxrwx. 4 root root 4096 10月 14 22:58 conf</span></span><br><span class="line"><span class="code">	drwxr-xr-x. 2 root root 4096 10月 14 22:58 lib</span></span><br><span class="line"><span class="code">	drwxrwxrwx. 2 root root    6 10月 28 2016 logs</span></span><br><span class="line"><span class="code">	-rwxrwxrwx. 1 root root  217 10月 28 2016 version.txt</span></span><br><span class="line"><span class="code">123456789</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020214404104.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 4.移动到/usr目录</span></span><br><span class="line"><span class="code">	mv mycat/ /usr/</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 5.配置mycat中conf下的配置schema.xml</span></span><br><span class="line"></span><br><span class="line">12345</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021132625406.jpg" alt="在这里插入图片描述"></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">	<span class="comment">&lt;!-- 定义MyCat的逻辑库  --&gt;</span>   </span><br><span class="line">    <span class="tag">&lt;<span class="name">schema</span> <span class="attr">name</span>=<span class="string">&quot;test_schema&quot;</span> <span class="attr">checkSQLschema</span>=<span class="string">&quot;false&quot;</span> <span class="attr">sqlMaxLimit</span>=<span class="string">&quot;100&quot;</span> <span class="attr">dataNode</span>=<span class="string">&quot;testNode&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">schema</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 定义MyCat的数据节点 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dataNode</span> <span class="attr">name</span>=<span class="string">&quot;testNode&quot;</span> <span class="attr">dataHost</span>=<span class="string">&quot;dtHost&quot;</span> <span class="attr">database</span>=<span class="string">&quot;test&quot;</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dataHost</span> <span class="attr">name</span>=<span class="string">&quot;dtHost&quot;</span> <span class="attr">maxCon</span>=<span class="string">&quot;1000&quot;</span> <span class="attr">minCon</span>=<span class="string">&quot;10&quot;</span> <span class="attr">balance</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">writeType</span>=<span class="string">&quot;0&quot;</span> <span class="attr">dbType</span>=<span class="string">&quot;mysql&quot;</span> <span class="attr">dbDriver</span>=<span class="string">&quot;native&quot;</span> <span class="attr">switchType</span>=<span class="string">&quot;-1&quot;</span>  <span class="attr">slaveThreshold</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">heartbeat</span>&gt;</span>select user()<span class="tag">&lt;/<span class="name">heartbeat</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--写节点--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">writeHost</span> <span class="attr">host</span>=<span class="string">&quot;hostM1&quot;</span> <span class="attr">url</span>=<span class="string">&quot;192.168.28.128:3306&quot;</span> <span class="attr">user</span>=<span class="string">&quot;root&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">                  		<span class="comment">&lt;!--从节点--&gt;</span></span><br><span class="line">                			<span class="tag">&lt;<span class="name">readHost</span> <span class="attr">host</span>=<span class="string">&quot;hostS1&quot;</span> <span class="attr">url</span>=<span class="string">&quot;192.168.28.129:3306&quot;</span> <span class="attr">user</span>=<span class="string">&quot;root&quot;</span> <span class="attr">password</span>=<span class="string">&quot;root&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">writeHost</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dataHost</span>&gt;</span></span><br><span class="line">1234567891011121314</span><br><span class="line"># 6.配置登陆mycat的权限server.xml</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021132646754.jpg" alt="在这里插入图片描述"></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">system</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 这里配置的都是一些系统属性，可以自己查看mycat文--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;defaultSqlParser&quot;</span>&gt;</span>druidparser<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;charset&quot;</span>&gt;</span>utf8mb4<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">system</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">user</span> <span class="attr">name</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span>root<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;schemas&quot;</span>&gt;</span>test_schema<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line">12345678910</span><br><span class="line"># 7.启动mycat</span><br><span class="line">	 ./mycat console</span><br><span class="line"></span><br><span class="line"># 8.查看日志</span><br><span class="line">	tail -f ../logs/mycat.log</span><br><span class="line"></span><br><span class="line"># 9.数据库连接配置,测试</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>

<h3 id="10-安装Nginx"><a href="#10-安装Nginx" class="headerlink" title="10 安装Nginx"></a>10 安装Nginx</h3><h4 id="10-1-Nginx的引言"><a href="#10-1-Nginx的引言" class="headerlink" title="10.1 Nginx的引言"></a>10.1 Nginx的引言</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Nginx是一款轻量级的Web服务器/反向代理服务器及[电子邮件]</span><br><span class="line">（IMAP/POP3）代理服务器，并在一个BSD-like 协议下发行。</span><br><span class="line">由俄罗斯的程序设计师Igor Sysoev所开发，供俄国大型的入口</span><br><span class="line">网站及搜索引擎Rambler（俄文：Рамблер）使用。其特点是</span><br><span class="line">占有内存少，[并发]能力强，事实上nginx的并发能力确实在同</span><br><span class="line">类型的网页服务器中表现较好，中国大陆使用nginx网站用户有：</span><br><span class="line">[京东]、[新浪]、[网易]、[腾讯]、[淘宝]等。</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>

<h4 id="10-2-Nginx的安装"><a href="#10-2-Nginx的安装" class="headerlink" title="10.2 Nginx的安装"></a>10.2 Nginx的安装</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 0.安装必要依赖</span></span><br><span class="line"><span class="code">	yum install -y gcc pcre-devel zlib-devel</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 1.下载Nginx</span></span><br><span class="line"><span class="code">	http://nginx.org/en/download.html</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 2.将Nginx上传到linux中,并解压缩</span></span><br><span class="line"><span class="code">	 tar -zxvf nginx-1.11.1.tar.gz</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"></span><br><span class="line"><span class="section"># 3.查看Nginx安装目录</span></span><br><span class="line"><span class="code">	[root@localhost nginx-1.11.1]# ls</span></span><br><span class="line"><span class="code">	auto  CHANGES  CHANGES.ru  conf  configure  contrib  html  LICENSE  man  README  src</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 4.在Nginx安装目录中执行如下命令:(指定安装位置)</span></span><br><span class="line"><span class="code">	./configure --prefix=/usr/nginx</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 5.执行上述命令后,执行如下命令:</span></span><br><span class="line"><span class="code">	make &amp;&amp; make install</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 6.编译完成后进入编译安装目录/usr/nginx目录中查看:</span></span><br><span class="line"><span class="code">	[root@localhost nginx]# ls -l</span></span><br><span class="line"><span class="code">	总用量 4</span></span><br><span class="line"><span class="code">	drwxr-xr-x. 2 root root 4096 10月 14 21:17 conf</span></span><br><span class="line"><span class="code">	drwxr-xr-x. 2 root root   40 10月 14 21:17 html</span></span><br><span class="line"><span class="code">	drwxr-xr-x. 2 root root    6 10月 14 21:17 logs</span></span><br><span class="line"><span class="code">	drwxr-xr-x. 2 root root   19 10月 14 21:17 sbin</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 7.启动nginx,进入nginx安装目录的sbin目录中执行:</span></span><br><span class="line"><span class="code">	./nginx   </span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 8.在windows中浏览器访问,可以看到nginx欢迎页面:</span></span><br><span class="line"><span class="code">	http://10.15.0.8:80/</span></span><br><span class="line"><span class="code">	</span></span><br><span class="line"><span class="code">		注意:关闭网络防火墙</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 9.关闭nginx,进入nginx安装目录的sbin目录中执行:</span></span><br><span class="line"><span class="code">	./nginx -s stop</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 10.nginx配置文件在nginx安装目录的conf目录中:</span></span><br><span class="line"><span class="code">	[root@localhost conf]# ls -l</span></span><br><span class="line"><span class="code">	总用量 60</span></span><br><span class="line"><span class="code">	-rw-r--r--. 1 root root 2656 10月 14 21:17 nginx.conf</span></span><br><span class="line"><span class="code">	.......</span></span><br><span class="line"><span class="code">	注意:nginx.conf为nginx的配置文件,可以在nginx.conf修改nginx默认配置</span></span><br><span class="line"><span class="code">123456789101112131415161718192021222324252627282930313233343536373839404142434445</span></span><br></pre></td></tr></table></figure>

<h3 id="11-Tomcat负载均衡集群"><a href="#11-Tomcat负载均衡集群" class="headerlink" title="11 Tomcat负载均衡集群"></a>11 Tomcat负载均衡集群</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201021132948579.jpg" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 0.准备多个tomcat</span></span><br><span class="line"><span class="code">	 tar -zxvf apache-tomcat-8.5.46.tar.gz #解压缩一个新的tomcat安装包</span></span><br><span class="line"><span class="code">	 mv apache-tomcat-8.5.46 tomcat1 			 #将名称改为tomcat1</span></span><br><span class="line"><span class="code">	 cp -r tomcat1/ tomcat2								 #复制一份</span></span><br><span class="line"><span class="code">	 cp -r tomcat1/ tomcat3                #复制一份</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 1.此时当前目录中有三个服务器,如下:</span></span><br><span class="line"><span class="code">	[root@localhost ~]# ls -l</span></span><br><span class="line"><span class="code">	总用量 12248</span></span><br><span class="line"><span class="code">	-rwxrwxrwx. 1 root root  11623939 10月 13 12:25 apache-tomcat-8.5.46.tar.gz</span></span><br><span class="line"><span class="code">	drwxr-xr-x. 9 root root       220 10月 14 21:28 tomcat1</span></span><br><span class="line"><span class="code">	drwxr-xr-x. 9 root root       220 10月 14 21:38 tomcat2</span></span><br><span class="line"><span class="code">	drwxr-xr-x. 9 root root       220 10月 14 21:38 tomcat3</span></span><br><span class="line"><span class="code">12345678910111213</span></span><br><span class="line"><span class="code"># 2.修改tomcat1端口号:(伪分布式)</span></span><br><span class="line"><span class="code">vim tomcat1/conf/server.xml,命令修改如下内容:</span></span><br><span class="line"><span class="code">a.&lt;Server port=&quot;8001&quot; shutdown=&quot;SHUTDOWN&quot;&gt;   ---关闭端口</span></span><br><span class="line"><span class="code">b.&lt;Connector port=&quot;8888&quot; protocol=&quot;HTTP/1.1&quot; ---http协议端口</span></span><br><span class="line"><span class="code">               connectionTimeout=&quot;20000&quot;</span></span><br><span class="line"><span class="code">               redirectPort=&quot;8443&quot; /&gt;</span></span><br><span class="line"><span class="code">c.&lt;Connector port=&quot;10010&quot; protocol=&quot;AJP/1.3&quot; redirectPort=&quot;8443&quot; /&gt; ---AJP协议端口</span></span><br><span class="line"><span class="code">1234567</span></span><br><span class="line"><span class="code"># 3.修改tomcat2端口号:(伪分布式)</span></span><br><span class="line"><span class="code">		vim tomcat2/conf/server.xml,命令修改如下内容:</span></span><br><span class="line"><span class="code">a.&lt;Server port=&quot;8002&quot; shutdown=&quot;SHUTDOWN&quot;&gt;</span></span><br><span class="line"><span class="code">b.&lt;Connector port=&quot;8889&quot; protocol=&quot;HTTP/1.1&quot;</span></span><br><span class="line"><span class="code">               connectionTimeout=&quot;20000&quot;</span></span><br><span class="line"><span class="code">               redirectPort=&quot;8443&quot; /&gt;</span></span><br><span class="line"><span class="code">c.&lt;Connector port=&quot;10011&quot; protocol=&quot;AJP/1.3&quot; redirectPort=&quot;8443&quot; /&gt;</span></span><br><span class="line"><span class="code">1234567</span></span><br><span class="line"><span class="code"># 4.修改tomcat3端口号:(伪分布式)</span></span><br><span class="line"><span class="code">vim tomcat2/conf/server.xml,命令修改如下内容:</span></span><br><span class="line"><span class="code">a.&lt;Server port=&quot;8003&quot; shutdown=&quot;SHUTDOWN&quot;&gt;</span></span><br><span class="line"><span class="code">b.&lt;Connector port=&quot;8890&quot; protocol=&quot;HTTP/1.1&quot;</span></span><br><span class="line"><span class="code">               connectionTimeout=&quot;20000&quot;</span></span><br><span class="line"><span class="code">               redirectPort=&quot;8443&quot; /&gt;</span></span><br><span class="line"><span class="code">c.&lt;Connector port=&quot;10012&quot; protocol=&quot;AJP/1.3&quot; redirectPort=&quot;8443&quot; /&gt;</span></span><br><span class="line"><span class="code">1234567</span></span><br><span class="line"><span class="code"># 5.将多个tomcat启动:</span></span><br><span class="line"><span class="code">		tomcat1/bin/startup.sh </span></span><br><span class="line"><span class="code">		tomcat2/bin/startup.sh </span></span><br><span class="line"><span class="code">		tomcat3/bin/startup.sh</span></span><br><span class="line"><span class="code">    </span></span><br><span class="line"><span class="code"># 6.查看tomcat是否启动成功</span></span><br><span class="line"><span class="code">		ps -aux|grep tomcat</span></span><br><span class="line"><span class="code">1234567</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020214518221.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 7.在windows中分别访问tomcat,都看到主页代表启动成功:</span></span><br><span class="line"><span class="code">	</span></span><br><span class="line"><span class="code">	http://10.15.0.8:8888/</span></span><br><span class="line"><span class="code">	http://10.15.0.8:8889/</span></span><br><span class="line"><span class="code">	http://10.15.0.8:8890/</span></span><br><span class="line"><span class="code">	</span></span><br><span class="line"><span class="code">注意:这步一定要关闭网路防火墙</span></span><br><span class="line"><span class="code">1234567</span></span><br><span class="line"><span class="code"># 8.将多个tomcat配置到nginx的配置文件中:</span></span><br><span class="line"><span class="code">	1).在server标签上加入如下配置:</span></span><br><span class="line"><span class="code">    upstream tomcat-servers &#123;</span></span><br><span class="line"><span class="code">      server 10.15.0.8:8888;</span></span><br><span class="line"><span class="code">      server 10.15.0.8:8889;</span></span><br><span class="line"><span class="code">      server 10.15.0.8:8890;</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">	2).将配置文件中 location /替换为如下配置:</span></span><br><span class="line"><span class="code">		location / &#123;</span></span><br><span class="line"><span class="code">			 proxy_pass http://tomcat-servers;</span></span><br><span class="line"><span class="code">			 proxy_redirect    off;</span></span><br><span class="line"><span class="code">			 proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></span><br><span class="line"><span class="code">			 proxy_set_header X-Real-IP $remote_addr;</span></span><br><span class="line"><span class="code">			 proxy_set_header Host $http_host;</span></span><br><span class="line"><span class="code">			 proxy_next_upstream http_502 http_504 error timeout invalid_header;</span></span><br><span class="line"><span class="code">		   &#125;</span></span><br><span class="line"><span class="code">12345678910111213141516</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020214548428.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 9.进入nginx安装目录sbin目录启动nginx</span></span><br><span class="line"><span class="code">	./nginx -c /usr/nginx/conf/nginx.conf</span></span><br><span class="line"><span class="code">12</span></span><br><span class="line"><span class="code"># 10.访问nginx,看到其中一个tomcat画面:</span></span><br><span class="line"><span class="code">	http://10.15.0.8/ </span></span><br><span class="line"><span class="code">12</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20201020214619163.png" alt="在这里插入图片描述"></p>
<h4 id="11-1-Nginx负载均衡策略"><a href="#11-1-Nginx负载均衡策略" class="headerlink" title="11.1 Nginx负载均衡策略"></a>11.1 Nginx负载均衡策略</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.轮询</span></span><br><span class="line"><span class="code">	 说明: 默认策略,每个请求会按时间顺序逐一分配到不同的后端服务器</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 2.weight 权重</span></span><br><span class="line"><span class="code">	说明: weight参数用于指定轮询几率，weight的默认值为1,；weight的数值与访问比率成正比 </span></span><br><span class="line"><span class="code">    upstream tomcat-servers &#123;</span></span><br><span class="line"><span class="code">        server localhost:8080   weight=2;  </span></span><br><span class="line"><span class="code">        server localhost:8081;  </span></span><br><span class="line"><span class="code">        server localhost:8082   backup;  </span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">    注意：1.权重越高分配到需要处理的请求越多。2.此策略可以与least_conn和ip_hash结合使用主要用于后端服务器性能不均</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 3.ip<span class="emphasis">_hash  4%3=1 </span></span></span><br><span class="line"><span class="emphasis"><span class="section">	　说明:指定负载均衡器按照基于客户端IP的分配方式，这个方法确保了相同的客户端的请求一直发送到相同的服务器，以保证session会话。这样每个访客都固定访问一个后端服务器，可以解决session不能跨服务器的问题。</span></span></span><br><span class="line"><span class="emphasis"><span class="section">	　upstream tomcat-servers &#123;</span></span></span><br><span class="line"><span class="emphasis"><span class="section">        ip_</span>hash;    #保证每个访客固定访问一个后端服务器</span></span><br><span class="line"><span class="code">        server localhost:8080;</span></span><br><span class="line"><span class="code">        ......</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 4.least<span class="emphasis">_conn</span></span></span><br><span class="line"><span class="emphasis"><span class="section">	说明: 把请求转发给连接数较少的后端服务器。轮询算法是把请求平均的转发给各个后端，使它们的负载大致相同；但是，有些请求占用的时间很长，会导致其所在的后端负载较高。这种情况下，least_</span>conn这种方式就可以达到更好的负载均衡效果。</span></span><br><span class="line"><span class="code">	upstream tomcat-servers&#123;</span></span><br><span class="line"><span class="code">        least_conn;    #把请求转发给连接数较少的后端服务器</span></span><br><span class="line"><span class="code">        server localhost:8080;</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">123456789101112131415161718192021222324252627</span><br></pre></td></tr></table></figure>

<h3 id="12-MSM配置"><a href="#12-MSM配置" class="headerlink" title="12 MSM配置"></a>12 MSM配置</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Memcached Session Manager基于memcache缓存的session共享.即使用cacheDB存取session信息，应用服务器接受新请求将session信息保存在cache DB中，当应用服务器发生故障时，调度器会遍历寻找可用节点，分发请求，当应用服务器发现session不在本机内存时，则去cacheDB中查找，如果找到则复制到本机，这样实现session共享和高可用。</span><br><span class="line">1</span><br><span class="line"><span class="section"># 0.准备一个memcache服务</span></span><br><span class="line"></span><br><span class="line"><span class="section"># 1.安装memcached</span></span><br><span class="line"><span class="code">	 yum install -y memcached</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 2.启动memcached</span></span><br><span class="line"><span class="code">	memcached -p 11211 -vvv -u root</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 3.tomcat安装的lib目录中放入与memcache整合jar包</span></span><br><span class="line"><span class="code">		cp *.jar tomcat1/lib</span></span><br><span class="line"><span class="code">		cp *.jar tomcat2/lib</span></span><br><span class="line"><span class="code">		cp *.jar tomcat3/lib</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 4.配置tomcat目录中conf目录中context.xml(所有tomcat均需要配置)</span></span><br><span class="line"><span class="code">	&lt;Context&gt;</span></span><br><span class="line"><span class="code">    &lt;Manager className=&quot;de.javakaffee.web.msm.MemcachedBackupSessionManager&quot;</span></span><br><span class="line"><span class="code">        memcachedNodes=&quot;n1:10.15.0.8:11211&quot;</span></span><br><span class="line"><span class="code">        sticky=&quot;false&quot;  </span></span><br><span class="line"><span class="code">    		sessionBackupAsync=&quot;false&quot;  </span></span><br><span class="line"><span class="code">        requestUriIgnorePattern=&quot;.*\.(ico|png|gif|jpg|css|js)$&quot;</span></span><br><span class="line"><span class="code">        transcoderFactoryClass=&quot;de.javakaffee.web.msm.serializer.kryo.KryoTranscoderFactory&quot;</span></span><br><span class="line"><span class="code">        /&gt;</span></span><br><span class="line"><span class="code">	&lt;/Context&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="section"># 5.放入测试项目进行测试</span></span><br><span class="line">12345678910111213141516171819202122232425</span><br></pre></td></tr></table></figure>

<h3 id="13-虚拟机网络模式"><a href="#13-虚拟机网络模式" class="headerlink" title="13 虚拟机网络模式"></a>13 虚拟机网络模式</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Bridged（桥接模式）</span><br><span class="line">VMnet0表示的是用于桥接模式下的虚拟交换机；</span><br><span class="line">VMnet1表示的是用于仅主机模式下的虚拟交换机；</span><br><span class="line">VMnet8表示的是用于NAT模式下的虚拟交换机。</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200831084842463.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">同时，在主机的“网络连接”中我们可以看到这两块虚拟网卡，</span><br><span class="line">VMware Network Adapter VMnet1      </span><br><span class="line">作用于仅主机模式，用来实现虚拟机和物理机进行通信，</span><br><span class="line">和联网无关系，它的联网需要物理网卡的共享才能上网</span><br><span class="line">VMware Network Adapter VMnet8    </span><br><span class="line">作用于NAT模式，用来实现虚拟机和物理机进行通信，</span><br><span class="line">和联网无关系，它是借助于虚拟nat进行联网</span><br><span class="line">如果将这两块卸载了，可以在vmware的“编辑”下的“虚拟</span><br><span class="line">网络编辑器”中点击“还原默认设置”，可重新将虚拟网卡还原。</span><br><span class="line">看到这里，大家肯定有疑问，为什么在物理机上没有</span><br><span class="line">VMware Network Adapter VMnet0虚拟网卡呢？</span><br><span class="line">因为桥接模式是通过虚拟网桥进行通信和联网的，而不需要</span><br><span class="line">虚拟网卡来使虚拟机和物理机进行通信</span><br><span class="line"></span><br><span class="line">桥接模式就是将主机网卡与虚拟机的网卡利用虚拟网桥</span><br><span class="line">进行通信。在桥接的作用下，类似于把物理主机虚拟为</span><br><span class="line">一个交换机，所有桥接设置的虚拟机连接到这个交换机</span><br><span class="line">的一个接口上，物理主机也同样插在这个交换机当中，</span><br><span class="line">所以所有桥接下的网卡与网卡都是交换模式的，相互可</span><br><span class="line">以访问而不干扰。</span><br><span class="line"></span><br><span class="line">在桥接模式下，虚拟机ip地址需要与主机在同一个网</span><br><span class="line">段，如果需要联网，则网关与DNS需要与主机网卡一</span><br><span class="line">致。其网络结构如下图所示：</span><br><span class="line">123456789101112131415161718192021222324</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200831085153890.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">host-only(仅主机模式)</span><br><span class="line">Host-Only模式是出于安全考虑，Host-Only模式将虚拟机</span><br><span class="line">与外网隔开，使得虚拟机成为一个独立的系统，只与主</span><br><span class="line">机相互通讯。</span><br><span class="line"></span><br><span class="line">如果要使得虚拟机能联网，我们可以将主机网卡共享给</span><br><span class="line">VMware Network Adapter VMnet1网卡，从而达到虚拟</span><br><span class="line">机联网的目的</span><br><span class="line">Host-Only模式其实就是NAT模式去除了虚拟NAT设备，</span><br><span class="line">然后使用VMware Network Adapter VMnet1虚拟网卡</span><br><span class="line">连接VMnet1虚拟交换机来与虚拟机通信的，其网</span><br><span class="line">络结构如下图所示：</span><br><span class="line">123456789101112</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200830192741696.png" alt="*"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">只可以进行虚拟机之间的访问，访问不了本机的真实网卡，即主</span><br><span class="line">机网卡。但可以访问VMware Network Adapter VMnet1这块虚</span><br><span class="line">拟网卡。图中红线表示到达不了。</span><br><span class="line">123</span><br><span class="line">NAT（地址转换模式）</span><br><span class="line">一般虚拟机上网，使用桥接模式配置简单，但如果你的网络</span><br><span class="line">环境是ip资源很缺少或对ip管理比较严格的话，那桥接模式</span><br><span class="line">就不太适用了，而我们又需要联网。</span><br><span class="line">我们该如何解决呢？</span><br><span class="line"></span><br><span class="line">我们需要用到vmware的另一种网络模式：NAT模式。</span><br><span class="line">NAT模式借助虚拟NAT设备和虚拟DHCP服务器，使</span><br><span class="line">得虚拟机可以联网。其网络结构如下图所示：</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/centos7Pictures/20200831083051319.png" alt="在这里插入图片描述"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">在NAT模式中，主机网卡直接与虚拟NAT设备相连，然后虚</span><br><span class="line">拟NAT设备与虚拟DHCP服务器一起连接在虚拟交换机</span><br><span class="line">VMnet8上，这样就实现了虚拟机联网。</span><br><span class="line"></span><br><span class="line">那么我们会觉得很奇怪，为什么需要虚拟网卡</span><br><span class="line">VMware Network Adapter VMnet8呢？</span><br><span class="line">原来我们的VMware Network Adapter VMnet8</span><br><span class="line">虚拟网卡主要是为了实现主机与虚拟机之间的通信。</span><br><span class="line"></span><br><span class="line">NAT模式，利用虚拟的NAT设备以及虚拟DHCP服务</span><br><span class="line">器来使虚拟机连接外网，而VMware Network Adapter VMnet8</span><br><span class="line">虚拟网卡是用来与虚拟机通信的。</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://chabai000.github.io">茶白</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://chabai000.github.io/posts/12796/">https://chabai000.github.io/posts/12796/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://chabai000.github.io" target="_blank">茶白的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/linux/">linux</a></div><div class="post_share"><div class="social-share" data-image="https://api.aqcoder.cn/random" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/%E8%B5%9E%E8%B5%8F%E7%A0%81.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E8%B5%9E%E8%B5%8F%E7%A0%81.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/posts/37461/" title="mysql基础和高级"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://api.aqcoder.cn/random" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">mysql基础和高级</div></div></a></div></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">茶白</div><div class="author-info__description">不论你在什么时候开始，重要的是开始之后就不要停止；不论你在什么时候结束，重要的是结束之后就不要悔恨</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">31</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/chabai000"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/chabai000" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1693522579@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Linux%E7%9A%84%E5%BC%95%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">1 Linux的引言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Linux%E7%9A%84%E8%AF%9E%E7%94%9F"><span class="toc-number">2.</span> <span class="toc-text">2 Linux的诞生</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Linux%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">3.</span> <span class="toc-text">3 Linux的特点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E5%AE%8C%E5%85%A8%E5%85%8D%E8%B4%B9"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 完全免费</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E5%A4%9A%E7%94%A8%E6%88%B7%E3%80%81%E5%A4%9A%E4%BB%BB%E5%8A%A1"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 多用户、多任务</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Linux%E4%B9%8BCent-OS"><span class="toc-number">4.</span> <span class="toc-text">4 Linux之Cent OS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-centos-%E5%BC%95%E8%A8%80"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 centos 引言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-centos-%E5%92%8C-readheat%E5%8C%BA%E5%88%AB"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 centos 和 readheat区别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Linux%E4%B8%AD%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">5.</span> <span class="toc-text">5 Linux中目录结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-Linux%E4%B8%AD%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="toc-number">6.</span> <span class="toc-text">6 Linux中常用指令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-cd%E5%91%BD%E4%BB%A4"><span class="toc-number">6.1.</span> <span class="toc-text">6.1 cd命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-cp%E5%91%BD%E4%BB%A4"><span class="toc-number">6.2.</span> <span class="toc-text">6.2 cp命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-cat-%E5%91%BD%E4%BB%A4"><span class="toc-number">6.3.</span> <span class="toc-text">6.3 cat 命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-4-chown-chgrp-chmod"><span class="toc-number">6.4.</span> <span class="toc-text">6.4 chown&#x2F;chgrp&#x2F;chmod</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-5-crond%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6"><span class="toc-number">6.5.</span> <span class="toc-text">6.5 crond任务调度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-6-chkconfig-%E6%8C%87%E4%BB%A4"><span class="toc-number">6.6.</span> <span class="toc-text">6.6 chkconfig 指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-7-date-cal"><span class="toc-number">6.7.</span> <span class="toc-text">6.7 date&#x2F;cal</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-8-df-du"><span class="toc-number">6.8.</span> <span class="toc-text">6.8 df&#x2F;du</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#6-8-1-%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F%E6%95%B4%E4%BD%93%E7%A3%81%E7%9B%98%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5"><span class="toc-number">6.8.1.</span> <span class="toc-text">6.8.1 查询系统整体磁盘使用情况</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-8-2-%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5"><span class="toc-number">6.8.2.</span> <span class="toc-text">6.8.2 查询指定目录的磁盘占用情况</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-9-echo-wc"><span class="toc-number">6.9.</span> <span class="toc-text">6.9 echo&#x2F;&gt;&#x2F;&gt;&gt;&#x2F;wc</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-10-find%E5%91%BD%E4%BB%A4"><span class="toc-number">6.10.</span> <span class="toc-text">6.10 find命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-11-grep-%E5%91%BD%E4%BB%A4"><span class="toc-number">6.11.</span> <span class="toc-text">6.11 grep 命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-12-help%E5%91%BD%E4%BB%A4"><span class="toc-number">6.12.</span> <span class="toc-text">6.12 help命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-13-head-%E6%8C%87%E4%BB%A4"><span class="toc-number">6.13.</span> <span class="toc-text">6.13 head 指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-14-history-%E6%8C%87%E4%BB%A4"><span class="toc-number">6.14.</span> <span class="toc-text">6.14 history 指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-15-id-who-whoami"><span class="toc-number">6.15.</span> <span class="toc-text">6.15 id&#x2F;who&#x2F;whoami</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-16-kill%E5%92%8C-killall"><span class="toc-number">6.16.</span> <span class="toc-text">6.16 kill和 killall</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-17-ls-%E5%91%BD%E4%BB%A4"><span class="toc-number">6.17.</span> <span class="toc-text">6.17 ls 命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-18-ln"><span class="toc-number">6.18.</span> <span class="toc-text">6.18 ln</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-19-last%E3%80%81lastlog%E5%91%BD%E4%BB%A4"><span class="toc-number">6.19.</span> <span class="toc-text">6.19 last、lastlog命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-20-mkdir%E5%91%BD%E4%BB%A4"><span class="toc-number">6.20.</span> <span class="toc-text">6.20 mkdir命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-21-mv%E5%91%BD%E4%BB%A4"><span class="toc-number">6.21.</span> <span class="toc-text">6.21 mv命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-22-more%E3%80%81less%E5%91%BD%E4%BB%A4"><span class="toc-number">6.22.</span> <span class="toc-text">6.22 more、less命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-23-man%E5%91%BD%E4%BB%A4"><span class="toc-number">6.23.</span> <span class="toc-text">6.23 man命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-24-mail%E5%91%BD%E4%BB%A4"><span class="toc-number">6.24.</span> <span class="toc-text">6.24 mail命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-25-pwd%E5%91%BD%E4%BB%A4"><span class="toc-number">6.25.</span> <span class="toc-text">6.25 pwd命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-26-ping-ip-netstat"><span class="toc-number">6.26.</span> <span class="toc-text">6.26 ping&#x2F;ip&#x2F;netstat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-27-ps%E5%91%BD%E4%BB%A4"><span class="toc-number">6.27.</span> <span class="toc-text">6.27 ps命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-28-pstree%E5%91%BD%E4%BB%A4"><span class="toc-number">6.28.</span> <span class="toc-text">6.28 pstree命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-29-rm%E5%91%BD%E4%BB%A4"><span class="toc-number">6.29.</span> <span class="toc-text">6.29 rm命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-30-rmdir%E5%91%BD%E4%BB%A4"><span class="toc-number">6.30.</span> <span class="toc-text">6.30 rmdir命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-31-r"><span class="toc-number">6.31.</span> <span class="toc-text">6.31 r!</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-32-rpm-yum-apt"><span class="toc-number">6.32.</span> <span class="toc-text">6.32 rpm&#x2F;yum&#x2F;apt</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-33-runlevel"><span class="toc-number">6.33.</span> <span class="toc-text">6.33 runlevel</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-34-systemctl-%E6%9C%8D%E5%8A%A1%E5%91%BD%E4%BB%A4"><span class="toc-number">6.34.</span> <span class="toc-text">6.34 systemctl 服务命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-35-shutdown-logout"><span class="toc-number">6.35.</span> <span class="toc-text">6.35 shutdown&#x2F;logout</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-36-ssh-scp"><span class="toc-number">6.36.</span> <span class="toc-text">6.36 ssh&#x2F;scp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-37-su"><span class="toc-number">6.37.</span> <span class="toc-text">6.37 su</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-38-source%E5%91%BD%E4%BB%A4"><span class="toc-number">6.38.</span> <span class="toc-text">6.38 source命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-39-touch%E5%91%BD%E4%BB%A4"><span class="toc-number">6.39.</span> <span class="toc-text">6.39 touch命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-40-tar%E5%91%BD%E4%BB%A4"><span class="toc-number">6.40.</span> <span class="toc-text">6.40 tar命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-41-top%E5%91%BD%E4%BB%A4"><span class="toc-number">6.41.</span> <span class="toc-text">6.41 top命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-42-tree-%E5%91%BD%E4%BB%A4"><span class="toc-number">6.42.</span> <span class="toc-text">6.42 tree 命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-43-traceroute%E5%91%BD%E4%BB%A4"><span class="toc-number">6.43.</span> <span class="toc-text">6.43 traceroute命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-44-tail%E6%8C%87%E4%BB%A4"><span class="toc-number">6.44.</span> <span class="toc-text">6.44 tail指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-45-useradd-passwd-userdel"><span class="toc-number">6.45.</span> <span class="toc-text">6.45 useradd&#x2F;passwd&#x2F;userdel</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-46-usermod%E5%91%BD%E4%BB%A4"><span class="toc-number">6.46.</span> <span class="toc-text">6.46 usermod命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-47-which%E5%91%BD%E4%BB%A4"><span class="toc-number">6.47.</span> <span class="toc-text">6.47 which命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-48-whereis%E5%91%BD%E4%BB%A4"><span class="toc-number">6.48.</span> <span class="toc-text">6.48 whereis命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-49-w%E5%91%BD%E4%BB%A4"><span class="toc-number">6.49.</span> <span class="toc-text">6.49 w命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-50-write%E5%91%BD%E4%BB%A4"><span class="toc-number">6.50.</span> <span class="toc-text">6.50 write命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-51-wall%E5%91%BD%E4%BB%A4"><span class="toc-number">6.51.</span> <span class="toc-text">6.51 wall命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-52-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8E%E9%80%9A%E9%85%8D%E7%AC%A6"><span class="toc-number">6.52.</span> <span class="toc-text">6.52 正则表达式与通配符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-53-%E5%88%86%E5%8C%BA"><span class="toc-number">6.53.</span> <span class="toc-text">6.53 分区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-54-%E8%84%9A%E6%9C%AC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8F"><span class="toc-number">6.54.</span> <span class="toc-text">6.54 脚本的常用执行方式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#6-54-1-%E5%8F%98%E9%87%8F"><span class="toc-number">6.54.1.</span> <span class="toc-text">6.54.1 变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-54-2-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">6.54.2.</span> <span class="toc-text">6.54.2 运算符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-54-3-%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">6.54.3.</span> <span class="toc-text">6.54.3 条件判断</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-54-4-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">6.54.4.</span> <span class="toc-text">6.54.4 流程控制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-54-5-read-%E8%AF%BB%E5%8F%96%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%85%A5"><span class="toc-number">6.54.5.</span> <span class="toc-text">6.54.5 read 读取控制台输入</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-55-vim"><span class="toc-number">6.55.</span> <span class="toc-text">6.55 vim</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#6-55-1-%E6%9C%AB%E8%A1%8C%E6%A8%A1%E5%BC%8F%E5%91%BD%E4%BB%A4"><span class="toc-number">6.55.1.</span> <span class="toc-text">6.55.1 末行模式命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-55-2-%E7%A7%BB%E5%8A%A8"><span class="toc-number">6.55.2.</span> <span class="toc-text">6.55.2 移动</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#6-55-2-1-%E8%A1%8C%E5%86%85%E7%A7%BB%E5%8A%A8"><span class="toc-number">6.55.2.1.</span> <span class="toc-text">6.55.2.1 行内移动</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6-55-2-2-%E8%A1%8C%E6%95%B0%E7%A7%BB%E5%8A%A8"><span class="toc-number">6.55.2.2.</span> <span class="toc-text">6.55.2.2 行数移动</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6-55-2-3-%E5%B1%8F%E5%B9%95%E7%A7%BB%E5%8A%A8"><span class="toc-number">6.55.2.3.</span> <span class="toc-text">6.55.2.3 屏幕移动</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6-55-2-4-%E6%AE%B5%E8%90%BD%E7%A7%BB%E5%8A%A8"><span class="toc-number">6.55.2.4.</span> <span class="toc-text">6.55.2.4 段落移动</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-55-3-%E6%A0%87%E8%AE%B0"><span class="toc-number">6.55.3.</span> <span class="toc-text">6.55.3 标记</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-55-4-%E9%80%89%E4%B8%AD%E6%96%87%E6%9C%AC%EF%BC%88%E5%8F%AF%E8%A7%86%E6%A8%A1%E5%BC%8F%EF%BC%89"><span class="toc-number">6.55.4.</span> <span class="toc-text">6.55.4 选中文本（可视模式）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-55-5-%E6%92%A4%E9%94%80%E5%92%8C%E6%81%A2%E5%A4%8D%E6%92%A4%E9%94%80"><span class="toc-number">6.55.5.</span> <span class="toc-text">6.55.5 撤销和恢复撤销</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-55-6-%E5%88%A0%E9%99%A4%E6%96%87%E6%9C%AC"><span class="toc-number">6.55.6.</span> <span class="toc-text">6.55.6 删除文本</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-55-7-%E5%A4%8D%E5%88%B6%E3%80%81%E7%B2%98%E8%B4%B4"><span class="toc-number">6.55.7.</span> <span class="toc-text">6.55.7 复制、粘贴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-55-8-%E6%9B%BF%E6%8D%A2"><span class="toc-number">6.55.8.</span> <span class="toc-text">6.55.8 替换</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-55-9-%E7%BC%A9%E6%8E%92%E5%92%8C%E9%87%8D%E5%A4%8D%E6%89%A7%E8%A1%8C"><span class="toc-number">6.55.9.</span> <span class="toc-text">6.55.9 缩排和重复执行</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-55-10%E5%B8%B8%E8%A7%84%E6%9F%A5%E6%89%BE"><span class="toc-number">6.55.10.</span> <span class="toc-text">6.55.10常规查找</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-55-11-%E6%8F%92%E5%85%A5%E5%91%BD%E4%BB%A4"><span class="toc-number">6.55.11.</span> <span class="toc-text">6.55.11 插入命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-55-12-%E7%BC%96%E8%BE%91%E5%91%BD%E4%BB%A4%E5%92%8C%E6%95%B0%E5%AD%97%E8%BF%9E%E7%94%A8"><span class="toc-number">6.55.12.</span> <span class="toc-text">6.55.12 编辑命令和数字连用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-55-13-%E6%9C%AB%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%89%A9%E5%B1%95"><span class="toc-number">6.55.13.</span> <span class="toc-text">6.55.13 末行命令扩展</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="toc-number">7.</span> <span class="toc-text">7 软件安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E4%BD%8D%E7%BD%AE%E9%97%AE%E9%A2%98"><span class="toc-number">7.1.</span> <span class="toc-text">7.1 安装软件位置问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-%E5%AE%89%E8%A3%85JDK"><span class="toc-number">7.2.</span> <span class="toc-text">7.2 安装JDK</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-3-%E5%AE%89%E8%A3%85Tomcat"><span class="toc-number">7.3.</span> <span class="toc-text">7.3 安装Tomcat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-4-%E5%AE%89%E8%A3%85MySQL"><span class="toc-number">7.4.</span> <span class="toc-text">7.4 安装MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#7-4-1-%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">7.4.1.</span> <span class="toc-text">7.4.1 环境准备</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-4-2-%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85-5-6%E7%89%88%E6%9C%AC%E9%BB%98%E8%AE%A4root%E6%B2%A1%E6%9C%89%E5%AF%86%E7%A0%81"><span class="toc-number">7.4.2.</span> <span class="toc-text">7.4.2 本地安装(5.6版本默认root没有密码)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-4-3-%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85"><span class="toc-number">7.4.3.</span> <span class="toc-text">7.4.3 在线安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-4-4-%E8%AE%BE%E7%BD%AEroot%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81"><span class="toc-number">7.4.4.</span> <span class="toc-text">7.4.4 设置root用户密码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-4-5-%E5%BC%80%E5%90%AF%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE"><span class="toc-number">7.4.5.</span> <span class="toc-text">7.4.5 开启远程访问</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-MySQL%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6"><span class="toc-number">8.</span> <span class="toc-text">8 MySQL主从复制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB"><span class="toc-number">9.</span> <span class="toc-text">9 读写分离</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#9-1-MyCat%E5%BC%95%E8%A8%80"><span class="toc-number">9.1.</span> <span class="toc-text">9.1 MyCat引言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-2-%E5%AE%89%E8%A3%85Mycat"><span class="toc-number">9.2.</span> <span class="toc-text">9.2 安装Mycat</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E5%AE%89%E8%A3%85Nginx"><span class="toc-number">10.</span> <span class="toc-text">10 安装Nginx</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#10-1-Nginx%E7%9A%84%E5%BC%95%E8%A8%80"><span class="toc-number">10.1.</span> <span class="toc-text">10.1 Nginx的引言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-2-Nginx%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-number">10.2.</span> <span class="toc-text">10.2 Nginx的安装</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-Tomcat%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E9%9B%86%E7%BE%A4"><span class="toc-number">11.</span> <span class="toc-text">11 Tomcat负载均衡集群</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#11-1-Nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AD%96%E7%95%A5"><span class="toc-number">11.1.</span> <span class="toc-text">11.1 Nginx负载均衡策略</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-MSM%E9%85%8D%E7%BD%AE"><span class="toc-number">12.</span> <span class="toc-text">12 MSM配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%BC%8F"><span class="toc-number">13.</span> <span class="toc-text">13 虚拟机网络模式</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/12796/" title="centos7"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://api.aqcoder.cn/random" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="centos7"/></a><div class="content"><a class="title" href="/posts/12796/" title="centos7">centos7</a><time datetime="2024-05-18T07:14:53.000Z" title="发表于 2024-05-18 15:14:53">2024-05-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/37461/" title="mysql基础和高级"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://api.aqcoder.cn/random" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mysql基础和高级"/></a><div class="content"><a class="title" href="/posts/37461/" title="mysql基础和高级">mysql基础和高级</a><time datetime="2024-05-18T07:14:41.000Z" title="发表于 2024-05-18 15:14:41">2024-05-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/49176/" title="docker"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://api.aqcoder.cn/random" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="docker"/></a><div class="content"><a class="title" href="/posts/49176/" title="docker">docker</a><time datetime="2024-05-17T07:52:50.000Z" title="发表于 2024-05-17 15:52:50">2024-05-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/22256/" title="swagger"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://api.aqcoder.cn/random" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="swagger"/></a><div class="content"><a class="title" href="/posts/22256/" title="swagger">swagger</a><time datetime="2024-05-17T07:23:44.000Z" title="发表于 2024-05-17 15:23:44">2024-05-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/43167/" title="git"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://api.aqcoder.cn/random" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="git"/></a><div class="content"><a class="title" href="/posts/43167/" title="git">git</a><time datetime="2024-05-17T07:23:16.000Z" title="发表于 2024-05-17 15:23:16">2024-05-17</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 茶白</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const disqus_config = function () {
    this.page.url = 'https://chabai000.github.io/posts/12796/'
    this.page.identifier = '/posts/12796/'
    this.page.title = 'centos7'
  }

  const disqusReset = () => {
    window.DISQUS && window.DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  btf.addGlobalFn('themeChange', disqusReset, 'disqus')

  const loadDisqus = () =>{
    if (window.DISQUS) disqusReset()
    else {
      const script = document.createElement('script')
      script.src = 'https://lchabai.disqus.com/embed.js'
      script.setAttribute('data-timestamp', +new Date())
      document.head.appendChild(script)
    }
  }

  const getCount = async() => {
    try {
      const eleGroup = document.querySelector('#post-meta .disqus-comment-count')
      if (!eleGroup) return
      const cleanedLinks = eleGroup.href.replace(/#post-comment$/, '')

      const res = await fetch(`https://disqus.com/api/3.0/threads/set.json?forum=lchabai&api_key=&thread:link=${cleanedLinks}`,{
        method: 'GET'
      })
      const result = await res.json()

      const count = result.response.length ? result.response[0].posts : 0
      eleGroup.textContent = count
    } catch (err) {
      console.error(err)
    }
  }

  if ('Disqus' === 'Disqus' || !true) {
    if (true) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
    else {
      loadDisqus()
      
    }
  } else {
    window.loadOtherComment = loadDisqus
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<code>.*?<\/code>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    fetch('https://disqus.com/api/3.0/forums/listPosts.json?forum=lchabai&related=thread&limit=6&api_key=')
      .then(response => response.json())
      .then(data => {
        const disqusArray = data.response.map(item => {
          return {
            'avatar': item.author.avatar.cache,
            'content': changeContent(item.message),
            'nick': item.author.name,
            'url': item.url,
            'date': item.createdAt
          }
        })

        saveToLocal.set('disqus-newest-comments', JSON.stringify(disqusArray), 10/(60*24))
        generateHtml(disqusArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (false) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick}</span><time> / ${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('disqus-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="aplayer no-destroy" data-id="9310458102" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" data-lrcType="0"> </div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="false" data-text="I,LOVE,YOU" data-fontsize="15px" data-random="false" async="async"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>