<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>mysql详细版 | 茶白的博客</title><meta name="author" content="茶白"><meta name="copyright" content="茶白"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一、数据库和SQL概述以及MySQL安装与基本使用数据库的好处保存数据的容器一般有：数组、集合、文件等。好处1、实现数据持久化；2、使用完整的管理系统统一管理，易于查询。 数据库的概念DB数据库（database）：存储数据的“仓库”。它保存了一系列有组织的数据。 数据库的特点1、将数据放到表中，表再放到库中;2、一个数据库中可以有多个表，每个表都有一个的名字，用来标识自己。表名具有唯一性；3、表">
<meta property="og:type" content="article">
<meta property="og:title" content="mysql详细版">
<meta property="og:url" content="https://chabai000.github.io/posts/57545/index.html">
<meta property="og:site_name" content="茶白的博客">
<meta property="og:description" content="一、数据库和SQL概述以及MySQL安装与基本使用数据库的好处保存数据的容器一般有：数组、集合、文件等。好处1、实现数据持久化；2、使用完整的管理系统统一管理，易于查询。 数据库的概念DB数据库（database）：存储数据的“仓库”。它保存了一系列有组织的数据。 数据库的特点1、将数据放到表中，表再放到库中;2、一个数据库中可以有多个表，每个表都有一个的名字，用来标识自己。表名具有唯一性；3、表">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://chabai000.github.io/UpPictures/UpCover/mysql.png">
<meta property="article:published_time" content="2022-05-04T07:24:58.000Z">
<meta property="article:modified_time" content="2024-09-05T13:41:54.285Z">
<meta property="article:author" content="茶白">
<meta property="article:tag" content="mysql">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://chabai000.github.io/UpPictures/UpCover/mysql.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://chabai000.github.io/posts/57545/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 茶白","link":"链接: ","source":"来源: 茶白的博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'mysql详细版',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-09-05 21:41:54'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><style type="text/css">.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><meta name="generator" content="Hexo 7.1.1"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (true) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">23</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fas fa-comments"></i><span> 说说</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/UpPictures/UpCover/mysql.png')"><nav id="nav"><span id="blog-info"><a href="/" title="茶白的博客"><span class="site-name">茶白的博客</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/artitalk/"><i class="fa-fw fas fa-comments"></i><span> 说说</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">mysql详细版</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-04T07:24:58.000Z" title="发表于 2022-05-04 15:24:58">2022-05-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-05T13:41:54.285Z" title="更新于 2024-09-05 21:41:54">2024-09-05</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">12.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>42分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="mysql详细版"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="一、数据库和SQL概述以及MySQL安装与基本使用"><a href="#一、数据库和SQL概述以及MySQL安装与基本使用" class="headerlink" title="一、数据库和SQL概述以及MySQL安装与基本使用"></a>一、数据库和SQL概述以及MySQL安装与基本使用</h1><h2 id="数据库的好处"><a href="#数据库的好处" class="headerlink" title="数据库的好处"></a>数据库的好处</h2><p>保存数据的容器一般有：数组、集合、文件等。<br><strong>好处</strong><br>1、实现数据持久化；<br>2、使用完整的管理系统统一管理，易于查询。</p>
<h2 id="数据库的概念"><a href="#数据库的概念" class="headerlink" title="数据库的概念"></a>数据库的概念</h2><h3 id="DB"><a href="#DB" class="headerlink" title="DB"></a>DB</h3><p><strong>数据库</strong>（database）：存储数据的“仓库”。它保存了一系列有组织的数据。</p>
<h4 id="数据库的特点"><a href="#数据库的特点" class="headerlink" title="数据库的特点"></a>数据库的特点</h4><p>1、将数据放到表中，表再放到库中;<br>2、一个数据库中可以有多个表，每个表都有一个的名字，用来标识自己。表名具有唯一性；<br>3、表具有一些特性，这些特性定义了数据在表中如何存储，类似java中 “类”的设计；<br>4、表由列组成，我们也称为字段。所有表都是由一个或多个列组成的，每一列类似java 中的”属性”；<br>5、表中的数据是按行存储的，每一行类似于java中的“对象”。</p>
<h3 id="DBMS"><a href="#DBMS" class="headerlink" title="DBMS"></a>DBMS</h3><p><strong>数据库管理系统</strong>（Database Management System）。数据库是通过DBMS创建和操作的容器。</p>
<p>常见的数据库管理系统：MySQL、Oracle、DB2、SqlServer等</p>
<h3 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h3><p><strong>结构化查询语言</strong>（Structure Query Language）：专门用来与数据库通信的语言。</p>
<h4 id="SQL语言概述"><a href="#SQL语言概述" class="headerlink" title="SQL语言概述"></a>SQL语言概述</h4><p>SQL的优点：<br>1、不是某个特定数据库供应商专有的语言，几乎所有DBMS都支持SQL;<br>2、简单易学;<br>3、虽然简单，但实际上是一种强有力的语言，灵活使用其语言元素，可以进行非常复杂和高级的数据库操作。</p>
<h5 id="SQL语言分类"><a href="#SQL语言分类" class="headerlink" title="SQL语言分类"></a>SQL语言分类</h5><p>1、DDL（Data Definition Language): 数据定义语句，用于库和表的创建、修改、删除；</p>
<p>2、DML（Data Manipulation Language): 数据操纵语句，用于添加、删除、修改、查询数据库记录，并检查数据完整性；</p>
<p>3、DCL（Data Control Language): 数据控制语句，用于定义用户的访问权限和安全级别。</p>
<p>4、DQL（Data Query Language）：数据查询语言，用来查询记录（数据）</p>
<p><strong>DDL</strong><br>DDL用于定义数据库的结构，比如创建、修改或删除数据库对象，包括如下SQL语句：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE：创建数据库表</span><br><span class="line">ALTER TABLE：更改表结构、添加、删除、修改列长度</span><br><span class="line">DROP TABLE：删除表</span><br><span class="line">CREATE INDEX：在表上建立索引</span><br><span class="line">DROP INDEX：删除索引</span><br></pre></td></tr></table></figure>

<p><strong>DML</strong><br>DML用于查询与修改数据记录，包括如下SQL语句：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**INSERT**</span>：添加数据到数据库中<span class="strong">**UPDATE**</span>：修改数据库中的数据</span><br><span class="line"><span class="strong">**DELETE**</span>：删除数据库中的数据</span><br><span class="line"><span class="strong">**SELECT**</span>：选择（查询）数据</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;SELECT是SQL语言的基础，最为重要。&#x3D;&#x3D;</p>
<p><strong>DCL</strong><br>DCL用来控制数据库的访问，包括如下SQL语句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span>：授予访问权限</span><br><span class="line"><span class="keyword">REVOKE</span>：撤销访问权限</span><br><span class="line"><span class="keyword">COMMIT</span>：提交事务处理</span><br><span class="line"><span class="keyword">ROLLBACK</span>：事务处理回退</span><br><span class="line"><span class="keyword">SAVEPOINT</span>：设置保存点</span><br><span class="line">LOCK：对数据库的特定部分进行锁定</span><br></pre></td></tr></table></figure>

<h2 id="MySQL安装与使用"><a href="#MySQL安装与使用" class="headerlink" title="MySQL安装与使用"></a>MySQL安装与使用</h2><h3 id="MySQL数据库产品的介绍"><a href="#MySQL数据库产品的介绍" class="headerlink" title="MySQL数据库产品的介绍"></a>MySQL数据库产品的介绍</h3><p>MySQL产品的特点：<br>• MySQL数据库隶属于MySQL AB公司，总部位于瑞典，后被oracle收购。<br>• 优点：<br>– 成本低：开放源代码，一般可以免费试用<br>– 性能高：执行很快<br>– 简单：很容易安装和使用</p>
<h3 id="MySQL数据库的安装"><a href="#MySQL数据库的安装" class="headerlink" title="MySQL数据库的安装"></a>MySQL数据库的安装</h3><p>• DBMS分为两类：<br>– 基于共享文件系统的DBMS （Access ）<br>– 基于客户机——服务器的DBMS（MySQL、Oracle、SqlServer）<br>MySQL的版本<br>• 社区版（免费）<br>• 企业版（收费）<br><a target="_blank" rel="noopener" href="http://www.mysql.com/">数据库官网下载</a><br>具体的安装教程可以参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43037478/article/details/88976024?ops_request_misc=%7B%22request_id%22:%22158546349119195162532413%22,%22scm%22:%2220140713.130056874..%22%7D&request_id=158546349119195162532413&biz_id=0&utm_source=distribute.pc_search_result.none-task">MySQL安装教程</a><br><strong>启动和停止MySQL服务</strong><br>方式一：通过计算机管理方式<br>右击计算机—管理—服务—启动或停止MySQL服务<br>方式二：通过命令行方式<br>启动：net start mysql服务名<br>停止：net stop mysql服务名<br><strong>MySQL服务端的登录和退出</strong><br>登录<br>mysql –h 主机名 –u用户名 –p密码<br>退出<br>exit</p>
<h2 id="MySql数据库的使用"><a href="#MySql数据库的使用" class="headerlink" title="MySql数据库的使用"></a>MySql数据库的使用</h2><h3 id="MySQL语法规范"><a href="#MySQL语法规范" class="headerlink" title="MySQL语法规范"></a>MySQL语法规范</h3><p>– 不区分大小写<br>– 每句话用;或\g结尾<br>– 各子句一般分行写<br>– 关键字不能缩写也不能分行<br>– 用缩进提高语句的可读性</p>
<ul>
<li>进入 mysql, 在命令行中输入: mysql –uroot –p#### (其中：####表示密码）<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329163342440.png" alt="在这里插入图片描述"></li>
<li>查看 mysql 中有哪些个数据库: show databases; <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329163506939.png" alt="在这里插入图片描述"></li>
<li>使用一个数据库: use 数据库名称; <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329163920522.png" alt="在这里插入图片描述"></li>
<li>新建一个数据库: create database 数据库名<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329164146610.png" alt="在这里插入图片描述"><br>5.查看指定的数据库中有哪些数据表: show tables; <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329164349103.png" alt="在这里插入图片描述"> 6.建表:<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/202003291649091.png" alt="在这里插入图片描述">7. 查看表的结构：desc 表名<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329165020819.png" alt="在这里插入图片描述">8. 删除表: drop table 表名<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329165252475.png" alt="在这里插入图片描述"></li>
<li>查看表中的所有记录: select * from 表名; <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329165704938.png" alt="在这里插入图片描述"></li>
<li>向表中插入记录：insert into 表名(列名列表) values(列对应的值的列表);<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329170436211.png" alt="在这里插入图片描述">注意：插入 varchar 或 date 型的数据要用 单引号 引起来</li>
<li>修改记录: update 表名 set 列1 &#x3D; 列1的值, 列2 &#x3D; 列2的值 where …<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329170629842.png" alt="在这里插入图片描述"></li>
<li>删除记录: delete from 表名 where ….<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329170721905.png" alt="在这里插入图片描述"></li>
<li>查询所有列: select * from 表名;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329170749809.png" alt="在这里插入图片描述"></li>
<li>查询特定的列: select 列名1,列名2, … from 表名<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/202003291708317.png" alt="在这里插入图片描述"></li>
<li>对查询的数据进行过滤：使用 where 子句<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329170913689.png" alt="在这里插入图片描述"><br><strong>运算符：</strong></li>
<li>% 匹配任意多字符；<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329171704731.png" alt="在这里插入图片描述"></li>
<li>_只匹配一个字符<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329171907527.png" alt="在这里插入图片描述"></li>
<li>查询 name 中有 o 的人的名字<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329172108208.png" alt="在这里插入图片描述"></li>
<li>查询 name 中 第 3 个字母是 r 的人的名字<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329172236392.png" alt="在这里插入图片描述"></li>
<li>查询 email 不为 空 的所有人的信息<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329173117667.png" alt="在这里插入图片描述"></li>
<li>查询所有客户信息, 且按 salary 升序排列<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329173244604.png" alt="在这里插入图片描述"><br>查询所有客户信息, 且按 salary 降序排列<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329173314456.png" alt="在这里插入图片描述"></li>
</ul>
<h1 id="二、MySQL之DDL语言"><a href="#二、MySQL之DDL语言" class="headerlink" title="二、MySQL之DDL语言"></a>二、MySQL之DDL语言</h1><h2 id="DDL语言概述"><a href="#DDL语言概述" class="headerlink" title="DDL语言概述"></a>DDL语言概述</h2><p>DDL（Data Definition Language):数据定义语句，用于库和表的创建、修改、删除。</p>
<h2 id="库的管理"><a href="#库的管理" class="headerlink" title="库的管理"></a>库的管理</h2><h3 id="创建库"><a href="#创建库" class="headerlink" title="创建库"></a>创建库</h3><p><strong>语法</strong><br>–create database 【if not exists】 库名【 character set 字符集名】;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330182955187.png" alt="在这里插入图片描述"><br><strong>相关其他命令</strong><br>– show databases;查看当前所有数据库。<br>– use employees;“使用”一个数据库，使其作为当前数据库。<br><strong>命名规则</strong><br>• 数据库名不得超过30个字符，变量名限制为29个；<br>• 必须只能包含 A–Z, a–z, 0–9, _共63个字符；<br>• 不能在对象名的字符间留空格；<br>• 必须不能和用户定义的其他对象重名；<br>• 必须保证你的字段没有和保留字、数据库系统或常用方法冲突；<br>• 保持字段名和类型的一致性,在命名字段并为其指定数据类型的时候一定要保证一致性。假如数据类型在一个表里是整数,那在另一个表里可就别变成字符型了。</p>
<h3 id="修改库"><a href="#修改库" class="headerlink" title="修改库"></a>修改库</h3><p>因为修改库有很大风险造成数据错乱，所以不建议修改库！<br>修改库名可以采用：退出mysql客服端，找到安装mysql的目录–data–找到想要修改的库修改名称–重启mysql客服端。</p>
<h3 id="删除库"><a href="#删除库" class="headerlink" title="删除库"></a>删除库</h3><p><strong>语法</strong><br>drop database 【if exists】 库名;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020033018441163.png" alt="在这里插入图片描述"></p>
<h2 id="表的管理"><a href="#表的管理" class="headerlink" title="表的管理"></a>表的管理</h2><h3 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h3><p><strong>语法</strong><br>create table 【if not exists】 表名(<br>字段名 字段类型 【约束】,<br>字段名 字段类型 【约束】,<br>。。。<br>字段名 字段类型 【约束】<br>)</p>
<ul>
<li>必须具备:<br>– CREATE TABLE权限<br>– 存储空间</li>
<li>必须指定:<br>– 表名<br>– 列名, 数据类型, 尺寸<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330185235930.png" alt="在这里插入图片描述"></li>
</ul>
<h4 id="使用子查询创建表"><a href="#使用子查询创建表" class="headerlink" title="使用子查询创建表"></a>使用子查询创建表</h4><p><strong>语法</strong><br>CREATE TABLE table<br>[(column, column…)]<br>AS subquery;<br>• 使用 AS subquery 选项，将创建表和插入数据结合起来。<br>• 指定的列和子查询中的列要一一对应<br>• 通过列名和默认值定义列<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330193349859.png" alt="在这里插入图片描述"></p>
<h4 id="常见的数据类型"><a href="#常见的数据类型" class="headerlink" title="常见的数据类型"></a>常见的数据类型</h4><table>
<thead>
<tr>
<th>数据类型</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>INT</td>
<td>使用4个字节保存整数数据</td>
</tr>
<tr>
<td>CHAR(size)</td>
<td>定长字符数据。若未指定，默认为1个字符，最大长度255</td>
</tr>
<tr>
<td>VARCHAR(size)</td>
<td>可变长字符数据，根据字符串实际长度保存，&#x3D;&#x3D;必须指定长度 &#x3D;&#x3D;</td>
</tr>
<tr>
<td>FLOAT(M,D)</td>
<td>单精度，M&#x3D;整数位+小数位，D&#x3D;小数位。 D&lt;&#x3D;M&lt;&#x3D;255,0&lt;&#x3D;D&lt;&#x3D;30，默认M+D&lt;&#x3D;6</td>
</tr>
<tr>
<td>DOUBLE(M,D)</td>
<td>双精度。D&lt;&#x3D;M&lt;&#x3D;255,0&lt;&#x3D;D&lt;&#x3D;30，默认M+D&lt;&#x3D;15</td>
</tr>
<tr>
<td>DATE</td>
<td>日期型数据，格式’YYYY-MM-DD’</td>
</tr>
<tr>
<td>BLOB</td>
<td>二进制形式的长文本数据，最大可达4G</td>
</tr>
<tr>
<td>TEXT</td>
<td>长文本数据，最大可达4G</td>
</tr>
<tr>
<td>ENUM</td>
<td>enum(‘a’,‘b’,‘c’)数据只能是枚举类型后面之一</td>
</tr>
</tbody></table>
<p><strong>一、数值型</strong><br>1、整型<br>tinyint、smallint、mediumint、int&#x2F;integer、bigint<br>1个字节 2个字节 3 个字节 4个字节 8个字节<br>特点：<br>①都可以设置无符号和有符号，默认有符号，通过unsigned设置无符号；<br>②如果超出了范围，会报out or range异常，插入临界值；<br>③长度可以不指定，默认会有一个长度，长度代表显示的最大宽度，如果不够则左边用0填充，但需要搭配zerofill，并且默认变为无符号整型。<br>2、浮点型<br>定点数：decimal(M,D)<br>浮点数:<br>float(M,D) 4个字节<br>double(M,D) 8个字节<br>特点：<br>①M代表整数部位+小数部位的个数，D代表小数部位<br>②如果超出范围，则报out or range异常，并且插入临界值<br>③M和D都可以省略，但对于定点数，M默认为10，D默认为0<br>④如果精度要求较高，则优先考虑使用定点数<br><strong>二、字符型</strong><br>char、varchar、binary、varbinary、enum、set、text、blob<br>char：固定长度的字符，写法为char(M)，最大长度不能超过M，其中M可以省略，默认为1<br>varchar：可变长度的字符，写法为varchar(M)，最大长度不能超过M，其中M不可以省略<br><strong>三、日期型</strong><br>year年<br>date日期<br>time时间<br>datetime 日期+时间 8个字符<br>timestamp 日期+时间 4个字符 比较容易受时区、语法模式、版本的影响，更能反映当前时区的真实时间</p>
<h4 id="常见的约束"><a href="#常见的约束" class="headerlink" title="常见的约束"></a>常见的约束</h4><table>
<thead>
<tr>
<th>约束名</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>NOT NULL</td>
<td>非空，该字段的值必填</td>
</tr>
<tr>
<td>UNIQUE</td>
<td>唯一，该字段的值不可重复</td>
</tr>
<tr>
<td>DEFAULT</td>
<td>默认，该字段的值不用手动插入有默认值</td>
</tr>
<tr>
<td>CHECK</td>
<td>检查，mysql不支持</td>
</tr>
<tr>
<td>PRIMARY KEY</td>
<td>主键，该字段的值不可重复并且非空 ，相当于unique+not null</td>
</tr>
<tr>
<td>FOREIGN KEY</td>
<td>外键，该字段的值引用了另外的表的字段</td>
</tr>
</tbody></table>
<h3 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h3><p><strong>1.添加列</strong><br>alter table 表名 add column 列名 类型 【first|after 字段名】;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330191540524.png" alt="在这里插入图片描述"><br><strong>2.修改列的类型或约束</strong><br>alter table 表名 modify column 列名 新类型 【新约束】;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330191803674.png" alt="在这里插入图片描述"><br><strong>3.修改列名</strong><br>alter table 表名 change column 旧列名 新列名 类型;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330192202869.png" alt="在这里插入图片描述"><br><strong>4 .删除列</strong><br>alter table 表名 drop column 列名;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330191500586.png" alt="在这里插入图片描述"><br><strong>5.修改表名</strong><br>alter table 表名 rename 【to】 新表名;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330192315601.png" alt="在这里插入图片描述"></p>
<h3 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h3><p>drop table【if exists】 表名;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330194725618.png" alt="在这里插入图片描述"></p>
<h3 id="复制表"><a href="#复制表" class="headerlink" title="复制表"></a>复制表</h3><p>1、复制表的结构<br>create table 表名 like 旧表;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330194848775.png" alt="在这里插入图片描述"><br>2、复制表的结构+数据<br>create table 表名<br>select 查询列表 from 旧表【where 筛选】;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330193349859.png" alt="在这里插入图片描述"></p>
<h1 id="三、MySQL之DML语言"><a href="#三、MySQL之DML语言" class="headerlink" title="三、MySQL之DML语言"></a>三、MySQL之DML语言</h1><p>DML(Data Manipulation Language –数据操纵语言) 可以在下列条件下执行:<br>– 向表中插入数据<br>– 修改现存数据<br>– 删除现存数据<br>事务是由完成若干项工作的DML语句组成的。</p>
<h3 id="插入（insert）"><a href="#插入（insert）" class="headerlink" title="插入（insert）"></a>插入（<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=insert&spm=1001.2101.3001.7020">insert</a>）</h3><h4 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h4><p>语法：<br>insert into 表名(字段名,…) values(值,…);<br>特点：<br>1、要求值的类型和字段的类型要一致或兼容<br>2、字段的个数和顺序不一定与原始表中的字段个数和顺序一致<br>但必须保证值和字段一一对应<br>3、假如表中有可以为null的字段，注意可以通过以下两种方式插入null值<br>①字段和值都省略<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330000405132.png" alt="在这里插入图片描述"><br>②字段写上，值使用null<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330000508972.png" alt="在这里插入图片描述"><br>4、字段和值的个数必须一致<br>5、字段名可以省略，默认所有列</p>
<h4 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h4><p>语法：<br>insert into 表名 set 字段&#x3D;值,字段&#x3D;值,…;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020033000072955.png" alt="在这里插入图片描述"><br>两种方式 的区别：<br>1.方式一支持一次插入多行，语法如下：<br>insert into 表名【(字段名,…)】 values(值，…),(值，…),…;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330001134654.png" alt="在这里插入图片描述"><br>2.方式一支持子查询，语法如下：<br>insert into 表名 查询语句;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330002401973.png" alt="在这里插入图片描述"></p>
<h3 id="修改（update）"><a href="#修改（update）" class="headerlink" title="修改（update）"></a>修改（update）</h3><h4 id="一、修改单表的记录"><a href="#一、修改单表的记录" class="headerlink" title="一、修改单表的记录"></a>一、修改单表的记录</h4><p>语法：update 表名 set 字段&#x3D;值,字段&#x3D;值 【where 筛选条件】;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020033000264215.png" alt="在这里插入图片描述"></p>
<h4 id="二、修改多表的记录"><a href="#二、修改多表的记录" class="headerlink" title="二、修改多表的记录"></a>二、修改多表的记录</h4><p>语法：<br>update 表1 别名<br>left|right|inner join 表2 别名<br>on 连接条件<br>set 字段&#x3D;值,字段&#x3D;值<br>【where 筛选条件】;<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330003458804.png" alt="在这里插入图片描述"></p>
<h3 id="删除（delete）"><a href="#删除（delete）" class="headerlink" title="删除（delete）"></a>删除（delete）</h3><h4 id="方式一：使用delete"><a href="#方式一：使用delete" class="headerlink" title="方式一：使用delete"></a>方式一：使用delete</h4><p><strong>一、删除单表的记录</strong><br>语法：delete from 表名 【where 筛选条件】【limit 条目数】<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330003817529.png" alt="在这里插入图片描述"><br><strong>二、级联删除</strong><br>语法：<br>delete 别名1,别名2 from 表1 别名<br>inner|left|right join 表2 别名<br>on 连接条件<br>【where 筛选条件】<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330004057712.png" alt="在这里插入图片描述"></p>
<h4 id="方式二：使用truncate"><a href="#方式二：使用truncate" class="headerlink" title="方式二：使用truncate"></a>方式二：使用truncate</h4><p>语法：truncate table 表名<br>两种方式的区别【面试题】<br>1.truncate删除后，如果再插入，标识列从1开始<br>delete删除后，如果再插入，标识列从断点开始<br>2.delete可以添加筛选条件<br>truncate不可以添加筛选条件<br>3.truncate效率较高<br>4.truncate没有返回值<br>delete可以返回受影响的行数<br>5.truncate不可以回滚<br>delete可以回滚</p>
<h1 id="四、MySql之DCL语言"><a href="#四、MySql之DCL语言" class="headerlink" title="四、MySql之DCL语言"></a>四、MySql之DCL语言</h1><p>DCL（Data Control Language）：数据控制语言，用来定义访问权限和安全级别；</p>
<h2 id="1-创建用户"><a href="#1-创建用户" class="headerlink" title="1.创建用户"></a><strong>1.创建用户</strong></h2><p>语法:</p>
<p>CREATE USER ‘用户名’@地址 IDENTIFIED BY ‘密码’;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER ‘user1’@localhost IDENTIFIED BY ‘123’;</span><br><span class="line">CREATE USER ‘user2’@’%’ IDENTIFIED BY ‘123’;</span><br></pre></td></tr></table></figure>

<h2 id="2-给用户授权"><a href="#2-给用户授权" class="headerlink" title="2.给用户授权"></a><strong>2.给用户授权</strong></h2><p>语法：</p>
<p>GRANT 权限 1, … , 权限 n ON 数据库.* TO ‘用户名’@地址;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GRANT CREATE,ALTER,DROP,INSERT,UPDATE,DELETE,SELECT ON mydb1.* TO &#x27;user1&#x27;@localhost;</span><br><span class="line">GRANT ALL ON mydb1.* TO user2@localhost;</span><br></pre></td></tr></table></figure>

<h2 id="3-撤销授权"><a href="#3-撤销授权" class="headerlink" title="3.撤销授权"></a><strong>3.撤销授权</strong></h2><p>语法:</p>
<p>REVOKE 权限 1, … , 权限 n ON 数据库.* FROM ‘用户名’@地址;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REVOKE CREATE,ALTER,DROP ON mydb1.* FROM &#x27;user1&#x27;@localhost;</span><br></pre></td></tr></table></figure>

<h2 id="4-查看用户权限"><a href="#4-查看用户权限" class="headerlink" title="4..查看用户权限"></a><strong>4..查看用户权限</strong></h2><p>SHOW GRANTS FOR ‘用户名’@地址;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW GRANTS FOR &#x27;user1&#x27;@localhost;</span><br></pre></td></tr></table></figure>

<h2 id="5-删除用户"><a href="#5-删除用户" class="headerlink" title="5.删除用户"></a><strong>5.删除用户</strong></h2><p>语法：<br>DROP USER ‘用户名’@地址;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP USER ‘user1’@localhost;</span><br></pre></td></tr></table></figure>

<h2 id="6-修改用户密码（以root身份）"><a href="#6-修改用户密码（以root身份）" class="headerlink" title="6.修改用户密码（以root身份）"></a><strong>6.修改用户密码（以root身份）</strong></h2><p>语法 ：<br>use mysql;<br>alter user ‘用户名‘@localhost identified by ‘新密码’;</p>
<h1 id="五、MySQL之DQL语言"><a href="#五、MySQL之DQL语言" class="headerlink" title="五、MySQL之DQL语言"></a>五、MySQL之DQL语言</h1><p>DQL（Data Query Language）：数据查询语言，用来查询记录（数据）</p>
<h2 id="一、MySQL中DQL语言之基础查询"><a href="#一、MySQL中DQL语言之基础查询" class="headerlink" title="一、MySQL中DQL语言之基础查询"></a>一、MySQL中DQL语言之基础查询</h2><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line"><span class="keyword">from</span> 表名;</span><br></pre></td></tr></table></figure>

<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><p>1、查询列表可以是字段、常量、表达式、函数，也可以是多个<br>2、查询结果是一个虚拟表</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p><strong>演示表student结构：</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020040223103879.png" alt="在这里插入图片描述"><br>1、查询单个字段</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 字段名 <span class="keyword">from</span> 表名;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020040223121437.png" alt="在这里插入图片描述"><br>2、查询多个字段</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 字段名，字段名 <span class="keyword">from</span> 表名;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402231313661.png" alt="在这里插入图片描述"><br>3、查询所有字段</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表名</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402231344739.png" alt="在这里插入图片描述"><br>4、查询常量</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 常量值;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402231729679.png" alt="在这里插入图片描述"><br>注意：字符型和日期型的常量值必须用单引号引起来，数值型不需要<br>5、查询函数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 函数名(实参列表);</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402231959758.png" alt="在这里插入图片描述"><br><strong>如果想了解更多关于常见函数的内容，可以查看：MySQL之常见函数</strong><br>6、查询表达式</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> (<span class="number">10</span><span class="operator">+</span><span class="number">20</span>) sum;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402233035590.png" alt="在这里插入图片描述"><br>7、起别名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">①<span class="keyword">as</span></span><br><span class="line">②空格</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402233237788.png" alt="在这里插入图片描述"><br>8、去重</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> 字段名 <span class="keyword">from</span> 表名;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402233449678.png" alt="在这里插入图片描述"><br>9、+<br>作用：做加法运算</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 数值<span class="operator">+</span>数值; #直接运算</span><br><span class="line"><span class="keyword">select</span> 字符<span class="operator">+</span>数值;#先试图将字符转换成数值，如果转换成功，则继续运算；否则转换成<span class="number">0</span>，再做运算</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">null</span><span class="operator">+</span>值;#结果都为<span class="keyword">null</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402233741691.png" alt="在这里插入图片描述"><br>10、concat函数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#功能：拼接字符</span><br><span class="line"><span class="keyword">select</span> concat(字符<span class="number">1</span>，字符<span class="number">2</span>，字符<span class="number">3</span>,...);</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402233912246.png" alt="在这里插入图片描述"><br>11、ifnull函数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#功能：判断某字段或表达式是否为<span class="keyword">null</span>，如果为<span class="keyword">null</span> 返回指定的值，否则返回原本的值</span><br><span class="line"><span class="keyword">select</span> ifnull(指定值或表达式,<span class="number">0</span>) <span class="keyword">from</span> 表;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402234235524.png" alt="在这里插入图片描述"><br>12、isnull函数<br>功能：判断某字段或表达式是否为null，如果是，则返回1，否则返回0<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402234632324.png" alt="在这里插入图片描述"></p>
<h2 id="二、MySQL中DQL语言之条件查询"><a href="#二、MySQL中DQL语言之条件查询" class="headerlink" title="二、MySQL中DQL语言之条件查询"></a>二、MySQL中DQL语言之条件查询</h2><h3 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line"><span class="keyword">from</span> 表名</span><br><span class="line"><span class="keyword">where</span> 筛选条件</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200403231946399.png" alt="在这里插入图片描述"></p>
<h3 id="筛选条件的分类"><a href="#筛选条件的分类" class="headerlink" title="筛选条件的分类"></a>筛选条件的分类</h3><h4 id="一、按条件表达式筛选"><a href="#一、按条件表达式筛选" class="headerlink" title="一、按条件表达式筛选"></a>一、按条件表达式筛选</h4><table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>&#x3D;</td>
<td>等于 (不是 &#x3D;&#x3D;)</td>
</tr>
<tr>
<td>&gt;</td>
<td>大于</td>
</tr>
<tr>
<td>&gt;&#x3D;</td>
<td>大于、等于</td>
</tr>
<tr>
<td>&lt;</td>
<td>小于</td>
</tr>
<tr>
<td>&lt;&#x3D;</td>
<td>小于、等于</td>
</tr>
<tr>
<td>&lt;&gt;</td>
<td>不等于 (也可以是 !&#x3D;)</td>
</tr>
</tbody></table>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200403232443501.png" alt="img"></p>
<h4 id="二、按逻辑表达式筛选"><a href="#二、按逻辑表达式筛选" class="headerlink" title="二、按逻辑表达式筛选"></a>二、按逻辑表达式筛选</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">逻辑运算符：</span><br><span class="line">作用：用于连接条件表达式</span><br><span class="line"></span><br><span class="line">&amp;&amp;和and：两个条件都为true，结果为true，反之为false</span><br><span class="line">||或or： 只要有一个条件为true，结果为true，反之为false</span><br><span class="line">!或not： 如果连接的条件本身为false，结果为true，反之为false</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020040323273214.png" alt="在这里插入图片描述"></p>
<h4 id="三、模糊查询"><a href="#三、模糊查询" class="headerlink" title="三、模糊查询"></a>三、模糊查询</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">like</span>:一般搭配通配符使用，可以判断字符型或数值型</span><br><span class="line">通配符：<span class="operator">%</span>任意多个字符，_任意单个字符</span><br><span class="line"><span class="keyword">between</span> <span class="keyword">and</span>:在两者之间包含边界</span><br><span class="line"><span class="keyword">in</span>:多个中的一个或多个</span><br><span class="line"><span class="keyword">is</span> <span class="keyword">null</span>:不为空</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200403233402844.png" alt="在这里插入图片描述"></p>
<h2 id="三、MySQL中DQL语言之排序查询"><a href="#三、MySQL中DQL语言之排序查询" class="headerlink" title="三、MySQL中DQL语言之排序查询"></a>三、MySQL中DQL语言之排序查询</h2><h3 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line"><span class="keyword">from</span> 表</span><br><span class="line"><span class="keyword">where</span> 筛选条件</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> 排序列表 【<span class="keyword">asc</span>&#125;<span class="keyword">desc</span>】</span><br></pre></td></tr></table></figure>

<h3 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h3><p>1、<code>asc ：升序，如果不写默认升序; desc：降序</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200403234930104.png" alt="在这里插入图片描述"><br>2、<code>排序列表 支持 单个字段、多个字段、函数、表达式、别名</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200403235156355.png" alt="在这里插入图片描述"><br>3、<code>order by的位置一般放在查询语句的最后（除limit语句之外）</code><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200403235227284.png" alt="在这里插入图片描述"></p>
<h2 id="四、MySQL之常见函数"><a href="#四、MySQL之常见函数" class="headerlink" title="四、MySQL之常见函数"></a>四、MySQL之常见函数</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>功能：类似于java中的方法<br>好处：提高重用性和隐藏实现细节<br>调用：select 函数名(实参列表);</p>
<h3 id="字符函数"><a href="#字符函数" class="headerlink" title="字符函数"></a>字符函数</h3><p><strong>大小写控制函数</strong><br>这类函数改变字符的大小写。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>LOWER(‘SQL Course’)</td>
<td>sql course</td>
</tr>
<tr>
<td>UPPER(‘SQL Course’)</td>
<td>SQL COURSE</td>
</tr>
</tbody></table>
<p><strong>字符控制函数</strong><br>这类函数控制字符:</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>CONCAT(‘Hello’, ‘World’)</td>
<td>HelloWorld</td>
</tr>
<tr>
<td>SUBSTR(‘HelloWorld’,1,5)</td>
<td>Hello</td>
</tr>
<tr>
<td>LENGTH(‘HelloWorld’)</td>
<td>10</td>
</tr>
<tr>
<td>INSTR(‘HelloWorld’, ‘W’)</td>
<td>6</td>
</tr>
<tr>
<td>LPAD(salary,10,’*’)</td>
<td>*****24000</td>
</tr>
<tr>
<td>RPAD(salary, 10, ‘*’)</td>
<td>24000*****</td>
</tr>
<tr>
<td>TRIM(‘H’ FROM ‘HelloWorld’)</td>
<td>elloWorld</td>
</tr>
<tr>
<td>REPLACE(‘abcd’,‘b’,‘m’)</td>
<td>amcd</td>
</tr>
</tbody></table>
<h3 id="数字函数"><a href="#数字函数" class="headerlink" title="数字函数"></a>数字函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>ROUND(45.926, 2)</td>
<td>45.93</td>
</tr>
<tr>
<td>TRUNCATE(45.926, 2)</td>
<td>45.92</td>
</tr>
<tr>
<td>MOD(1600, 300)</td>
<td>100</td>
</tr>
<tr>
<td>CEIL(20.1)</td>
<td>21</td>
</tr>
<tr>
<td>FLOOR(20.6)</td>
<td>20</td>
</tr>
<tr>
<td>RAND()</td>
<td>获取随机数，返回0-1之间的小数</td>
</tr>
</tbody></table>
<h3 id="日期函数"><a href="#日期函数" class="headerlink" title="日期函数"></a>日期函数</h3><table>
<thead>
<tr>
<th>函数</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>now（）</td>
<td>获取当前时间</td>
</tr>
<tr>
<td>STR_TO_DATE(‘9-13-1999’,’%m-%d-%Y’)</td>
<td>1999-09-13</td>
</tr>
<tr>
<td>DATE_FORMAT(‘2018&#x2F;6&#x2F;6’,‘%Y年%m月%d日’)</td>
<td>2018年06月06日</td>
</tr>
<tr>
<td>YEAR(date)</td>
<td>返回年</td>
</tr>
<tr>
<td>MONTH(NOW())</td>
<td>返回月</td>
</tr>
<tr>
<td>DAY(NOW())</td>
<td>返回日</td>
</tr>
<tr>
<td>CURDATE()</td>
<td>返回当前时期</td>
</tr>
<tr>
<td>CURTIME()</td>
<td>返回当前时间</td>
</tr>
<tr>
<td>HOUR(NOW())</td>
<td>返回当前小时24小时制</td>
</tr>
<tr>
<td>MINUTE(NOW())</td>
<td>返回当前分钟</td>
</tr>
<tr>
<td>SECOND(NOW())</td>
<td>返回当前秒</td>
</tr>
<tr>
<td>DATEDIFF(‘1970-01-01’,NOW())</td>
<td>返回两个日期相差的天数</td>
</tr>
<tr>
<td>MONTHNAME(NOW())</td>
<td>以英文形式返回月</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>格式符</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>%Y</td>
<td>四位的年份</td>
</tr>
<tr>
<td>%y</td>
<td>2位的年份</td>
</tr>
<tr>
<td>%m</td>
<td>月份（01,02…11,12）</td>
</tr>
<tr>
<td>%c</td>
<td>月份（1,2,…11,12）</td>
</tr>
<tr>
<td>%d</td>
<td>日（01,02,…）</td>
</tr>
<tr>
<td>%H</td>
<td>小时（24小时制）</td>
</tr>
<tr>
<td>%h</td>
<td>小时（12小时制）</td>
</tr>
<tr>
<td>%i</td>
<td>分钟（00,01…59）</td>
</tr>
<tr>
<td>%s</td>
<td>秒（00,01,…59）</td>
</tr>
</tbody></table>
<p><strong>其他函数</strong></p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>version()</td>
<td>当前数据库服务器的版本</td>
</tr>
<tr>
<td>database()</td>
<td>当前打开的数据库</td>
</tr>
<tr>
<td>user()</td>
<td>当前用户</td>
</tr>
<tr>
<td>password(‘字符’)</td>
<td>返回该字符的密码形式</td>
</tr>
<tr>
<td>md5(‘字符’)</td>
<td>返回该字符的md5加密形式</td>
</tr>
</tbody></table>
<h3 id="流程控制函数"><a href="#流程控制函数" class="headerlink" title="流程控制函数"></a>流程控制函数</h3><p>①if(条件<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E8%A1%A8%E8%BE%BE%E5%BC%8F&spm=1001.2101.3001.7020">表达式</a>，表达式1，表达式2)：如果条件表达式成立，返回表达式1，否则返回表达式2<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329230937154.png" alt="在这里插入图片描述"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329231016325.png" alt="在这里插入图片描述"><br>②case情况1<br>case 变量或表达式或字段<br>when 常量1 then 值1<br>when 常量2 then 值2<br>…<br>else 值n<br>end<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329231232257.png" alt="在这里插入图片描述"><br>③case情况2<br>case<br>when 条件1 then 值1<br>when 条件2 then 值2<br>…<br>else 值n<br>end<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329231329931.png" alt="在这里插入图片描述"></p>
<h3 id="分组函数"><a href="#分组函数" class="headerlink" title="分组函数"></a>分组函数</h3><h4 id="1、分类"><a href="#1、分类" class="headerlink" title="1、分类"></a>1、分类</h4><p><strong>max:最大值</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329231620534.png" alt="在这里插入图片描述"><br><strong>min :最小值</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329231800747.png" alt="在这里插入图片描述"><br><strong>sum: 和<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329231824882.png" alt="在这里插入图片描述"><br>avg: 平均值<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329231846745.png" alt="在这里插入图片描述"><br>count: 计算个数</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200329231931225.png" alt="在这里插入图片描述"></p>
<h4 id="2、特点"><a href="#2、特点" class="headerlink" title="2、特点"></a>2、特点</h4><p>①语法<br>select max(字段) from 表名;</p>
<p>②支持的类型<br>sum和avg一般用于处理数值型<br>max、min、count可以处理任何数据类型</p>
<p>③以上分组函数都忽略null<br>④都可以搭配distinct使用，实现去重的统计<br>select sum(distinct 字段) from 表;<br>⑤count函数<br>count(字段)：统计该字段非空值的个数<br>count(<em>):统计结果集的行数<br>count(1):统计结果集的行数<br>效率上：<br>MyISAM存储引擎，count(</em>)最高<br>InnoDB存储引擎，count(*)和count(1)效率&gt;count(字段)<br>⑥ 和分组函数一同查询的字段，要求是group by后出现的字段</p>
<h2 id="五、MySQL中DQL语言之分组查询"><a href="#五、MySQL中DQL语言之分组查询" class="headerlink" title="五、MySQL中DQL语言之分组查询"></a>五、MySQL中DQL语言之分组查询</h2><h4 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h4><p><strong>功能</strong>：用作统计使用，又称为聚合函数或统计函数或组函数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 分组函数，分组后的字段</span><br><span class="line"><span class="keyword">from</span> 表</span><br><span class="line">【<span class="keyword">where</span> 筛选条件】</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> 分组的字段</span><br><span class="line">【<span class="keyword">having</span> 分组后的筛选】</span><br><span class="line">【<span class="keyword">order</span> <span class="keyword">by</span> 排序列表】</span><br></pre></td></tr></table></figure>

<h4 id="特点-2"><a href="#特点-2" class="headerlink" title="特点"></a>特点</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、sum、avg一般用于处理数值型;max、min、count可以处理任何类型</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404000734853.png" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>、以上分组函数都忽略<span class="keyword">null</span>值</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404000919112.png" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>、可以和<span class="keyword">distinct</span>搭配实现去重的运算</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404001127642.png" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span>、count函数一般使用<span class="built_in">count</span>(<span class="operator">*</span>)用作统计行数</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404001628286.png" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span>、和分组函数一同查询的字段要求是<span class="keyword">group</span> <span class="keyword">by</span>后的字段</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404001437758.png" alt="在这里插入图片描述"><br><strong>对比：</strong></p>
<table>
<thead>
<tr>
<th></th>
<th>使用关键字</th>
<th>筛选的表</th>
<th>位置</th>
</tr>
</thead>
<tbody><tr>
<td>分组前筛选</td>
<td>where</td>
<td>原始表</td>
<td>group by的前面</td>
</tr>
<tr>
<td>分组后筛选</td>
<td>having</td>
<td>分组后的结果</td>
<td>group by 的后面</td>
</tr>
</tbody></table>
<h2 id="六、MySQL中DQL语言之连接查询"><a href="#六、MySQL中DQL语言之连接查询" class="headerlink" title="六、MySQL中DQL语言之连接查询"></a>六、MySQL中DQL语言之连接查询</h2><h3 id="含义"><a href="#含义" class="headerlink" title="含义"></a>含义</h3><p>含义：连接查询又称多表查询，当查询的字段来自于多个表时，就会用到连接查询。<br><strong>语法</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 字段<span class="number">1</span>，字段<span class="number">2</span></span><br><span class="line"><span class="keyword">from</span> 表<span class="number">1</span>，表<span class="number">2</span>,...;</span><br></pre></td></tr></table></figure>

<p>笛卡尔乘积：当查询多个表时，没有添加有效的连接条件，导致多个表所有行实现完全连接。<br>笛卡尔积结果集&#x3D;表1行数*表2行数；<br>例如：表1有10条数据，表2有6条数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> 表<span class="number">1</span>，表<span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>count&#x3D;10×6&#x3D;60条数据<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404153713705.png" alt="在这里插入图片描述"><br>如何解决：添加有效的连接条件<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020040415412824.png" alt="在这里插入图片描述"></p>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><p><strong>按年代分类：</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">sql92：</span><br><span class="line">	等值</span><br><span class="line">	非等值</span><br><span class="line">	自连接</span><br><span class="line">	也支持一部分外连接（用于oracle、sqlserver，mysql不支持）</span><br><span class="line"></span><br><span class="line">sql99【推荐使用】:</span><br><span class="line">		内连接</span><br><span class="line">			等值</span><br><span class="line">			非等值</span><br><span class="line">			自连接</span><br><span class="line">		外连接</span><br><span class="line">			左外</span><br><span class="line">			右外</span><br><span class="line">			全外（mysql不支持）</span><br><span class="line">		交叉连接</span><br></pre></td></tr></table></figure>

<p><strong>按功能分类：</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">内连接：</span><br><span class="line">	等值连接</span><br><span class="line">	非等值连接</span><br><span class="line">	自连接</span><br><span class="line">外连接：</span><br><span class="line">	左外连接</span><br><span class="line">	右外连接</span><br><span class="line">	全外连接		</span><br><span class="line">交叉连接</span><br></pre></td></tr></table></figure>

<h3 id="SQL92语法"><a href="#SQL92语法" class="headerlink" title="SQL92语法"></a>SQL92语法</h3><p><strong>演示表结构：</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404154815487.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020040415490513.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404160847168.png" alt="在这里插入图片描述"><br><strong>1、等值连接</strong></p>
<p><strong>语法：</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line">	<span class="keyword">from</span> 表<span class="number">1</span> 别名,表<span class="number">2</span> 别名</span><br><span class="line">	<span class="keyword">where</span> 表<span class="number">1.</span>key<span class="operator">=</span>表<span class="number">2.</span>key</span><br><span class="line">	【<span class="keyword">and</span> 筛选条件】</span><br><span class="line">	【<span class="keyword">group</span> <span class="keyword">by</span> 分组字段】</span><br><span class="line">	【<span class="keyword">having</span> 分组后的筛选】</span><br><span class="line">	【<span class="keyword">order</span> <span class="keyword">by</span> 排序字段】</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404154408732.png" alt="在这里插入图片描述"><br><strong>特点：</strong><br>① 一般为表起别名<br>②多表的顺序可以调换<br>③n表连接至少需要n-1个连接条件<br>④等值连接的结果是多表的交集部分</p>
<p><strong>2、非等值连接</strong></p>
<p><strong>语法：</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line">	<span class="keyword">from</span> 表<span class="number">1</span> 别名,表<span class="number">2</span> 别名</span><br><span class="line">	<span class="keyword">where</span> 非等值的连接条件</span><br><span class="line">	【<span class="keyword">and</span> 筛选条件】</span><br><span class="line">	【<span class="keyword">group</span> <span class="keyword">by</span> 分组字段】</span><br><span class="line">	【<span class="keyword">having</span> 分组后的筛选】</span><br><span class="line">	【<span class="keyword">order</span> <span class="keyword">by</span> 排序字段】</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404154643603.png" alt="在这里插入图片描述"><br><strong>3、自连接</strong></p>
<p>语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line">	<span class="keyword">from</span> 表 别名<span class="number">1</span>,表 别名<span class="number">2</span></span><br><span class="line">	<span class="keyword">where</span> 等值的连接条件</span><br><span class="line">	【<span class="keyword">and</span> 筛选条件】</span><br><span class="line">	【<span class="keyword">group</span> <span class="keyword">by</span> 分组字段】</span><br><span class="line">	【<span class="keyword">having</span> 分组后的筛选】</span><br><span class="line">	【<span class="keyword">order</span> <span class="keyword">by</span> 排序字段】</span><br></pre></td></tr></table></figure>

<p>演示：查询员工名和上级的名称<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404155402789.png" alt="在这里插入图片描述"></p>
<h3 id="SQL99语法"><a href="#SQL99语法" class="headerlink" title="SQL99语法"></a>SQL99语法</h3><p><strong>1、内连接</strong></p>
<p><strong>语法：</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line"><span class="keyword">from</span> 表<span class="number">1</span> 别名</span><br><span class="line">【<span class="keyword">inner</span>】 <span class="keyword">join</span> 表<span class="number">2</span> 别名 <span class="keyword">on</span> 连接条件</span><br><span class="line"><span class="keyword">where</span> 筛选条件</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> 分组列表</span><br><span class="line"><span class="keyword">having</span> 分组后的筛选</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> 排序列表</span><br><span class="line">limit 子句;</span><br></pre></td></tr></table></figure>

<p><strong>特点：</strong><br>①表的顺序可以调换<br>②内连接的结果&#x3D;多表的交集<br>③n表连接至少需要n-1个连接条件</p>
<p><strong>分类：</strong></p>
<p><strong>等值连接</strong><br>演示：查询员工名、部门名<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020040416080640.png" alt="在这里插入图片描述"><br><strong>非等值连接</strong><br>演示：查询员工的工资级别<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404161110972.png" alt="在这里插入图片描述"><br><strong>自连接</strong><br>演示：查询员工的名字、上级的名字<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404161151909.png" alt="在这里插入图片描述"><br><strong>2、外连接</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line"><span class="keyword">from</span> 表<span class="number">1</span> 别名</span><br><span class="line"><span class="keyword">left</span><span class="operator">|</span><span class="keyword">right</span><span class="operator">|</span><span class="keyword">full</span>【<span class="keyword">outer</span>】 <span class="keyword">join</span> 表<span class="number">2</span> 别名 <span class="keyword">on</span> 连接条件</span><br><span class="line"><span class="keyword">where</span> 筛选条件</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> 分组列表</span><br><span class="line"><span class="keyword">having</span> 分组后的筛选</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> 排序列表</span><br><span class="line">limit 子句;</span><br></pre></td></tr></table></figure>

<p>演示：查询哪个部门没有员工</p>
<p>左外连接<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404161503131.png" alt="在这里插入图片描述"><br>右外连接<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404161622512.png" alt="在这里插入图片描述"><br><strong>特点：</strong><br>①查询的结果&#x3D;主表中所有的行，如果从表和它匹配的将显示匹配行，如果从表没有匹配的则显示null<br>②left join 左边的就是主表，right join 右边的就是主表<br>full join 两边都是主表<br>③一般用于查询除了交集部分的剩余的不匹配的行</p>
<p><strong>3、交叉连接</strong></p>
<p>语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line"><span class="keyword">from</span> 表<span class="number">1</span> 别名</span><br><span class="line"><span class="keyword">cross</span> <span class="keyword">join</span> 表<span class="number">2</span> 别名;</span><br></pre></td></tr></table></figure>

<p><strong>特点：</strong><br>类似于笛卡尔乘积<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404161825890.png" alt="在这里插入图片描述"></p>
<h2 id="七、MySQL中DQL语言之子查询"><a href="#七、MySQL中DQL语言之子查询" class="headerlink" title="七、MySQL中DQL语言之子查询"></a>七、MySQL中DQL语言之子查询</h2><h3 id="含义-1"><a href="#含义-1" class="headerlink" title="含义"></a>含义</h3><p>嵌套在其他语句内部的select语句称为子查询或内查询，外面的语句可以是insert、update、delete、select等，一般select作为外面语句较多外面如果为select语句，则此语句称为外查询或主查询。</p>
<h3 id="分类-1"><a href="#分类-1" class="headerlink" title="分类"></a>分类</h3><p><strong>1、按结果集的行列</strong><br>标量子查询（单行子查询）：结果集为一行一列<br>列子查询（多行子查询）：结果集为多行一列<br>行子查询：结果集为多行多列<br>表子查询：结果集为多行多列<br><strong>2、按出现位置</strong><br>select后面：仅仅支持标量子查询<br>from后面：表子查询<br>where或having后面：标量子查询、列子查询、行子查询<br>exists后面：标量子查询、列子查询、行子查询、表子查询</p>
<h3 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h3><p>演示表结构：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404162945712.png" alt="在这里插入图片描述"></p>
<h3 id="1、select后面"><a href="#1、select后面" class="headerlink" title="1、select后面"></a>1、select后面</h3><p><strong>特点</strong>：仅仅支持标量子查询<br>演示：查询每个部门的员工个数<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404163255692.png" alt="在这里插入图片描述"></p>
<h3 id="2、from后面"><a href="#2、from后面" class="headerlink" title="2、from后面"></a>2、from后面</h3><p><strong>特点</strong>：将子查询结果充当一张表，要求必须起别名<br>演示：查询每个部门的平均工资的工资等级<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404163635103.png" alt="在这里插入图片描述"></p>
<h3 id="3、where或having后面"><a href="#3、where或having后面" class="headerlink" title="3、where或having后面"></a>3、where或having后面</h3><p><strong>特点：</strong><br>①子查询放在小括号内<br>②子查询一般放在条件的右侧<br>③标量子查询，一般搭配着单行操作符使用 &gt; &lt; &gt;&#x3D; &lt;&#x3D; &#x3D; &lt;&gt;<br>列子查询，一般搭配着多行操作符使用 in、any&#x2F;some、all<br>④子查询的执行优先于主查询执行，主查询的条件用到了子查询的结果</p>
<h4 id="1、标量子查询"><a href="#1、标量子查询" class="headerlink" title="1、标量子查询"></a>1、标量子查询</h4><p><strong>特点</strong>：查询结果只有一行一列<br>演示：查询最低工资的员工姓名和工资<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404164232843.png" alt="在这里插入图片描述"></p>
<h4 id="2、列子查询"><a href="#2、列子查询" class="headerlink" title="2、列子查询"></a>2、列子查询</h4><p><strong>特点</strong>：查询结果为多行一列<br>演示：查询所有是领导的员工姓名<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404164358575.png" alt="在这里插入图片描述"></p>
<h4 id="3、行子查询"><a href="#3、行子查询" class="headerlink" title="3、行子查询"></a>3、行子查询</h4><p><strong>特点</strong>：结果集一行多列或多行多列<br>演示：查询员工编号最小并且工资最高的员工信息<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404164855365.png" alt="在这里插入图片描述"></p>
<h3 id="4、exists后面"><a href="#4、exists后面" class="headerlink" title="4、exists后面"></a>4、exists后面</h3><p><strong>特点：</strong><br>exists(完整的查询语句)<br>结果：1或0<br>演示：查询有员工的部门名<br>对比in和exists：</p>
<p><strong>使用in查询</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404165348941.png" alt="在这里插入图片描述"><br><strong>使用exists查询</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404165541915.png" alt="在这里插入图片描述"></p>
<h2 id="八、MySQL中DQL语言之分页查询"><a href="#八、MySQL中DQL语言之分页查询" class="headerlink" title="八、MySQL中DQL语言之分页查询"></a>八、MySQL中DQL语言之分页查询</h2><h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><p>当要显示的数据，一页显示不全，需要分页提交sql请求</p>
<h3 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line">	<span class="keyword">from</span> 表</span><br><span class="line">	<span class="keyword">left</span><span class="operator">|</span><span class="keyword">right</span><span class="operator">|</span> <span class="keyword">outer</span><span class="operator">|</span><span class="keyword">inner</span> <span class="keyword">join</span> 表<span class="number">2</span></span><br><span class="line">	<span class="keyword">on</span> 连接条件</span><br><span class="line">	<span class="keyword">where</span> 筛选条件</span><br><span class="line">	<span class="keyword">group</span> <span class="keyword">by</span> 分组字段</span><br><span class="line">	<span class="keyword">having</span> 分组后的筛选</span><br><span class="line">	<span class="keyword">order</span> <span class="keyword">by</span> 排序的字段】</span><br><span class="line">	limit 【<span class="keyword">offset</span>,】size;</span><br><span class="line"></span><br><span class="line"><span class="keyword">offset</span>要显示条目的起始索引（起始索引从<span class="number">0</span>开始）</span><br><span class="line">size 要显示的条目个数</span><br></pre></td></tr></table></figure>

<p><strong>特点</strong>：<br>①limit语句放在查询语句的最后<br>②公式<br>要显示的页数 page，每页的条目数size</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询列表</span><br><span class="line"><span class="keyword">from</span> 表</span><br><span class="line">limit (page<span class="number">-1</span>)<span class="operator">*</span>size,size;</span><br></pre></td></tr></table></figure>

<p><strong>演示表结构：</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020040417544329.png" alt="在这里插入图片描述"><br>演示：查询前五条员工信息<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404175650883.png" alt="在这里插入图片描述"><br>演示：查询第11条——第25条<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404175842565.png" alt="在这里插入图片描述"></p>
<h2 id="九、MySQL中DQL语言之联合查询"><a href="#九、MySQL中DQL语言之联合查询" class="headerlink" title="九、MySQL中DQL语言之联合查询"></a>九、MySQL中DQL语言之联合查询</h2><h3 id="含义-2"><a href="#含义-2" class="headerlink" title="含义"></a>含义</h3><p>union：合并、联合，将多次查询结果合并成一个结果</p>
<h3 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">查询语句<span class="number">1</span></span><br><span class="line"><span class="keyword">union</span> 【<span class="keyword">all</span>】</span><br><span class="line">查询语句<span class="number">2</span></span><br><span class="line"><span class="keyword">union</span> 【<span class="keyword">all</span>】</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="意义"><a href="#意义" class="headerlink" title="意义"></a>意义</h3><p>1、将一条比较复杂的查询语句拆分成多条语句<br>2、适用于查询多个表的时候，查询的列基本是一致</p>
<h3 id="特点-3"><a href="#特点-3" class="headerlink" title="特点"></a>特点</h3><p>1、要求多条查询语句的查询列数必须一致<br>2、要求多条查询语句的查询的各列类型、顺序最好一致<br>3、union 去重，union all包含重复项<br>演示表结构<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404180606192.png" alt="在这里插入图片描述"><br><strong>演示:</strong> 查询部门编号&gt;90或邮箱包含a的员工信息</p>
<p>常规查询：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404180827159.png" alt="在这里插入图片描述"><br>联合查询：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200404180949633.png" alt="在这里插入图片描述"></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>DQL查询语言可以总结如下，编号代表执行顺序：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line"><span class="keyword">select</span> 查询列表     ⑦</span><br><span class="line"><span class="keyword">from</span> 表<span class="number">1</span> 别名       ①</span><br><span class="line">连接类型 <span class="keyword">join</span> 表<span class="number">2</span>   ②</span><br><span class="line"><span class="keyword">on</span> 连接条件         ③</span><br><span class="line"><span class="keyword">where</span> 筛选          ④</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> 分组列表   ⑤</span><br><span class="line"><span class="keyword">having</span> 筛选         ⑥</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span>排序列表    ⑧</span><br><span class="line">limit 起始条目索引，条目数;  ⑨</span><br></pre></td></tr></table></figure>

<h1 id="六、MySQL之事务"><a href="#六、MySQL之事务" class="headerlink" title="六、MySQL之事务"></a>六、MySQL之事务</h1><h2 id="一、事务的概念"><a href="#一、事务的概念" class="headerlink" title="一、事务的概念"></a>一、事务的概念</h2><p>事务(Transaction Controlo Language)：事务由单独单元的一个或多个<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=SQL%E8%AF%AD%E5%8F%A5&spm=1001.2101.3001.7020">SQL语句</a>组成，在这个单元中，每个MySQL语句是相互依赖的。而整个单独单<br>元作为一个不可分割的整体，如果单元中某条SQL语句一旦执行失败或产生错误，整个单元将会回滚。所有受到影响的数据将返回到事物开始以前的状态；如果单元中的所有SQL语句均执行成功，则事物被顺利执行。<br><strong>MySQL 中的存储引擎</strong><br>1、概念：在mysql中的数据用各种不同的技术存储在文件（或内存）中。<br>2、通过show engines；来查看mysql支持的存储引擎。<br>3、在mysql中用的最多的存储引擎有：innodb，myisam ,memory 等。其中innodb支持事务，而myisam、memory等不支持事务<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402153604381.png" alt="在这里插入图片描述"></p>
<h2 id="二、事务的特点"><a href="#二、事务的特点" class="headerlink" title="二、事务的特点"></a>二、事务的特点</h2><p><strong>事务的ACID(acid)属性</strong></p>
<ol>
<li>原子性（Atomicity）<br>原子性是指事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生。</li>
<li>一致性（Consistency）<br>事务必须使数据库从一个一致性状态变换到另外一个一致性状态。</li>
<li>隔离性（Isolation）<br>事务的隔离性是指一个事务的执行不能被其他事务干扰，即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰。</li>
<li>持久性（Durability）<br>持久性是指一个事务一旦被提交，它对数据库中数据的改变就是永久性的，接下来的其他操作和数据库故障不应该对其有任何影响事务的使用。</li>
</ol>
<h2 id="三、事务的使用"><a href="#三、事务的使用" class="headerlink" title="三、事务的使用"></a>三、事务的使用</h2><p>1.以第一个 DML 语句的执行作为开始， 以下面的其中之一作为结束:<br>①COMMIT 或 ROLLBACK 语句<br>②DDL 或 DCL 语句（自动提交）<br>③用户会话正常结束<br>④系统异常终了</p>
<p>2.隐式（自动）事务：没有明显的开启和结束，本身就是一条事务可以自动提交，比如insert、update、delete。</p>
<p>3.显式事务：具有明显的开启和结束。<br>使用显式事务：<br>①开启事务</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> autocommit<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"><span class="keyword">start</span> transaction;#可以省略</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<p>②编写一组逻辑sql语句<br>注意：sql语句支持的是insert、update、delete<br>设置回滚点：<br>savepoint 回滚点名;</p>
<p>③结束事务<br>提交：commit;<br>回滚：rollback;<br>回滚到指定的地方：rollback to 回滚点名;</p>
<p><strong>演示事务的使用步骤：</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402155951787.png" alt="在这里插入图片描述"></p>
<h2 id="四、并发事务"><a href="#四、并发事务" class="headerlink" title="四、并发事务"></a>四、并发事务</h2><p>1、事务的并发问题是如何发生的？<br>多个事务同时操作同一个数据库的相同数据时<br>2、并发问题都有哪些？<br><strong>脏读</strong>：一个事务读取了其他事务还没有提交的数据，读到的是其他事务“更新”的数据。<br><strong>不可重复读</strong>：一个事务多次读取，结果不一样。<br><strong>虚读&#x2F;幻读</strong>：一个事务读取了其他事务还没有提交的数据，只是读到的是 其他事务“插入”的数据。<br>3、如何解决并发问题？<br>通过设置隔离级别来解决并发问题。<br>4、隔离级别</p>
<table>
<thead>
<tr>
<th></th>
<th>脏读</th>
<th>不可重复读</th>
<th>幻读</th>
</tr>
</thead>
<tbody><tr>
<td>read uncommitted:读未提交</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>read committed：读已提交</td>
<td>√</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>repeatable read：可重复读</td>
<td>√</td>
<td>√</td>
<td>×</td>
</tr>
<tr>
<td>serializable：串行化</td>
<td>√</td>
<td>√</td>
<td>√</td>
</tr>
</tbody></table>
<p>①.Oracle 支持的 2 种事务隔离级别：READ COMMITED, SERIALIZABLE。 Oracle 默认的事务隔离级别为: READ COMMITED<br>②.Mysql 支持 4 种事务隔离级别. Mysql 默认的事务隔离级别为: REPEATABLE READ<br>③.在 MySql 中设置隔离级别<br>每启动一个 mysql 程序, 就会获得一个单独的数据库连接. 每个数据库连接都有一个全局变量 @@tx_isolation, 表示当前的事务隔离级别.<br>查看当前的隔离级别:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@tx_isolation</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402173147317.png" alt="在这里插入图片描述"><br>设置当前 mySQL 连接的隔离级别:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> session transaction isolation level read committed;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>设置数据库系统的全局的隔离级别:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> transaction isolation level read committed;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<h2 id="五、演示脏读-不可重复读-幻读"><a href="#五、演示脏读-不可重复读-幻读" class="headerlink" title="五、演示脏读&#x2F;不可重复读&#x2F;幻读"></a>五、演示<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E8%84%8F%E8%AF%BB&spm=1001.2101.3001.7020">脏读</a>&#x2F;不可重复读&#x2F;幻读</h2><p><strong>脏读</strong>：一个事务读取了其他事务还没有提交的数据，读到的是其他事务“更新”的数据。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402185635403.png" alt="在这里插入图片描述"><br>说明：左边窗口第一次读取结果小王为1000，右边窗口开启事务对小王money修改此时事务并没有提交，左边窗口再次读，发现小王money变了，所以read uncommitted 不能避免脏读、不可重复读。<br><strong>不可重复读：</strong> 一个事务多次读取，结果不一样<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020040219000854.png" alt="在这里插入图片描述"><br>说明：左边窗口为窗口1，右边为窗口2。窗口1读取表account一次，窗口2开启事务，更新小王的money不提交，此时窗口1再次读取表account，发现前后两次读取结果一样，说明read commited能避免脏读，提交窗口2的事务，窗口1第三次读取表account，发现此时读取的小王数据与之前两次不同，说明read commited不能避免不可重复读。<br><strong>幻读</strong>：一个事务读取了其他事务还没有提交的数据，只是读到的是 其他事务“插入”的数据。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020040219044043.png" alt="在这里插入图片描述"><br>说明：窗口1开启事务查看表account有两条记录，编写update语句不执行，<br>窗口2开启事务，执行insert语句提交，此时再执行update语句发现受影响行变成了3行，说明<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%B9%BB%E8%AF%BB&spm=1001.2101.3001.7020">幻读</a>已经产生了。</p>
<p><strong>serializable</strong> :能避免脏读，不可重复读，虚读&#x2F;幻读<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402191341780.png" alt="在这里插入图片描述"><br>说明：窗口1编写update语句不执行，窗口2执行insert语句，此时再去执行窗口1的update语句，发现一直等待，只有等窗口2提交后窗口1才能继续操作。类似于java多线程中的锁。</p>
<h1 id="七、MySQL之视图"><a href="#七、MySQL之视图" class="headerlink" title="七、MySQL之视图"></a>七、MySQL之视图</h1><h2 id="什么是视图"><a href="#什么是视图" class="headerlink" title="什么是视图"></a>什么是视图</h2><p><strong>视图</strong>：MySQL从5.0.1版本开始提供视图功能。一种虚拟存在的表，行和列的数据来自定义视图的查询中使用的表，并且是在使用视图时动态生成的，只保存了sql逻辑，不保存查询结果。<br><strong>应用场景：</strong><br>– 多个地方用到同样的查询结果<br>– 该查询结果使用的<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=sql%E8%AF%AD%E5%8F%A5&spm=1001.2101.3001.7020">sql语句</a>较复杂<br><strong>视图的好处</strong><br>• 重用sql语句<br>• 简化复杂的sql操作，不必知道它的查询细节<br>• 保护数据，提高安全性</p>
<h2 id="创建视图"><a href="#创建视图" class="headerlink" title="创建视图"></a>创建视图</h2><p><strong>语法</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> 视图名</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">查询语句;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330230905294.png" alt="在这里插入图片描述"></p>
<h2 id="修改视图"><a href="#修改视图" class="headerlink" title="修改视图"></a>修改视图</h2><p><strong>方式一</strong>：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">view</span> 视图名</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">查询语句;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330231736781.png" alt="在这里插入图片描述"><br><strong>方式二：</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">view</span> 视图名</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">查询语句;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330231858628.png" alt="在这里插入图片描述"></p>
<h2 id="删除视图"><a href="#删除视图" class="headerlink" title="删除视图"></a>删除视图</h2><p><strong>语法</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> 视图<span class="number">1</span>，视图<span class="number">2</span>,...;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330232601944.png" alt="在这里插入图片描述"><br>用户可以一次删除一个或者多个视图，前提是必须有该视<br>图的drop权限。</p>
<h2 id="查看视图"><a href="#查看视图" class="headerlink" title="查看视图"></a>查看视图</h2><p><strong>语法</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> tables;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330233235818.png" alt="在这里插入图片描述"><br>如果需要查询某个视图的定义，可以使用:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">view</span> view_name \G</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200330233210116.png" alt="在这里插入图片描述"></p>
<h2 id="视图的使用"><a href="#视图的使用" class="headerlink" title="视图的使用"></a>视图的使用</h2><p><strong>视图的增加修改删除和表一样，详见：</strong><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44662961/article/details/105189734">MySQL之DML语言</a></p>
<p>注意：视图一般用于查询的，而不是更新的，所以具备以下特点的视图都不允许更新。<br>• 包含以下关键字的sql语句：分组函数、distinct、group by、having、union或者union all<br>• 常量视图<br>• Select中包含子查询<br>• join<br>• from一个不能更新的视图<br>• where子句的子查询引用了from子句中的表</p>
<h2 id="视图和表的对比"><a href="#视图和表的对比" class="headerlink" title="视图和表的对比"></a>视图和表的对比</h2><table>
<thead>
<tr>
<th></th>
<th>关键字</th>
<th>是否占用物理空间</th>
<th>使用</th>
</tr>
</thead>
<tbody><tr>
<td>视图</td>
<td>view</td>
<td>占用较小，只保存sql逻辑</td>
<td>一般用于查询</td>
</tr>
<tr>
<td>表</td>
<td>table</td>
<td>保存实际的数据</td>
<td>增删改查</td>
</tr>
</tbody></table>
<h1 id="八、MySQL之变量"><a href="#八、MySQL之变量" class="headerlink" title="八、MySQL之变量"></a>八、MySQL之变量</h1><h3 id="一、系统变量"><a href="#一、系统变量" class="headerlink" title="一、系统变量"></a>一、系统变量</h3><p><strong>说明</strong>：变量由系统提供的，不用自定义<br><strong>语法：</strong><br>①查看系统变量</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> 【<span class="keyword">global</span><span class="operator">|</span>session 】variables <span class="keyword">like</span> <span class="string">&#x27;&#x27;</span>; </span><br><span class="line">#如果没有显式声明<span class="keyword">global</span>还是session，则默认是session</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200331001004816.png" alt="在这里插入图片描述"><br>②查看指定的系统变量的值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> @@【<span class="keyword">global</span><span class="operator">|</span>session】.变量名; </span><br><span class="line">#如果没有显式声明<span class="keyword">global</span>还是session，则默认是session</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200331001408636.png" alt="在这里插入图片描述"><br>③为系统变量赋值<br>方式一：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> 【<span class="keyword">global</span><span class="operator">|</span>session 】 变量名<span class="operator">=</span>值; </span><br><span class="line">#如果没有显式声明<span class="keyword">global</span>还是session，则默认是session</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200331001855137.png" alt="在这里插入图片描述"><br>方式二：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> @<span class="variable">@global</span>.变量名<span class="operator">=</span>值;</span><br><span class="line"><span class="keyword">set</span> @@变量名<span class="operator">=</span>值；</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020033100161820.png" alt="在这里插入图片描述"></p>
<h4 id="1、全局变量"><a href="#1、全局变量" class="headerlink" title="1、全局变量"></a>1、<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F&spm=1001.2101.3001.7020">全局变量</a></h4><p><strong>全局变量(global)</strong>:服务器层面上的，必须拥有super权限才能为系统变量赋值，作用域为整个服务器，也就是针对于所有连接（会话）有效。</p>
<h4 id="2、会话变量"><a href="#2、会话变量" class="headerlink" title="2、会话变量"></a>2、会话变量</h4><p><strong>会话变量(session)</strong>:服务器为每一个连接的客户端都提供了系统变量，作用域为当前的连接（会话）。</p>
<h3 id="二、自定义变量"><a href="#二、自定义变量" class="headerlink" title="二、自定义变量"></a>二、自定义变量</h3><h4 id="1、用户变量"><a href="#1、用户变量" class="headerlink" title="1、用户变量"></a>1、用户变量</h4><p><strong>作用域</strong>：针对于当前连接（会话）生效位置：begin end里面，也可以放在外面。<br><strong>使用</strong>：<br>①声明并赋值：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> @变量名<span class="operator">=</span>值;或</span><br><span class="line"><span class="keyword">set</span> @变量名:<span class="operator">=</span>值;或</span><br><span class="line"><span class="keyword">select</span> @变量名:<span class="operator">=</span>值;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200331002932593.png" alt="在这里插入图片描述"><br>②更新值<br>方式一：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> @变量名<span class="operator">=</span>值;或</span><br><span class="line"><span class="keyword">set</span> @变量名:<span class="operator">=</span>值;或</span><br><span class="line"><span class="keyword">select</span> @变量名:<span class="operator">=</span>值;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<p>方式二：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> xx <span class="keyword">into</span> @变量名 <span class="keyword">from</span> 表;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200331003523521.png" alt="在这里插入图片描述"><br>③使用</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> @变量名;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200331003627101.png" alt="在这里插入图片描述"></p>
<h4 id="2、局部变量"><a href="#2、局部变量" class="headerlink" title="2、局部变量"></a>2、局部变量</h4><p>作用域：仅仅在定义它的begin end中有效<br>位置：只能放在begin end中，而且只能放在第一句<br>使用：局部变量的使用再后面关于”存储变量和函数”文章中会介绍，此处仅做举例。<br>①声明</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> 变量名 类型 【<span class="keyword">default</span> 值】;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020033101070992.png" alt="在这里插入图片描述"><br>②赋值或更新<br>方式一：<br>set 变量名&#x3D;值;或<br>set 变量名:&#x3D;值;或<br>select @变量名:&#x3D;值;<br>方式二：<br>select xx into 变量名 from 表;<br>③使用<br>select 变量名;</p>
<p><strong>用户变量和局部变量的对比</strong></p>
<table>
<thead>
<tr>
<th></th>
<th>作用域</th>
<th>定义位置</th>
<th>语法</th>
</tr>
</thead>
<tbody><tr>
<td>用户变量</td>
<td>当前会话</td>
<td>会话的任何地方</td>
<td>加@符号，不用指定类型</td>
</tr>
<tr>
<td>局部变量</td>
<td>定义它的BEGIN END中</td>
<td>BEGIN END的第一句话</td>
<td>一般不用加@,需要指定类型</td>
</tr>
</tbody></table>
<h1 id="九、MySQL之存储过程"><a href="#九、MySQL之存储过程" class="headerlink" title="九、MySQL之存储过程"></a>九、MySQL之存储过程</h1><h3 id="什么是存储过程"><a href="#什么是存储过程" class="headerlink" title="什么是存储过程"></a>什么是存储过程</h3><p>存储过程：<br>事先经过编译并存储在数据库中的一段<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=sql%E8%AF%AD%E5%8F%A5&spm=1001.2101.3001.7020">sql语句</a>的集合，类似于java中的方法，将一组完成特定功能的逻辑语句包装起来，对外暴露名字。<br>使用好处：<br>1、简化应用开发人员的很多工作<br>2、减少数据在数据库和应用服务器之间的传输<br>3、提高了数据处理的效率</p>
<h3 id="存储过程"><a href="#存储过程" class="headerlink" title="存储过程"></a>存储过程</h3><h4 id="一、创建"><a href="#一、创建" class="headerlink" title="一、创建"></a>一、创建</h4><p>语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> 存储过程名(参数模式 参数名 参数类型)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">		存储过程体</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>

<p>注意：<br>1.参数模式：in、out、inout，其中in可以省略<br>2.存储过程体的每一条sql语句都需要用分号结尾</p>
<h4 id="二、调用"><a href="#二、调用" class="headerlink" title="二、调用"></a>二、调用</h4><p>语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">call</span> 存储过程名(实参列表)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>举例：<br>调用in模式的参数：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">call</span> sp1（‘值’）;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200401224917513.png" alt="在这里插入图片描述"><br>调用out模式的参数：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="variable">@name</span>;</span><br><span class="line"><span class="keyword">call</span> sp1(<span class="variable">@name</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="variable">@name</span>;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200401225816712.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020040123082123.png" alt="在这里插入图片描述"><br>调用inout模式的参数：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="variable">@name</span><span class="operator">=</span>值;</span><br><span class="line"><span class="keyword">call</span> sp1(<span class="variable">@name</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="variable">@name</span>;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200401233227423.png" alt="在这里插入图片描述"></p>
<h4 id="三、查看"><a href="#三、查看" class="headerlink" title="三、查看"></a>三、查看</h4><p>语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">procedure</span> 存储过程名;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200401233409763.png" alt="在这里插入图片描述"><br>四、删除<br>语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">procedure</span> 存储过程名;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200401233531844.png" alt="在这里插入图片描述"></p>
<h1 id="十、MySQL之函数"><a href="#十、MySQL之函数" class="headerlink" title="十、MySQL之函数"></a>十、MySQL之函数</h1><h3 id="什么是函数"><a href="#什么是函数" class="headerlink" title="什么是函数"></a>什么是函数</h3><p>函数：<br>事先经过编译并存储在数据库中的一段sql语句的集合，类似于java中的方法，将一组完成特定功能的逻辑语句包装起来，对外暴露名字。<br>使用好处：<br>1、提高重用性<br>2、sql语句简单<br>3、减少了和数据库服务器连接的次数，提高了效率</p>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="一、创建-1"><a href="#一、创建-1" class="headerlink" title="一、创建"></a>一、创建</h4><p>语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">function</span> 函数名(参数名 参数类型) <span class="keyword">returns</span>  返回类型</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	函数体</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402000938961.png" alt="在这里插入图片描述"><br>注意：函数体中肯定需要有return语句</p>
<h4 id="二、调用-1"><a href="#二、调用-1" class="headerlink" title="二、调用"></a>二、调用</h4><p>语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 函数名(实参列表);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402001043251.png" alt="在这里插入图片描述"></p>
<h4 id="三、查看-1"><a href="#三、查看-1" class="headerlink" title="三、查看"></a>三、查看</h4><p>语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">function</span> 函数名;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020040200111712.png" alt="在这里插入图片描述"></p>
<h4 id="四、删除"><a href="#四、删除" class="headerlink" title="四、删除"></a>四、删除</h4><p>语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">function</span> 函数名；</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402001151396.png" alt="在这里插入图片描述"></p>
<h1 id="十一、MySQL之流程控制结构"><a href="#十一、MySQL之流程控制结构" class="headerlink" title="十一、MySQL之流程控制结构"></a>十一、MySQL之流程控制结构</h1><p>顺序结构：程序从上往下依次执行<br><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84&spm=1001.2101.3001.7020">分支结构</a>：程序按条件进行选择执行，从两条或多条路径中选择一条执行<br>循环结构：程序满足一定条件下，重复执行一组语句</p>
<h3 id="顺序结构"><a href="#顺序结构" class="headerlink" title="顺序结构"></a>顺序结构</h3><p>我们平时所作的增删改查等大部分都属于顺序结构，再此不作说明！</p>
<h3 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h3><p>建表及插入数据：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402003733363.png" alt="在这里插入图片描述"><br><strong>特点：</strong></p>
<h4 id="1、if函数"><a href="#1、if函数" class="headerlink" title="1、if函数"></a>1、if函数</h4><p>功能：实现简单双分支<br>语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if(条件，值<span class="number">1</span>，值<span class="number">2</span>)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>位置：可以作为表达式放在任何位置<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402004325359.png" alt="在这里插入图片描述"><br><strong>下面的实例将涉及到函数，如果你对MySQL中的函数还不是很了解可以查看：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44662961/article/details/105259263">MySQL之函数</a></strong></p>
<h4 id="2、case结构"><a href="#2、case结构" class="headerlink" title="2、case结构"></a>2、case结构</h4><p>功能：实现多分支<br>语法1：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> 表达式或字段</span><br><span class="line"><span class="keyword">when</span> 值<span class="number">1</span> <span class="keyword">then</span> 语句<span class="number">1</span>;</span><br><span class="line"><span class="keyword">when</span> 值<span class="number">2</span> <span class="keyword">then</span> 语句<span class="number">2</span>；</span><br><span class="line">..</span><br><span class="line"><span class="keyword">else</span> 语句n;</span><br><span class="line"><span class="keyword">end</span> [<span class="keyword">case</span>];</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>

<p>语法2：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> </span><br><span class="line"><span class="keyword">when</span> 条件<span class="number">1</span> <span class="keyword">then</span> 语句<span class="number">1</span>;</span><br><span class="line"><span class="keyword">when</span> 条件<span class="number">2</span> <span class="keyword">then</span> 语句<span class="number">2</span>；</span><br><span class="line">..</span><br><span class="line"><span class="keyword">else</span> 语句n;</span><br><span class="line"><span class="keyword">end</span> [<span class="keyword">case</span>];</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>

<p>位置：可以放在任何位置。</p>
<p>如果放在begin end 外面，作为表达式结合着其他语句使用</p>
<p><strong>情况1：</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402010024962.png" alt="在这里插入图片描述"><br><strong>情况2：</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402010516630.png" alt="在这里插入图片描述"><br>如果放在begin end 里面，一般作为独立的语句使用</p>
<p><strong>情况1：</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402014156449.png" alt="在这里插入图片描述"><br><strong>情况2：</strong><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/202004020131494.png" alt="在这里插入图片描述"></p>
<h4 id="3、if结构"><a href="#3、if结构" class="headerlink" title="3、if结构"></a>3、if结构</h4><p>功能：实现多分支<br>语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if 条件<span class="number">1</span> <span class="keyword">then</span> 语句<span class="number">1</span>;</span><br><span class="line">elseif 条件<span class="number">2</span> <span class="keyword">then</span> 语句<span class="number">2</span>;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">else</span> 语句n;</span><br><span class="line"><span class="keyword">end</span> if;</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>

<p>位置：只能放在begin end中</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020040213043762.png" alt="在这里插入图片描述"></p>
<h3 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h3><p>位置：只能放在begin end中</p>
<p>特点：都能实现循环结构</p>
<h4 id="1、while"><a href="#1、while" class="headerlink" title="1、while"></a>1、while</h4><p>语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">【名称:】while 循环条件 do</span><br><span class="line">		循环体</span><br><span class="line"><span class="keyword">end</span> while 【名称】;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402135015629.png" alt="在这里插入图片描述"></p>
<h4 id="2、loop"><a href="#2、loop" class="headerlink" title="2、loop"></a>2、loop</h4><p>语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">【名称：】loop</span><br><span class="line">		循环体</span><br><span class="line"><span class="keyword">end</span> loop 【名称】;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<h4 id="3、repeat"><a href="#3、repeat" class="headerlink" title="3、repeat"></a>3、<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=repeat&spm=1001.2101.3001.7020">repeat</a></h4><p>语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">【名称:】repeat</span><br><span class="line">		循环体</span><br><span class="line">until 结束条件 </span><br><span class="line"><span class="keyword">end</span> repeat 【名称】;</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402135702843.png" alt="在这里插入图片描述"><br><strong>对比：</strong></p>
<p>①这三种循环都可以省略名称，但如果循环中添加了循环控制语句（leave或iterate）则必须添加名称<br>②loop ：一般用于实现简单的死循环<br>while ：先判断后执行<br>repeat ：先执行后判断，无条件至少执行一次</p>
<h4 id="4、循环控制语句"><a href="#4、循环控制语句" class="headerlink" title="4、循环控制语句"></a>4、循环控制语句</h4><p>leave：类似于break，用于跳出所在的循环<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402140642783.png" alt="在这里插入图片描述"><br>iterate：类似于continue，用于结束本次循环，继续下一次<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200402144705555.png" alt="在这里插入图片描述"></p>
<h1 id="十二、MySQL索引详解"><a href="#十二、MySQL索引详解" class="headerlink" title="十二、MySQL索引详解"></a>十二、MySQL索引详解</h1><h2 id="一、什么是索引？为什么要建立索引？"><a href="#一、什么是索引？为什么要建立索引？" class="headerlink" title="一、什么是索引？为什么要建立索引？"></a>一、什么是索引？为什么要建立索引？</h2><p>索引用于快速找出在某个列中有一特定值的行，不使用索引，MySQL必须从第一条记录开始读完整个表，直到找出相关的行，表越大，查询数据所花费的时间就越多，如果表中查询的列有一个索引，MySQL能够快速到达一个位置去搜索数据文件，而不必查看所有数据，那么将会节省很大一部分时间。<br>打个比方，如果合理的设计且使用索引的MySQL是一辆兰博基尼的话，那么没有设计和使用索引的MySQL就是一个人力三轮车。<br>拿汉语字典的目录页（索引）打比方，我们可以按拼音、笔画、偏旁部首等排序的目录（索引）快速查找到需要的字。</p>
<h2 id="二、MySQL中索引的优缺点及使用原则"><a href="#二、MySQL中索引的优缺点及使用原则" class="headerlink" title="二、MySQL中索引的优缺点及使用原则"></a>二、MySQL中索引的优缺点及使用原则</h2><p>优点：</p>
<p>1、所有的MySql列类型(字段类型)都可以被索引，也就是可以给任意字段设置索引</p>
<p>2、大大加快数据的查询速度</p>
<p>缺点：</p>
<p>1、创建索引和维护索引要耗费时间，并且随着数据量的增加所耗费的时间也会增加</p>
<p>2、索引也需要占空间，我们知道数据表中的数据也会有最大上线设置的，如果我们有大量的索引，索引文件可能会比数据文件更快达到上线值</p>
<p>3、当对表中的数据进行增加、删除、修改时，索引也需要动态的维护，降低了数据的维护速度。</p>
<p>使用原则：</p>
<p>通过上面说的优点和缺点，我们应该可以知道，并不是每个字段度设置索引就好，也不是索引越多越好，而是需要自己合理的使用。</p>
<p>1、对经常更新的表就避免对其进行过多的索引，对经常用于查询的字段应该创建索引，</p>
<p>2、数据量小的表最好不要使用索引，因为由于数据较少，可能查询全部数据花费的时间比遍历索引的时间还要短，索引就可能不会产生优化效果。</p>
<p>3、在一同值少的列上(字段上)不要建立索引，比如在学生表的”性别”字段上只有男，女两个不同值。相反的，在一个字段上不同值较多可以建立索引。</p>
<h2 id="三、Explain执行器名词解释"><a href="#三、Explain执行器名词解释" class="headerlink" title="三、Explain执行器名词解释"></a>三、Explain执行器名词解释</h2><p>1、作用</p>
<ul>
<li>复杂sql语句的读取顺序</li>
<li>sql中有哪些索引可以使用</li>
<li>sql中哪些索引被实际使用</li>
<li>表之间的引用</li>
<li>每张表有多少行被优化器查询</li>
</ul>
<p>2、使用方法</p>
<ul>
<li>EXPLAIN + 查询sql</li>
<li>如：EXPLAIN SELECT * FROM test_index;</li>
</ul>
<p>3、基本字段解读<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200526103358429.png" alt="在这里插入图片描述"><br>4、Explain字段详解<br><strong>id</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span>查询的序列号，并不是单纯的从上到下或者从下向上执行，共有三种情况</span><br><span class="line"> <span class="operator">-</span> id相同：按照从上到下的顺序执行</span><br><span class="line"> <span class="operator">-</span> id不同：按照id值由大到小的顺序执行</span><br><span class="line"> <span class="operator">-</span> id既有相同又有不同：先执行id值大的，然后相同值的从上到下执行</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>

<p><strong>select_type</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">分别用来表示查询的类型，主要是用于区别普通查询、联合查询、子查询等的复杂查询。</span><br><span class="line">值如下：</span><br><span class="line"> <span class="operator">-</span> SIMPLE：简单查询，不包含子查询和<span class="keyword">UNION</span>查询</span><br><span class="line"> <span class="operator">-</span> <span class="keyword">PRIMARY</span>：主查询，如包含子查询的<span class="keyword">sql</span>中的父查询</span><br><span class="line"> <span class="operator">-</span> SUBQUERY：查询<span class="keyword">sql</span>中的子查询</span><br><span class="line"> <span class="operator">-</span> DERIVED：衍生查询（在<span class="keyword">from</span>列表中的子查询，Mysql递归这些子查询，结果放到临时表中）</span><br><span class="line"> <span class="operator">-</span> <span class="keyword">UNION</span>：联合查询，t1 <span class="keyword">UNION</span> t2 中的t2</span><br><span class="line"> <span class="operator">-</span> <span class="keyword">UNION</span> <span class="keyword">RESULT</span>：从<span class="keyword">UNION</span>表获取结果的<span class="keyword">SELECT</span>分别用来表示查询的类型</span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200526104456276.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200526105603535.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200526110133246.png" alt="在这里插入图片描述"><br><strong>table</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">一般指查询的表，对于带尖括号的，表示select_type <span class="operator">+</span> id的指向。</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>partitions</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">如果查询是基于分区表的话，会显示查询将访问的分区。</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>type</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">type所显示的是查询使用了哪种类型</span><br><span class="line">查询速度：<span class="keyword">null</span> <span class="operator">&gt;</span> syetem <span class="operator">&gt;</span> const <span class="operator">&gt;</span> eq_ref <span class="operator">&gt;</span> <span class="keyword">ref</span> <span class="operator">&gt;</span> <span class="keyword">range</span> <span class="operator">&gt;</span> index <span class="operator">&gt;</span> <span class="keyword">all</span></span><br><span class="line"> <span class="operator">-</span> <span class="keyword">null</span>：甚至不需要访问索引表，例如主键作为条件超过当前表主键最大值;</span><br><span class="line"> <span class="operator">-</span> <span class="keyword">system</span>：const的特殊情况，只有一条数据的系统表</span><br><span class="line"> <span class="operator">-</span> const：使用唯一索引等价查询，仅能匹配到一条数据</span><br><span class="line"> <span class="operator">-</span> eq_ref：使用唯一索引作为关联条件，匹配多条不重复数据</span><br><span class="line"> <span class="operator">-</span> <span class="keyword">ref</span>：普通索引等价</span><br><span class="line"> <span class="operator">-</span> <span class="keyword">range</span>：检索给定范围的索引 ， <span class="operator">&gt;</span> 、<span class="operator">&lt;</span> 、<span class="operator">&gt;=</span> 、<span class="operator">&lt;=</span>、<span class="keyword">between</span> <span class="keyword">and</span></span><br><span class="line"> <span class="operator">-</span> index：仅查询索引表</span><br><span class="line"> <span class="operator">-</span> <span class="keyword">all</span>：遍历全表以找到匹配的行</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<p><strong>possible_keys</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">显示可能应用在这张表中的索引，一个或多个。查询涉及到的字段上若存在索引，则该索引将被列出，</span><br><span class="line">但不一定被查询实际使用</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<p><strong>key</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">查询中实际使用到的索引，小于等于possible_keys</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>key_len</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">表示索引中使用的字节数，可通过该列计算查询中使用的索引的长度，在不损失精确性的情况下，长度越短越好。</span><br><span class="line">key_len显示的值为索引字段的最大可能长度，并非实际使用长度，即key_len是根据表定义计算而得，不是通过表内检索出的。</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020060416290676.png" alt="在这里插入图片描述"></p>
<p><strong>ref</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">表示查询中的连接匹配条件，即哪些列或常量被用于查找索引列上的值</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>rows</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">根据表统计信息及索引选用情况，大致估算出找到所需的记录所需要读取的行数，也就是说，用的越少越好 </span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>filtered</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">按表条件过滤的行百分比</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>Extra</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">查询结果的备注信息，很重要</span><br><span class="line"><span class="keyword">Using</span> index：性能提升，索引覆盖，此查询仅查询索引不需要回表查询</span><br><span class="line"><span class="keyword">Using</span> <span class="keyword">where</span>：该查询中使用了<span class="keyword">where</span>条件过滤</span><br><span class="line"><span class="keyword">Using</span> index, <span class="keyword">Using</span> <span class="keyword">where</span>：双条件，表明索引被用来执行索引键值的查找</span><br><span class="line"><span class="keyword">Using</span> filesort：性能消耗大，需要额外一次排序（查询）</span><br><span class="line"><span class="keyword">Using</span> temporary：性能消耗大，用到临时表，常见于<span class="keyword">order</span> <span class="keyword">by</span>和<span class="keyword">group</span> <span class="keyword">by</span></span><br><span class="line"><span class="keyword">Using</span> <span class="keyword">join</span> buffer	连接缓存</span><br><span class="line">impossible <span class="keyword">where</span>：<span class="keyword">where</span>子句的值总是<span class="literal">false</span>，不能用来获取任何元组</span><br><span class="line"><span class="keyword">distinct</span>：优化<span class="keyword">distinct</span>操作，在找到第一匹配的元组后即停止找同样值的动作</span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>

<h2 id="四、索引的分类"><a href="#四、索引的分类" class="headerlink" title="四、索引的分类"></a>四、索引的分类</h2><p><strong>注意：索引是在存储引擎中实现的，也就是说不同的存储引擎，会使用不同的索引</strong></p>
<p>存储引擎种类：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200522172639726.png" alt="在这里插入图片描述"><br>查看当前版本存储引擎信息：<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200522173405281.png" alt="在这里插入图片描述"><br>两种在实际开发中使用最多的两种引擎【MyISAM】和【InnoDB】。<br>MyISAM和InnoDB存储引擎：只支持BTREE索引， 也就是说默认使用BTREE，不能够更换。<br>MEMORY&#x2F;HEAP存储引擎：支持HASH和BTREE索引。<br>MySQL目前主要有以下几种索引类型：</p>
<h3 id="1、-普通索引"><a href="#1、-普通索引" class="headerlink" title="1、 普通索引"></a>1、 普通索引</h3><p>这是最基本的索引，它没有任何限制。它有以下几种创建方式：</p>
<p>（1）直接创建索引</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> INDEX index_name <span class="keyword">ON</span> <span class="keyword">table</span>(<span class="keyword">column</span>(length)) </span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>（2）修改表结构的方式添加索引</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name <span class="keyword">ADD</span> INDEX index_name <span class="keyword">ON</span> (<span class="keyword">column</span>(length))</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>（3）创建表的时候同时创建索引</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">table</span>` (</span><br><span class="line">    `id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT ,</span><br><span class="line">    `title` <span class="type">char</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">    `content` text <span class="type">CHARACTER</span> <span class="keyword">NULL</span> ,</span><br><span class="line">    `<span class="type">time</span>` <span class="type">int</span>(<span class="number">10</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">    INDEX index_name (title(length))</span><br><span class="line">)</span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>

<h3 id="2、-唯一索引"><a href="#2、-唯一索引" class="headerlink" title="2、 唯一索引"></a>2、 唯一索引</h3><p>与前面的普通索引类似，不同的就是：索引列的值必须唯一，但允许有空值。如果是组合索引，则列值的组合必须唯一。它有以下几种创建方式：</p>
<p>（1）创建唯一索引</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span> INDEX indexName <span class="keyword">ON</span> <span class="keyword">table</span>(<span class="keyword">column</span>(length))</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>（2）修改表结构</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> table_name <span class="keyword">ADD</span> <span class="keyword">UNIQUE</span> indexName <span class="keyword">ON</span> (<span class="keyword">column</span>(length))</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>（3）创建表的时候直接指定</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">table</span>` (</span><br><span class="line">    `id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT ,</span><br><span class="line">    `title` <span class="type">char</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">    `content` text <span class="type">CHARACTER</span> <span class="keyword">NULL</span> ,</span><br><span class="line">    `<span class="type">time</span>` <span class="type">int</span>(<span class="number">10</span>) <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">    <span class="keyword">UNIQUE</span> indexName (title(length))</span><br><span class="line">);</span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure>

<h3 id="3、-主键索引"><a href="#3、-主键索引" class="headerlink" title="3、 主键索引"></a>3、 主键索引</h3><p>是一种特殊的唯一索引，一个表只能有一个主键，不允许有空值。一般是在建表的时候同时创建主键索引：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">table</span>` (</span><br><span class="line">    `id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT ,</span><br><span class="line">    `title` <span class="type">char</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> ,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">);</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>

<h3 id="4、-组合索引"><a href="#4、-组合索引" class="headerlink" title="4、 组合索引"></a>4、 组合索引</h3><p>组合索引就是在多个字段上创建一个索引，如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> `<span class="keyword">table</span>` <span class="keyword">ADD</span> INDEX name_city_age (name,city,age); </span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/2020052615480510.png" alt="在这里插入图片描述"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200526152951954.png" alt="在这里插入图片描述"><br>最左前缀原则：只有当查询条件为name,name and city,name and city and age三种情况下才会走索引name_city_age。在创建多列索引时，要根据业务需求，where子句中使用最频繁的一列放在最左边。</p>
<h3 id="5、全文索引"><a href="#5、全文索引" class="headerlink" title="5、全文索引"></a>5、全文索引</h3><p>主要用来查找文本中的关键字，而不是直接与索引中的值相比较。fulltext索引跟其它索引大不相同，它更像是一个搜索引擎，而不是简单的where语句的参数匹配。fulltext索引配合match against操作使用，而不是一般的where语句加like。它可以在create table，alter table ，create index使用，不过目前只有char、varchar，text 列上可以创建全文索引。值得一提的是，在数据量较大时候，现将数据放入一个没有全局索引的表中，然后再用CREATE index创建fulltext索引，要比先为一张表建立fulltext然后再将数据写入的速度快很多。<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/../UpPictures/mysql%E8%AF%A6%E7%BB%86%E7%89%88Pictures/20200526154456647.png" alt="在这里插入图片描述"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://chabai000.github.io">茶白</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://chabai000.github.io/posts/57545/">https://chabai000.github.io/posts/57545/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://chabai000.github.io" target="_blank">茶白的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/mysql/">mysql</a></div><div class="post_share"><div class="social-share" data-image="/UpPictures/UpCover/mysql.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/%E8%B5%9E%E8%B5%8F%E7%A0%81.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/%E8%B5%9E%E8%B5%8F%E7%A0%81.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/64202/" title="linux"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/UpPictures/UpCover/linux.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">linux</div></div></a></div><div class="next-post pull-right"><a href="/posts/20250/" title="javase"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/UpPictures/UpCover/java.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">javase</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/13153/" title="mysql快速入门"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/UpPictures/UpCover/mysql.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-26</div><div class="title">mysql快速入门</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">茶白</div><div class="author-info__description">不论你在什么时候开始，重要的是开始之后就不要停止；不论你在什么时候结束，重要的是结束之后就不要悔恨</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">23</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/chabai000"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/chabai000" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1693522579@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8CSQL%E6%A6%82%E8%BF%B0%E4%BB%A5%E5%8F%8AMySQL%E5%AE%89%E8%A3%85%E4%B8%8E%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.</span> <span class="toc-text">一、数据库和SQL概述以及MySQL安装与基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A5%BD%E5%A4%84"><span class="toc-number">1.1.</span> <span class="toc-text">数据库的好处</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">1.2.</span> <span class="toc-text">数据库的概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DB"><span class="toc-number">1.2.1.</span> <span class="toc-text">DB</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">数据库的特点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DBMS"><span class="toc-number">1.2.2.</span> <span class="toc-text">DBMS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL"><span class="toc-number">1.2.3.</span> <span class="toc-text">SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL%E8%AF%AD%E8%A8%80%E6%A6%82%E8%BF%B0"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">SQL语言概述</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#SQL%E8%AF%AD%E8%A8%80%E5%88%86%E7%B1%BB"><span class="toc-number">1.2.3.1.1.</span> <span class="toc-text">SQL语言分类</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.</span> <span class="toc-text">MySQL安装与使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%A7%E5%93%81%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.3.1.</span> <span class="toc-text">MySQL数据库产品的介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-number">1.3.2.</span> <span class="toc-text">MySQL数据库的安装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MySql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.4.</span> <span class="toc-text">MySql数据库的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E8%AF%AD%E6%B3%95%E8%A7%84%E8%8C%83"><span class="toc-number">1.4.1.</span> <span class="toc-text">MySQL语法规范</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81MySQL%E4%B9%8BDDL%E8%AF%AD%E8%A8%80"><span class="toc-number">2.</span> <span class="toc-text">二、MySQL之DDL语言</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#DDL%E8%AF%AD%E8%A8%80%E6%A6%82%E8%BF%B0"><span class="toc-number">2.1.</span> <span class="toc-text">DDL语言概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%93%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-number">2.2.</span> <span class="toc-text">库的管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%BA%93"><span class="toc-number">2.2.1.</span> <span class="toc-text">创建库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%BA%93"><span class="toc-number">2.2.2.</span> <span class="toc-text">修改库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%BA%93"><span class="toc-number">2.2.3.</span> <span class="toc-text">删除库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-number">2.3.</span> <span class="toc-text">表的管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">2.3.1.</span> <span class="toc-text">创建表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%90%E6%9F%A5%E8%AF%A2%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">2.3.1.1.</span> <span class="toc-text">使用子查询创建表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.3.1.2.</span> <span class="toc-text">常见的数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E7%BA%A6%E6%9D%9F"><span class="toc-number">2.3.1.3.</span> <span class="toc-text">常见的约束</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8"><span class="toc-number">2.3.2.</span> <span class="toc-text">修改表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-number">2.3.3.</span> <span class="toc-text">删除表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E8%A1%A8"><span class="toc-number">2.3.4.</span> <span class="toc-text">复制表</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81MySQL%E4%B9%8BDML%E8%AF%AD%E8%A8%80"><span class="toc-number">3.</span> <span class="toc-text">三、MySQL之DML语言</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%EF%BC%88insert%EF%BC%89"><span class="toc-number">3.0.1.</span> <span class="toc-text">插入（insert）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80"><span class="toc-number">3.0.1.1.</span> <span class="toc-text">方式一</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C"><span class="toc-number">3.0.1.2.</span> <span class="toc-text">方式二</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%EF%BC%88update%EF%BC%89"><span class="toc-number">3.0.2.</span> <span class="toc-text">修改（update）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%BF%AE%E6%94%B9%E5%8D%95%E8%A1%A8%E7%9A%84%E8%AE%B0%E5%BD%95"><span class="toc-number">3.0.2.1.</span> <span class="toc-text">一、修改单表的记录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E4%BF%AE%E6%94%B9%E5%A4%9A%E8%A1%A8%E7%9A%84%E8%AE%B0%E5%BD%95"><span class="toc-number">3.0.2.2.</span> <span class="toc-text">二、修改多表的记录</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%EF%BC%88delete%EF%BC%89"><span class="toc-number">3.0.3.</span> <span class="toc-text">删除（delete）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9A%E4%BD%BF%E7%94%A8delete"><span class="toc-number">3.0.3.1.</span> <span class="toc-text">方式一：使用delete</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9A%E4%BD%BF%E7%94%A8truncate"><span class="toc-number">3.0.3.2.</span> <span class="toc-text">方式二：使用truncate</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81MySql%E4%B9%8BDCL%E8%AF%AD%E8%A8%80"><span class="toc-number">4.</span> <span class="toc-text">四、MySql之DCL语言</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7"><span class="toc-number">4.1.</span> <span class="toc-text">1.创建用户</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%BB%99%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83"><span class="toc-number">4.2.</span> <span class="toc-text">2.给用户授权</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%92%A4%E9%94%80%E6%8E%88%E6%9D%83"><span class="toc-number">4.3.</span> <span class="toc-text">3.撤销授权</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90"><span class="toc-number">4.4.</span> <span class="toc-text">4..查看用户权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-number">4.5.</span> <span class="toc-text">5.删除用户</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%EF%BC%88%E4%BB%A5root%E8%BA%AB%E4%BB%BD%EF%BC%89"><span class="toc-number">4.6.</span> <span class="toc-text">6.修改用户密码（以root身份）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81MySQL%E4%B9%8BDQL%E8%AF%AD%E8%A8%80"><span class="toc-number">5.</span> <span class="toc-text">五、MySQL之DQL语言</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81MySQL%E4%B8%ADDQL%E8%AF%AD%E8%A8%80%E4%B9%8B%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.1.</span> <span class="toc-text">一、MySQL中DQL语言之基础查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">5.1.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">5.1.2.</span> <span class="toc-text">特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">5.1.3.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81MySQL%E4%B8%ADDQL%E8%AF%AD%E8%A8%80%E4%B9%8B%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.2.</span> <span class="toc-text">二、MySQL中DQL语言之条件查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-1"><span class="toc-number">5.2.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%9B%E9%80%89%E6%9D%A1%E4%BB%B6%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">5.2.2.</span> <span class="toc-text">筛选条件的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%8C%89%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AD%9B%E9%80%89"><span class="toc-number">5.2.2.1.</span> <span class="toc-text">一、按条件表达式筛选</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%8C%89%E9%80%BB%E8%BE%91%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AD%9B%E9%80%89"><span class="toc-number">5.2.2.2.</span> <span class="toc-text">二、按逻辑表达式筛选</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.2.2.3.</span> <span class="toc-text">三、模糊查询</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81MySQL%E4%B8%ADDQL%E8%AF%AD%E8%A8%80%E4%B9%8B%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.3.</span> <span class="toc-text">三、MySQL中DQL语言之排序查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-2"><span class="toc-number">5.3.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-1"><span class="toc-number">5.3.2.</span> <span class="toc-text">特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81MySQL%E4%B9%8B%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.</span> <span class="toc-text">四、MySQL之常见函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">5.4.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.2.</span> <span class="toc-text">字符函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.3.</span> <span class="toc-text">数字函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.4.</span> <span class="toc-text">日期函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.5.</span> <span class="toc-text">流程控制函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E5%87%BD%E6%95%B0"><span class="toc-number">5.4.6.</span> <span class="toc-text">分组函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%88%86%E7%B1%BB"><span class="toc-number">5.4.6.1.</span> <span class="toc-text">1、分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E7%89%B9%E7%82%B9"><span class="toc-number">5.4.6.2.</span> <span class="toc-text">2、特点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81MySQL%E4%B8%ADDQL%E8%AF%AD%E8%A8%80%E4%B9%8B%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.5.</span> <span class="toc-text">五、MySQL中DQL语言之分组查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-3"><span class="toc-number">5.5.0.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-2"><span class="toc-number">5.5.0.2.</span> <span class="toc-text">特点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81MySQL%E4%B8%ADDQL%E8%AF%AD%E8%A8%80%E4%B9%8B%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.6.</span> <span class="toc-text">六、MySQL中DQL语言之连接查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AB%E4%B9%89"><span class="toc-number">5.6.1.</span> <span class="toc-text">含义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB"><span class="toc-number">5.6.2.</span> <span class="toc-text">分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL92%E8%AF%AD%E6%B3%95"><span class="toc-number">5.6.3.</span> <span class="toc-text">SQL92语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL99%E8%AF%AD%E6%B3%95"><span class="toc-number">5.6.4.</span> <span class="toc-text">SQL99语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81MySQL%E4%B8%ADDQL%E8%AF%AD%E8%A8%80%E4%B9%8B%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.7.</span> <span class="toc-text">七、MySQL中DQL语言之子查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AB%E4%B9%89-1"><span class="toc-number">5.7.1.</span> <span class="toc-text">含义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB-1"><span class="toc-number">5.7.2.</span> <span class="toc-text">分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-1"><span class="toc-number">5.7.3.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81select%E5%90%8E%E9%9D%A2"><span class="toc-number">5.7.4.</span> <span class="toc-text">1、select后面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81from%E5%90%8E%E9%9D%A2"><span class="toc-number">5.7.5.</span> <span class="toc-text">2、from后面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81where%E6%88%96having%E5%90%8E%E9%9D%A2"><span class="toc-number">5.7.6.</span> <span class="toc-text">3、where或having后面</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E6%A0%87%E9%87%8F%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.7.6.1.</span> <span class="toc-text">1、标量子查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E5%88%97%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.7.6.2.</span> <span class="toc-text">2、列子查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.7.6.3.</span> <span class="toc-text">3、行子查询</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81exists%E5%90%8E%E9%9D%A2"><span class="toc-number">5.7.7.</span> <span class="toc-text">4、exists后面</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81MySQL%E4%B8%ADDQL%E8%AF%AD%E8%A8%80%E4%B9%8B%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.8.</span> <span class="toc-text">八、MySQL中DQL语言之分页查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">5.8.1.</span> <span class="toc-text">应用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%EF%BC%9A"><span class="toc-number">5.8.2.</span> <span class="toc-text">语法：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81MySQL%E4%B8%ADDQL%E8%AF%AD%E8%A8%80%E4%B9%8B%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.9.</span> <span class="toc-text">九、MySQL中DQL语言之联合查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AB%E4%B9%89-2"><span class="toc-number">5.9.1.</span> <span class="toc-text">含义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-4"><span class="toc-number">5.9.2.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%84%8F%E4%B9%89"><span class="toc-number">5.9.3.</span> <span class="toc-text">意义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9-3"><span class="toc-number">5.9.4.</span> <span class="toc-text">特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">5.10.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81MySQL%E4%B9%8B%E4%BA%8B%E5%8A%A1"><span class="toc-number">6.</span> <span class="toc-text">六、MySQL之事务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%BA%8B%E5%8A%A1%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">6.1.</span> <span class="toc-text">一、事务的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E4%BA%8B%E5%8A%A1%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">6.2.</span> <span class="toc-text">二、事务的特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%BA%8B%E5%8A%A1%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">6.3.</span> <span class="toc-text">三、事务的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%B9%B6%E5%8F%91%E4%BA%8B%E5%8A%A1"><span class="toc-number">6.4.</span> <span class="toc-text">四、并发事务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%BC%94%E7%A4%BA%E8%84%8F%E8%AF%BB-%E4%B8%8D%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB-%E5%B9%BB%E8%AF%BB"><span class="toc-number">6.5.</span> <span class="toc-text">五、演示脏读&#x2F;不可重复读&#x2F;幻读</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83%E3%80%81MySQL%E4%B9%8B%E8%A7%86%E5%9B%BE"><span class="toc-number">7.</span> <span class="toc-text">七、MySQL之视图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%A7%86%E5%9B%BE"><span class="toc-number">7.1.</span> <span class="toc-text">什么是视图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE"><span class="toc-number">7.2.</span> <span class="toc-text">创建视图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A7%86%E5%9B%BE"><span class="toc-number">7.3.</span> <span class="toc-text">修改视图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE"><span class="toc-number">7.4.</span> <span class="toc-text">删除视图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%A7%86%E5%9B%BE"><span class="toc-number">7.5.</span> <span class="toc-text">查看视图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">7.6.</span> <span class="toc-text">视图的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E5%92%8C%E8%A1%A8%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">7.7.</span> <span class="toc-text">视图和表的对比</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AB%E3%80%81MySQL%E4%B9%8B%E5%8F%98%E9%87%8F"><span class="toc-number">8.</span> <span class="toc-text">八、MySQL之变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="toc-number">8.0.1.</span> <span class="toc-text">一、系统变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-number">8.0.1.1.</span> <span class="toc-text">1、全局变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E4%BC%9A%E8%AF%9D%E5%8F%98%E9%87%8F"><span class="toc-number">8.0.1.2.</span> <span class="toc-text">2、会话变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">8.0.2.</span> <span class="toc-text">二、自定义变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E7%94%A8%E6%88%B7%E5%8F%98%E9%87%8F"><span class="toc-number">8.0.2.1.</span> <span class="toc-text">1、用户变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F"><span class="toc-number">8.0.2.2.</span> <span class="toc-text">2、局部变量</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B9%9D%E3%80%81MySQL%E4%B9%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">9.</span> <span class="toc-text">九、MySQL之存储过程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">9.0.1.</span> <span class="toc-text">什么是存储过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">9.0.2.</span> <span class="toc-text">存储过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA"><span class="toc-number">9.0.2.1.</span> <span class="toc-text">一、创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E8%B0%83%E7%94%A8"><span class="toc-number">9.0.2.2.</span> <span class="toc-text">二、调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%9F%A5%E7%9C%8B"><span class="toc-number">9.0.2.3.</span> <span class="toc-text">三、查看</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E3%80%81MySQL%E4%B9%8B%E5%87%BD%E6%95%B0"><span class="toc-number">10.</span> <span class="toc-text">十、MySQL之函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%87%BD%E6%95%B0"><span class="toc-number">10.0.1.</span> <span class="toc-text">什么是函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">10.0.2.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%88%9B%E5%BB%BA-1"><span class="toc-number">10.0.2.1.</span> <span class="toc-text">一、创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E8%B0%83%E7%94%A8-1"><span class="toc-number">10.0.2.2.</span> <span class="toc-text">二、调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%9F%A5%E7%9C%8B-1"><span class="toc-number">10.0.2.3.</span> <span class="toc-text">三、查看</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%88%A0%E9%99%A4"><span class="toc-number">10.0.2.4.</span> <span class="toc-text">四、删除</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81MySQL%E4%B9%8B%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E7%BB%93%E6%9E%84"><span class="toc-number">11.</span> <span class="toc-text">十一、MySQL之流程控制结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E7%BB%93%E6%9E%84"><span class="toc-number">11.0.1.</span> <span class="toc-text">顺序结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84"><span class="toc-number">11.0.2.</span> <span class="toc-text">分支结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81if%E5%87%BD%E6%95%B0"><span class="toc-number">11.0.2.1.</span> <span class="toc-text">1、if函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81case%E7%BB%93%E6%9E%84"><span class="toc-number">11.0.2.2.</span> <span class="toc-text">2、case结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81if%E7%BB%93%E6%9E%84"><span class="toc-number">11.0.2.3.</span> <span class="toc-text">3、if结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="toc-number">11.0.3.</span> <span class="toc-text">循环结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81while"><span class="toc-number">11.0.3.1.</span> <span class="toc-text">1、while</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81loop"><span class="toc-number">11.0.3.2.</span> <span class="toc-text">2、loop</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81repeat"><span class="toc-number">11.0.3.3.</span> <span class="toc-text">3、repeat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">11.0.3.4.</span> <span class="toc-text">4、循环控制语句</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81MySQL%E7%B4%A2%E5%BC%95%E8%AF%A6%E8%A7%A3"><span class="toc-number">12.</span> <span class="toc-text">十二、MySQL索引详解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E7%B4%A2%E5%BC%95%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%BB%BA%E7%AB%8B%E7%B4%A2%E5%BC%95%EF%BC%9F"><span class="toc-number">12.1.</span> <span class="toc-text">一、什么是索引？为什么要建立索引？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81MySQL%E4%B8%AD%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%E5%8F%8A%E4%BD%BF%E7%94%A8%E5%8E%9F%E5%88%99"><span class="toc-number">12.2.</span> <span class="toc-text">二、MySQL中索引的优缺点及使用原则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81Explain%E6%89%A7%E8%A1%8C%E5%99%A8%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A"><span class="toc-number">12.3.</span> <span class="toc-text">三、Explain执行器名词解释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">12.4.</span> <span class="toc-text">四、索引的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81-%E6%99%AE%E9%80%9A%E7%B4%A2%E5%BC%95"><span class="toc-number">12.4.1.</span> <span class="toc-text">1、 普通索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81-%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95"><span class="toc-number">12.4.2.</span> <span class="toc-text">2、 唯一索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81-%E4%B8%BB%E9%94%AE%E7%B4%A2%E5%BC%95"><span class="toc-number">12.4.3.</span> <span class="toc-text">3、 主键索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81-%E7%BB%84%E5%90%88%E7%B4%A2%E5%BC%95"><span class="toc-number">12.4.4.</span> <span class="toc-text">4、 组合索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95"><span class="toc-number">12.4.5.</span> <span class="toc-text">5、全文索引</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/8197/" title="漫画爬虫"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/UpPictures/UpCover/spider.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="漫画爬虫"/></a><div class="content"><a class="title" href="/posts/8197/" title="漫画爬虫">漫画爬虫</a><time datetime="2023-08-10T04:29:08.000Z" title="发表于 2023-08-10 12:29:08">2023-08-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/8009/" title="视频爬虫"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/UpPictures/UpCover/spider.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="视频爬虫"/></a><div class="content"><a class="title" href="/posts/8009/" title="视频爬虫">视频爬虫</a><time datetime="2023-08-07T04:29:08.000Z" title="发表于 2023-08-07 12:29:08">2023-08-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/24274/" title="网易云音乐爬虫"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/UpPictures/UpCover/spider.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="网易云音乐爬虫"/></a><div class="content"><a class="title" href="/posts/24274/" title="网易云音乐爬虫">网易云音乐爬虫</a><time datetime="2023-08-05T04:29:08.000Z" title="发表于 2023-08-05 12:29:08">2023-08-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/40066/" title="小说爬虫"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/UpPictures/UpCover/spider.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="小说爬虫"/></a><div class="content"><a class="title" href="/posts/40066/" title="小说爬虫">小说爬虫</a><time datetime="2023-08-01T04:29:08.000Z" title="发表于 2023-08-01 12:29:08">2023-08-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/63815/" title="百度图片爬虫"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/UpPictures/UpCover/spider.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="百度图片爬虫"/></a><div class="content"><a class="title" href="/posts/63815/" title="百度图片爬虫">百度图片爬虫</a><time datetime="2023-07-29T04:29:08.000Z" title="发表于 2023-07-29 12:29:08">2023-07-29</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 茶白</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const disqus_config = function () {
    this.page.url = 'https://chabai000.github.io/posts/57545/'
    this.page.identifier = '/posts/57545/'
    this.page.title = 'mysql详细版'
  }

  const disqusReset = () => {
    window.DISQUS && window.DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  btf.addGlobalFn('themeChange', disqusReset, 'disqus')

  const loadDisqus = () =>{
    if (window.DISQUS) disqusReset()
    else {
      const script = document.createElement('script')
      script.src = 'https://lchabai.disqus.com/embed.js'
      script.setAttribute('data-timestamp', +new Date())
      document.head.appendChild(script)
    }
  }

  const getCount = async() => {
    try {
      const eleGroup = document.querySelector('#post-meta .disqus-comment-count')
      if (!eleGroup) return
      const cleanedLinks = eleGroup.href.replace(/#post-comment$/, '')

      const res = await fetch(`https://disqus.com/api/3.0/threads/set.json?forum=lchabai&api_key=&thread:link=${cleanedLinks}`,{
        method: 'GET'
      })
      const result = await res.json()

      const count = result.response.length ? result.response[0].posts : 0
      eleGroup.textContent = count
    } catch (err) {
      console.error(err)
    }
  }

  if ('Disqus' === 'Disqus' || !true) {
    if (true) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
    else {
      loadDisqus()
      
    }
  } else {
    window.loadOtherComment = loadDisqus
  }
})()</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<code>.*?<\/code>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    fetch('https://disqus.com/api/3.0/forums/listPosts.json?forum=lchabai&related=thread&limit=6&api_key=')
      .then(response => response.json())
      .then(data => {
        const disqusArray = data.response.map(item => {
          return {
            'avatar': item.author.avatar.cache,
            'content': changeContent(item.message),
            'nick': item.author.name,
            'url': item.url,
            'date': item.createdAt
          }
        })

        saveToLocal.set('disqus-newest-comments', JSON.stringify(disqusArray), 10/(60*24))
        generateHtml(disqusArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (false) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick}</span><time> / ${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('disqus-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="aplayer no-destroy" data-id="9310458102" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" data-lrcType="0"> </div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="false" data-text="I,LOVE,YOU" data-fontsize="15px" data-random="false" async="async"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>